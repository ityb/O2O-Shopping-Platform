2018-01-30 23:49:26.865  INFO 6476 --- [main] com.ityb.qugou.JobAppliction             : No active profile set, falling back to default profiles: default
2018-01-30 23:49:26.915  INFO 6476 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@340b9973: startup date [Tue Jan 30 23:49:26 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@6989da5e
2018-01-30 23:49:29.081  INFO 6476 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-01-30 23:49:29.898  INFO 6476 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=3800a72b-da64-3284-b148-d736c1750848
2018-01-30 23:49:29.963  INFO 6476 --- [main] f.a.AutowiredAnnotationBeanPostProcessor : JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2018-01-30 23:49:30.301  INFO 6476 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'mybatis-org.mybatis.spring.boot.autoconfigure.MybatisProperties' of type [org.mybatis.spring.boot.autoconfigure.MybatisProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-01-30 23:49:30.307  INFO 6476 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.mybatis.spring.boot.autoconfigure.MybatisAutoConfiguration' of type [org.mybatis.spring.boot.autoconfigure.MybatisAutoConfiguration$$EnhancerBySpringCGLIB$$77d0a37a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-01-30 23:49:30.320  INFO 6476 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Tomcat' of type [org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Tomcat] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-01-30 23:49:30.369  INFO 6476 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties' of type [org.springframework.boot.autoconfigure.jdbc.DataSourceProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-01-30 23:49:30.685  INFO 6476 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'dataSource' of type [org.apache.tomcat.jdbc.pool.DataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-01-30 23:49:31.017  INFO 6476 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'sqlSessionFactory' of type [org.apache.ibatis.session.defaults.DefaultSqlSessionFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-01-30 23:49:31.046  INFO 6476 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'sqlSessionTemplate' of type [org.mybatis.spring.SqlSessionTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-01-30 23:49:31.048  INFO 6476 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'baseMapper' of type [org.mybatis.spring.mapper.MapperFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-01-30 23:49:31.414  INFO 6476 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$44fc524a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-01-30 23:49:31.951  INFO 6476 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$61165547] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-01-30 23:49:33.390  INFO 6476 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8005 (http)
2018-01-30 23:49:33.427  INFO 6476 --- [main] o.apache.catalina.core.StandardService   : Starting service Tomcat
2018-01-30 23:49:33.430  INFO 6476 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.11
2018-01-30 23:49:34.082  INFO 6476 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-01-30 23:49:34.085  INFO 6476 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 7169 ms
2018-01-30 23:49:34.853  INFO 6476 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-01-30 23:49:34.867  INFO 6476 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-01-30 23:49:34.868  INFO 6476 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-01-30 23:49:34.869  INFO 6476 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-01-30 23:49:34.870  INFO 6476 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-01-30 23:49:35.968  INFO 6476 --- [main] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor
2018-01-30 23:49:36.016  INFO 6476 --- [main] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2018-01-30 23:49:36.017  INFO 6476 --- [main] org.quartz.core.QuartzScheduler          : Quartz Scheduler v.2.2.3 created.
2018-01-30 23:49:36.020  INFO 6476 --- [main] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.
2018-01-30 23:49:36.023  INFO 6476 --- [main] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.2.3) 'schedulerFactoryBean' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2018-01-30 23:49:36.024  INFO 6476 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'schedulerFactoryBean' initialized from an externally provided properties instance.
2018-01-30 23:49:36.024  INFO 6476 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.2.3
2018-01-30 23:49:36.031  INFO 6476 --- [main] org.quartz.core.QuartzScheduler          : JobFactory set to: org.springframework.scheduling.quartz.AdaptableJobFactory@5e26f1ed
2018-01-30 23:49:39.361  INFO 6476 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@340b9973: startup date [Tue Jan 30 23:49:26 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@6989da5e
2018-01-30 23:49:39.800  INFO 6476 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-01-30 23:49:39.803  INFO 6476 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-01-30 23:49:40.057  INFO 6476 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-01-30 23:49:40.057  INFO 6476 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-01-30 23:49:40.239  INFO 6476 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-01-30 23:49:43.020  WARN 6476 --- [main] c.n.c.sources.URLConfigurationSource     : No URLs will be polled as dynamic configuration sources.
2018-01-30 23:49:43.021  INFO 6476 --- [main] c.n.c.sources.URLConfigurationSource     : To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2018-01-30 23:49:43.041  WARN 6476 --- [main] c.n.c.sources.URLConfigurationSource     : No URLs will be polled as dynamic configuration sources.
2018-01-30 23:49:43.042  INFO 6476 --- [main] c.n.c.sources.URLConfigurationSource     : To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2018-01-30 23:49:43.583  INFO 6476 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-01-30 23:49:43.605  INFO 6476 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'environmentManager' has been autodetected for JMX exposure
2018-01-30 23:49:43.610  INFO 6476 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'configurationPropertiesRebinder' has been autodetected for JMX exposure
2018-01-30 23:49:43.612  INFO 6476 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'refreshScope' has been autodetected for JMX exposure
2018-01-30 23:49:43.622  INFO 6476 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'environmentManager': registering with JMX server as MBean [org.springframework.cloud.context.environment:name=environmentManager,type=EnvironmentManager]
2018-01-30 23:49:43.672  INFO 6476 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'refreshScope': registering with JMX server as MBean [org.springframework.cloud.context.scope.refresh:name=refreshScope,type=RefreshScope]
2018-01-30 23:49:43.707  INFO 6476 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'configurationPropertiesRebinder': registering with JMX server as MBean [org.springframework.cloud.context.properties:name=configurationPropertiesRebinder,context=340b9973,type=ConfigurationPropertiesRebinder]
2018-01-30 23:49:44.060  INFO 6476 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 0
2018-01-30 23:49:44.088  INFO 6476 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2018-01-30 23:49:44.238  INFO 6476 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2018-01-30 23:49:44.738  INFO 6476 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON encoding codec LegacyJacksonJson
2018-01-30 23:49:44.740  INFO 6476 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON decoding codec LegacyJacksonJson
2018-01-30 23:49:45.111  INFO 6476 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML encoding codec XStreamXml
2018-01-30 23:49:45.111  INFO 6476 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML decoding codec XStreamXml
2018-01-30 23:49:45.894  INFO 6476 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-01-30 23:49:46.241  INFO 6476 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2018-01-30 23:49:46.242  INFO 6476 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2018-01-30 23:49:46.243  INFO 6476 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2018-01-30 23:49:46.245  INFO 6476 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2018-01-30 23:49:46.245  INFO 6476 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2018-01-30 23:49:46.245  INFO 6476 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2018-01-30 23:49:46.246  INFO 6476 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2018-01-30 23:49:46.744  INFO 6476 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2018-01-30 23:49:46.750  INFO 6476 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2018-01-30 23:49:46.760  INFO 6476 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2018-01-30 23:49:46.768  INFO 6476 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1517327386768 with initial instances count: 1
2018-01-30 23:49:46.996  INFO 6476 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application job-service with eureka with status UP
2018-01-30 23:49:47.000  INFO 6476 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1517327386999, current=UP, previous=STARTING]
2018-01-30 23:49:47.005  INFO 6476 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_JOB-SERVICE/192.168.0.107:job-service:8005: registering service...
2018-01-30 23:49:47.006  INFO 6476 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2018-01-30 23:49:47.006  INFO 6476 --- [main] o.s.s.quartz.SchedulerFactoryBean        : Starting Quartz Scheduler now
2018-01-30 23:49:47.010  INFO 6476 --- [main] org.quartz.core.QuartzScheduler          : Scheduler schedulerFactoryBean_$_NON_CLUSTERED started.
2018-01-30 23:49:47.072  INFO 6476 --- [main] s.a.ScheduledAnnotationBeanPostProcessor : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2018-01-30 23:49:47.158  INFO 6476 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_JOB-SERVICE/192.168.0.107:job-service:8005 - registration status: 204
2018-01-30 23:49:47.349  INFO 6476 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8005 (http)
2018-01-30 23:49:47.352  INFO 6476 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 8005
2018-01-30 23:49:47.366  INFO 6476 --- [main] com.ityb.qugou.JobAppliction             : Started JobAppliction in 25.003 seconds (JVM running for 26.21)
2018-02-06 23:20:04.277  INFO 8236 --- [main] com.ityb.qugou.JobAppliction             : No active profile set, falling back to default profiles: default
2018-02-06 23:20:04.402  INFO 8236 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@5560bcdf: startup date [Tue Feb 06 23:20:04 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@54e7df6a
2018-02-06 23:20:06.903  INFO 8236 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-02-06 23:20:07.844  INFO 8236 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=55222580-9def-3cd5-9bc7-ffa857361689
2018-02-06 23:20:07.922  INFO 8236 --- [main] f.a.AutowiredAnnotationBeanPostProcessor : JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2018-02-06 23:20:08.146  INFO 8236 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'mybatis-org.mybatis.spring.boot.autoconfigure.MybatisProperties' of type [org.mybatis.spring.boot.autoconfigure.MybatisProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-02-06 23:20:08.162  INFO 8236 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.mybatis.spring.boot.autoconfigure.MybatisAutoConfiguration' of type [org.mybatis.spring.boot.autoconfigure.MybatisAutoConfiguration$$EnhancerBySpringCGLIB$$fc9291ea] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-02-06 23:20:08.178  INFO 8236 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Tomcat' of type [org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Tomcat] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-02-06 23:20:08.226  INFO 8236 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties' of type [org.springframework.boot.autoconfigure.jdbc.DataSourceProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-02-06 23:20:08.554  INFO 8236 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'dataSource' of type [org.apache.tomcat.jdbc.pool.DataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-02-06 23:20:08.943  INFO 8236 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'sqlSessionFactory' of type [org.apache.ibatis.session.defaults.DefaultSqlSessionFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-02-06 23:20:08.992  INFO 8236 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'sqlSessionTemplate' of type [org.mybatis.spring.SqlSessionTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-02-06 23:20:08.995  INFO 8236 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'baseMapper' of type [org.mybatis.spring.mapper.MapperFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-02-06 23:20:09.568  INFO 8236 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$c9be40ba] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-02-06 23:20:10.301  INFO 8236 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$e5d843b7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-02-06 23:20:12.169  INFO 8236 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8005 (http)
2018-02-06 23:20:12.236  INFO 8236 --- [main] o.apache.catalina.core.StandardService   : Starting service Tomcat
2018-02-06 23:20:12.239  INFO 8236 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.11
2018-02-06 23:20:12.719  INFO 8236 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-02-06 23:20:12.719  INFO 8236 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 8317 ms
2018-02-06 23:20:13.656  INFO 8236 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-02-06 23:20:13.672  INFO 8236 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-02-06 23:20:13.672  INFO 8236 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-02-06 23:20:13.672  INFO 8236 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-02-06 23:20:13.672  INFO 8236 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-02-06 23:20:15.005  INFO 8236 --- [main] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor
2018-02-06 23:20:15.079  INFO 8236 --- [main] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2018-02-06 23:20:15.079  INFO 8236 --- [main] org.quartz.core.QuartzScheduler          : Quartz Scheduler v.2.2.3 created.
2018-02-06 23:20:15.085  INFO 8236 --- [main] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.
2018-02-06 23:20:15.092  INFO 8236 --- [main] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.2.3) 'schedulerFactoryBean' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2018-02-06 23:20:15.094  INFO 8236 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'schedulerFactoryBean' initialized from an externally provided properties instance.
2018-02-06 23:20:15.102  INFO 8236 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.2.3
2018-02-06 23:20:15.112  INFO 8236 --- [main] org.quartz.core.QuartzScheduler          : JobFactory set to: org.springframework.scheduling.quartz.AdaptableJobFactory@46524ebe
2018-02-06 23:20:18.979  INFO 8236 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@5560bcdf: startup date [Tue Feb 06 23:20:04 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@54e7df6a
2018-02-06 23:20:19.437  INFO 8236 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-02-06 23:20:19.437  INFO 8236 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-02-06 23:20:19.780  INFO 8236 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-02-06 23:20:19.780  INFO 8236 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-02-06 23:20:20.020  INFO 8236 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-02-06 23:20:23.412  WARN 8236 --- [main] c.n.c.sources.URLConfigurationSource     : No URLs will be polled as dynamic configuration sources.
2018-02-06 23:20:23.412  INFO 8236 --- [main] c.n.c.sources.URLConfigurationSource     : To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2018-02-06 23:20:23.427  WARN 8236 --- [main] c.n.c.sources.URLConfigurationSource     : No URLs will be polled as dynamic configuration sources.
2018-02-06 23:20:23.427  INFO 8236 --- [main] c.n.c.sources.URLConfigurationSource     : To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2018-02-06 23:20:24.594  INFO 8236 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-02-06 23:20:24.626  INFO 8236 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'environmentManager' has been autodetected for JMX exposure
2018-02-06 23:20:24.626  INFO 8236 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'configurationPropertiesRebinder' has been autodetected for JMX exposure
2018-02-06 23:20:24.626  INFO 8236 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'refreshScope' has been autodetected for JMX exposure
2018-02-06 23:20:24.642  INFO 8236 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'environmentManager': registering with JMX server as MBean [org.springframework.cloud.context.environment:name=environmentManager,type=EnvironmentManager]
2018-02-06 23:20:24.690  INFO 8236 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'refreshScope': registering with JMX server as MBean [org.springframework.cloud.context.scope.refresh:name=refreshScope,type=RefreshScope]
2018-02-06 23:20:24.752  INFO 8236 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'configurationPropertiesRebinder': registering with JMX server as MBean [org.springframework.cloud.context.properties:name=configurationPropertiesRebinder,context=5560bcdf,type=ConfigurationPropertiesRebinder]
2018-02-06 23:20:25.301  INFO 8236 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 0
2018-02-06 23:20:25.333  INFO 8236 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2018-02-06 23:20:25.535  INFO 8236 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2018-02-06 23:20:26.232  INFO 8236 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON encoding codec LegacyJacksonJson
2018-02-06 23:20:26.232  INFO 8236 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON decoding codec LegacyJacksonJson
2018-02-06 23:20:26.599  INFO 8236 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML encoding codec XStreamXml
2018-02-06 23:20:26.599  INFO 8236 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML decoding codec XStreamXml
2018-02-06 23:20:27.783  INFO 8236 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-02-06 23:20:28.119  INFO 8236 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2018-02-06 23:20:28.119  INFO 8236 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2018-02-06 23:20:28.119  INFO 8236 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2018-02-06 23:20:28.119  INFO 8236 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2018-02-06 23:20:28.119  INFO 8236 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2018-02-06 23:20:28.119  INFO 8236 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2018-02-06 23:20:28.119  INFO 8236 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2018-02-06 23:20:28.462  INFO 8236 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2018-02-06 23:20:28.462  INFO 8236 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2018-02-06 23:20:28.478  INFO 8236 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2018-02-06 23:20:28.478  INFO 8236 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1517930428478 with initial instances count: 2
2018-02-06 23:20:28.696  INFO 8236 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application job-service with eureka with status UP
2018-02-06 23:20:28.696  INFO 8236 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1517930428696, current=UP, previous=STARTING]
2018-02-06 23:20:28.696  INFO 8236 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_JOB-SERVICE/192.168.0.101:job-service:8005: registering service...
2018-02-06 23:20:28.696  INFO 8236 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2018-02-06 23:20:28.696  INFO 8236 --- [main] o.s.s.quartz.SchedulerFactoryBean        : Starting Quartz Scheduler now
2018-02-06 23:20:28.696  INFO 8236 --- [main] org.quartz.core.QuartzScheduler          : Scheduler schedulerFactoryBean_$_NON_CLUSTERED started.
2018-02-06 23:20:28.743  INFO 8236 --- [main] s.a.ScheduledAnnotationBeanPostProcessor : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2018-02-06 23:20:28.852  INFO 8236 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_JOB-SERVICE/192.168.0.101:job-service:8005 - registration status: 204
2018-02-06 23:20:28.965  INFO 8236 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8005 (http)
2018-02-06 23:20:28.965  INFO 8236 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 8005
2018-02-06 23:20:28.981  INFO 8236 --- [main] com.ityb.qugou.JobAppliction             : Started JobAppliction in 32.995 seconds (JVM running for 34.481)
2018-02-06 23:28:26.507  INFO 9912 --- [main] com.ityb.qugou.JobAppliction             : No active profile set, falling back to default profiles: default
2018-02-06 23:28:26.585  INFO 9912 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@5aae8eb5: startup date [Tue Feb 06 23:28:26 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@54e7df6a
2018-02-06 23:28:28.929  INFO 9912 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-02-06 23:28:29.934  INFO 9912 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=55222580-9def-3cd5-9bc7-ffa857361689
2018-02-06 23:28:30.012  INFO 9912 --- [main] f.a.AutowiredAnnotationBeanPostProcessor : JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2018-02-06 23:28:30.435  INFO 9912 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'mybatis-org.mybatis.spring.boot.autoconfigure.MybatisProperties' of type [org.mybatis.spring.boot.autoconfigure.MybatisProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-02-06 23:28:30.435  INFO 9912 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.mybatis.spring.boot.autoconfigure.MybatisAutoConfiguration' of type [org.mybatis.spring.boot.autoconfigure.MybatisAutoConfiguration$$EnhancerBySpringCGLIB$$7067cce7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-02-06 23:28:30.451  INFO 9912 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Tomcat' of type [org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Tomcat] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-02-06 23:28:30.513  INFO 9912 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties' of type [org.springframework.boot.autoconfigure.jdbc.DataSourceProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-02-06 23:28:30.833  INFO 9912 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'dataSource' of type [org.apache.tomcat.jdbc.pool.DataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-02-06 23:28:31.200  INFO 9912 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'sqlSessionFactory' of type [org.apache.ibatis.session.defaults.DefaultSqlSessionFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-02-06 23:28:31.233  INFO 9912 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'sqlSessionTemplate' of type [org.mybatis.spring.SqlSessionTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-02-06 23:28:31.248  INFO 9912 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'baseMapper' of type [org.mybatis.spring.mapper.MapperFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-02-06 23:28:31.716  INFO 9912 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$3d937bb7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-02-06 23:28:32.499  INFO 9912 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$59ad7eb4] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-02-06 23:28:34.328  INFO 9912 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8005 (http)
2018-02-06 23:28:34.360  INFO 9912 --- [main] o.apache.catalina.core.StandardService   : Starting service Tomcat
2018-02-06 23:28:34.360  INFO 9912 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.11
2018-02-06 23:28:34.781  INFO 9912 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-02-06 23:28:34.781  INFO 9912 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 8196 ms
2018-02-06 23:28:35.649  INFO 9912 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-02-06 23:28:35.665  INFO 9912 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-02-06 23:28:35.665  INFO 9912 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-02-06 23:28:35.665  INFO 9912 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-02-06 23:28:35.665  INFO 9912 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-02-06 23:28:37.110  INFO 9912 --- [main] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor
2018-02-06 23:28:37.189  INFO 9912 --- [main] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2018-02-06 23:28:37.189  INFO 9912 --- [main] org.quartz.core.QuartzScheduler          : Quartz Scheduler v.2.2.3 created.
2018-02-06 23:28:37.189  INFO 9912 --- [main] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.
2018-02-06 23:28:37.205  INFO 9912 --- [main] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.2.3) 'schedulerFactoryBean' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2018-02-06 23:28:37.205  INFO 9912 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'schedulerFactoryBean' initialized from an externally provided properties instance.
2018-02-06 23:28:37.205  INFO 9912 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.2.3
2018-02-06 23:28:37.220  INFO 9912 --- [main] org.quartz.core.QuartzScheduler          : JobFactory set to: org.springframework.scheduling.quartz.AdaptableJobFactory@4c030fe1
2018-02-06 23:28:40.969  INFO 9912 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@5aae8eb5: startup date [Tue Feb 06 23:28:26 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@54e7df6a
2018-02-06 23:28:41.329  INFO 9912 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-02-06 23:28:41.344  INFO 9912 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-02-06 23:28:41.656  INFO 9912 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-02-06 23:28:41.672  INFO 9912 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-02-06 23:28:41.890  INFO 9912 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-02-06 23:28:45.225  WARN 9912 --- [main] c.n.c.sources.URLConfigurationSource     : No URLs will be polled as dynamic configuration sources.
2018-02-06 23:28:45.225  INFO 9912 --- [main] c.n.c.sources.URLConfigurationSource     : To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2018-02-06 23:28:45.240  WARN 9912 --- [main] c.n.c.sources.URLConfigurationSource     : No URLs will be polled as dynamic configuration sources.
2018-02-06 23:28:45.240  INFO 9912 --- [main] c.n.c.sources.URLConfigurationSource     : To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2018-02-06 23:28:46.401  INFO 9912 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-02-06 23:28:46.433  INFO 9912 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'environmentManager' has been autodetected for JMX exposure
2018-02-06 23:28:46.449  INFO 9912 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'configurationPropertiesRebinder' has been autodetected for JMX exposure
2018-02-06 23:28:46.449  INFO 9912 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'refreshScope' has been autodetected for JMX exposure
2018-02-06 23:28:46.542  INFO 9912 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'environmentManager': registering with JMX server as MBean [org.springframework.cloud.context.environment:name=environmentManager,type=EnvironmentManager]
2018-02-06 23:28:46.605  INFO 9912 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'refreshScope': registering with JMX server as MBean [org.springframework.cloud.context.scope.refresh:name=refreshScope,type=RefreshScope]
2018-02-06 23:28:46.651  INFO 9912 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'configurationPropertiesRebinder': registering with JMX server as MBean [org.springframework.cloud.context.properties:name=configurationPropertiesRebinder,context=5aae8eb5,type=ConfigurationPropertiesRebinder]
2018-02-06 23:28:47.050  INFO 9912 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 0
2018-02-06 23:28:47.081  INFO 9912 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2018-02-06 23:28:47.284  INFO 9912 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2018-02-06 23:28:47.799  INFO 9912 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON encoding codec LegacyJacksonJson
2018-02-06 23:28:47.799  INFO 9912 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON decoding codec LegacyJacksonJson
2018-02-06 23:28:48.220  INFO 9912 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML encoding codec XStreamXml
2018-02-06 23:28:48.220  INFO 9912 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML decoding codec XStreamXml
2018-02-06 23:28:49.343  INFO 9912 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-02-06 23:28:49.624  INFO 9912 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2018-02-06 23:28:49.624  INFO 9912 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2018-02-06 23:28:49.624  INFO 9912 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2018-02-06 23:28:49.624  INFO 9912 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2018-02-06 23:28:49.624  INFO 9912 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2018-02-06 23:28:49.624  INFO 9912 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2018-02-06 23:28:49.624  INFO 9912 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2018-02-06 23:28:50.056  INFO 9912 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2018-02-06 23:28:50.072  INFO 9912 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2018-02-06 23:28:50.072  INFO 9912 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2018-02-06 23:28:50.087  INFO 9912 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1517930930087 with initial instances count: 1
2018-02-06 23:28:50.337  INFO 9912 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application job-service with eureka with status UP
2018-02-06 23:28:50.337  INFO 9912 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1517930930337, current=UP, previous=STARTING]
2018-02-06 23:28:50.352  INFO 9912 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_JOB-SERVICE/192.168.0.101:job-service:8005: registering service...
2018-02-06 23:28:50.352  INFO 9912 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2018-02-06 23:28:50.352  INFO 9912 --- [main] o.s.s.quartz.SchedulerFactoryBean        : Starting Quartz Scheduler now
2018-02-06 23:28:50.352  INFO 9912 --- [main] org.quartz.core.QuartzScheduler          : Scheduler schedulerFactoryBean_$_NON_CLUSTERED started.
2018-02-06 23:28:50.384  INFO 9912 --- [main] s.a.ScheduledAnnotationBeanPostProcessor : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2018-02-06 23:28:50.488  INFO 9912 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_JOB-SERVICE/192.168.0.101:job-service:8005 - registration status: 204
2018-02-06 23:28:50.622  INFO 9912 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8005 (http)
2018-02-06 23:28:50.622  INFO 9912 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 8005
2018-02-06 23:28:50.653  INFO 9912 --- [main] com.ityb.qugou.JobAppliction             : Started JobAppliction in 31.943 seconds (JVM running for 33.318)
2018-03-03 09:37:21.295  INFO 9752 --- [main] c.c.c.ConfigServicePropertySourceLocator : Fetching config from server at: http://localhost:1001/
2018-03-03 09:37:28.048  INFO 9752 --- [main] c.c.c.ConfigServicePropertySourceLocator : Located environment: name=job-service, profiles=[local,resources], label=master, version=null, state=null
2018-03-03 09:37:28.050  INFO 9752 --- [main] b.c.PropertySourceBootstrapConfiguration : Located property source: CompositePropertySource [name='configService', propertySources=[MapPropertySource [name='classpath:/properties/job-service-local.properties']]]
2018-03-03 09:37:28.286  INFO 9752 --- [main] com.ityb.qugou.JobAppliction             : No active profile set, falling back to default profiles: default
2018-03-03 09:37:28.424  INFO 9752 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@4fcc0416: startup date [Sat Mar 03 09:37:28 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@32c726ee
2018-03-03 09:37:28.489  WARN 9752 --- [main] ationConfigEmbeddedWebApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.ityb.qugou.JobAppliction]; nested exception is java.io.FileNotFoundException: class path resource [resources.properties] cannot be opened because it does not exist
2018-03-03 09:37:28.499 ERROR 9752 --- [main] o.s.b.f.s.DefaultListableBeanFactory     : Destroy method on bean with name 'org.springframework.boot.autoconfigure.internalCachingMetadataReaderFactory' threw an exception

java.lang.IllegalStateException: ApplicationEventMulticaster not initialized - call 'refresh' before multicasting events via the context: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@4fcc0416: startup date [Sat Mar 03 09:37:28 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@32c726ee
	at org.springframework.context.support.AbstractApplicationContext.getApplicationEventMulticaster(AbstractApplicationContext.java:404)
	at org.springframework.context.support.ApplicationListenerDetector.postProcessBeforeDestruction(ApplicationListenerDetector.java:97)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:253)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:578)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:554)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:961)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:523)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:968)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1033)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:555)
	at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:314)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1162)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1151)
	at com.ityb.qugou.JobAppliction.main(JobAppliction.java:15)

2018-03-03 09:37:28.574 ERROR 9752 --- [main] o.s.boot.SpringApplication               : Application startup failed

org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.ityb.qugou.JobAppliction]; nested exception is java.io.FileNotFoundException: class path resource [resources.properties] cannot be opened because it does not exist
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:180)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:308)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:228)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:270)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:93)
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:686)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:524)
	at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:314)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1162)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1151)
	at com.ityb.qugou.JobAppliction.main(JobAppliction.java:15)
Caused by: java.io.FileNotFoundException: class path resource [resources.properties] cannot be opened because it does not exist
	at org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:172)
	at org.springframework.core.io.support.EncodedResource.getInputStream(EncodedResource.java:154)
	at org.springframework.core.io.support.PropertiesLoaderUtils.fillProperties(PropertiesLoaderUtils.java:98)
	at org.springframework.core.io.support.PropertiesLoaderUtils.fillProperties(PropertiesLoaderUtils.java:72)
	at org.springframework.core.io.support.PropertiesLoaderUtils.loadProperties(PropertiesLoaderUtils.java:58)
	at org.springframework.core.io.support.ResourcePropertySource.<init>(ResourcePropertySource.java:65)
	at org.springframework.core.io.support.DefaultPropertySourceFactory.createPropertySource(DefaultPropertySourceFactory.java:36)
	at org.springframework.context.annotation.ConfigurationClassParser.processPropertySource(ConfigurationClassParser.java:434)
	at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:267)
	at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:244)
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:197)
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:166)
	... 13 common frames omitted

2018-03-03 09:54:49.154  INFO 2080 --- [main] c.c.c.ConfigServicePropertySourceLocator : Fetching config from server at: http://localhost:1001/
2018-03-03 09:54:51.898  INFO 2080 --- [main] c.c.c.ConfigServicePropertySourceLocator : Located environment: name=job-service, profiles=[local,resources], label=master, version=null, state=null
2018-03-03 09:54:51.899  INFO 2080 --- [main] b.c.PropertySourceBootstrapConfiguration : Located property source: CompositePropertySource [name='configService', propertySources=[MapPropertySource [name='classpath:/properties/job-service-local.properties']]]
2018-03-03 09:54:52.005  INFO 2080 --- [main] com.ityb.qugou.JobAppliction             : No active profile set, falling back to default profiles: default
2018-03-03 09:54:52.085  INFO 2080 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@2b4c3c29: startup date [Sat Mar 03 09:54:52 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@77128536
2018-03-03 09:54:52.127  WARN 2080 --- [main] ationConfigEmbeddedWebApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.ityb.qugou.JobAppliction]; nested exception is java.io.FileNotFoundException: class path resource [resources.properties] cannot be opened because it does not exist
2018-03-03 09:54:52.134 ERROR 2080 --- [main] o.s.b.f.s.DefaultListableBeanFactory     : Destroy method on bean with name 'org.springframework.boot.autoconfigure.internalCachingMetadataReaderFactory' threw an exception

java.lang.IllegalStateException: ApplicationEventMulticaster not initialized - call 'refresh' before multicasting events via the context: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@2b4c3c29: startup date [Sat Mar 03 09:54:52 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@77128536
	at org.springframework.context.support.AbstractApplicationContext.getApplicationEventMulticaster(AbstractApplicationContext.java:404)
	at org.springframework.context.support.ApplicationListenerDetector.postProcessBeforeDestruction(ApplicationListenerDetector.java:97)
	at org.springframework.beans.factory.support.DisposableBeanAdapter.destroy(DisposableBeanAdapter.java:253)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroyBean(DefaultSingletonBeanRegistry.java:578)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingleton(DefaultSingletonBeanRegistry.java:554)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingleton(DefaultListableBeanFactory.java:961)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.destroySingletons(DefaultSingletonBeanRegistry.java:523)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.destroySingletons(DefaultListableBeanFactory.java:968)
	at org.springframework.context.support.AbstractApplicationContext.destroyBeans(AbstractApplicationContext.java:1033)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:555)
	at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:314)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1162)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1151)
	at com.ityb.qugou.JobAppliction.main(JobAppliction.java:15)

2018-03-03 09:54:52.155 ERROR 2080 --- [main] o.s.boot.SpringApplication               : Application startup failed

org.springframework.beans.factory.BeanDefinitionStoreException: Failed to parse configuration class [com.ityb.qugou.JobAppliction]; nested exception is java.io.FileNotFoundException: class path resource [resources.properties] cannot be opened because it does not exist
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:180)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.processConfigBeanDefinitions(ConfigurationClassPostProcessor.java:308)
	at org.springframework.context.annotation.ConfigurationClassPostProcessor.postProcessBeanDefinitionRegistry(ConfigurationClassPostProcessor.java:228)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanDefinitionRegistryPostProcessors(PostProcessorRegistrationDelegate.java:270)
	at org.springframework.context.support.PostProcessorRegistrationDelegate.invokeBeanFactoryPostProcessors(PostProcessorRegistrationDelegate.java:93)
	at org.springframework.context.support.AbstractApplicationContext.invokeBeanFactoryPostProcessors(AbstractApplicationContext.java:686)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:524)
	at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:314)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1162)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1151)
	at com.ityb.qugou.JobAppliction.main(JobAppliction.java:15)
Caused by: java.io.FileNotFoundException: class path resource [resources.properties] cannot be opened because it does not exist
	at org.springframework.core.io.ClassPathResource.getInputStream(ClassPathResource.java:172)
	at org.springframework.core.io.support.EncodedResource.getInputStream(EncodedResource.java:154)
	at org.springframework.core.io.support.PropertiesLoaderUtils.fillProperties(PropertiesLoaderUtils.java:98)
	at org.springframework.core.io.support.PropertiesLoaderUtils.fillProperties(PropertiesLoaderUtils.java:72)
	at org.springframework.core.io.support.PropertiesLoaderUtils.loadProperties(PropertiesLoaderUtils.java:58)
	at org.springframework.core.io.support.ResourcePropertySource.<init>(ResourcePropertySource.java:65)
	at org.springframework.core.io.support.DefaultPropertySourceFactory.createPropertySource(DefaultPropertySourceFactory.java:36)
	at org.springframework.context.annotation.ConfigurationClassParser.processPropertySource(ConfigurationClassParser.java:434)
	at org.springframework.context.annotation.ConfigurationClassParser.doProcessConfigurationClass(ConfigurationClassParser.java:267)
	at org.springframework.context.annotation.ConfigurationClassParser.processConfigurationClass(ConfigurationClassParser.java:244)
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:197)
	at org.springframework.context.annotation.ConfigurationClassParser.parse(ConfigurationClassParser.java:166)
	... 13 common frames omitted

2018-03-03 09:57:24.251  INFO 11116 --- [main] c.c.c.ConfigServicePropertySourceLocator : Fetching config from server at: http://localhost:1001/
2018-03-03 09:57:27.946  INFO 11116 --- [main] c.c.c.ConfigServicePropertySourceLocator : Located environment: name=job-service, profiles=[local,resources], label=master, version=null, state=null
2018-03-03 09:57:27.947  INFO 11116 --- [main] b.c.PropertySourceBootstrapConfiguration : Located property source: CompositePropertySource [name='configService', propertySources=[MapPropertySource [name='classpath:/properties/job-service-local.properties']]]
2018-03-03 09:57:28.063  INFO 11116 --- [main] com.ityb.qugou.JobAppliction             : No active profile set, falling back to default profiles: default
2018-03-03 09:57:28.129  INFO 11116 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3af356f: startup date [Sat Mar 03 09:57:28 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@77128536
2018-03-03 09:57:31.842  INFO 11116 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-03-03 09:57:33.056  INFO 11116 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=55222580-9def-3cd5-9bc7-ffa857361689
2018-03-03 09:57:33.135  INFO 11116 --- [main] f.a.AutowiredAnnotationBeanPostProcessor : JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2018-03-03 09:57:33.397  INFO 11116 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'mybatis-org.mybatis.spring.boot.autoconfigure.MybatisProperties' of type [org.mybatis.spring.boot.autoconfigure.MybatisProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-03 09:57:33.403  INFO 11116 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.mybatis.spring.boot.autoconfigure.MybatisAutoConfiguration' of type [org.mybatis.spring.boot.autoconfigure.MybatisAutoConfiguration$$EnhancerBySpringCGLIB$$96851d20] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-03 09:57:33.419  INFO 11116 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Tomcat' of type [org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Tomcat] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-03 09:57:33.496  INFO 11116 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties' of type [org.springframework.boot.autoconfigure.jdbc.DataSourceProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-03 09:57:33.931  INFO 11116 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'dataSource' of type [org.apache.tomcat.jdbc.pool.DataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-03 09:57:34.828  INFO 11116 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'sqlSessionFactory' of type [org.apache.ibatis.session.defaults.DefaultSqlSessionFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-03 09:57:34.881  INFO 11116 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'sqlSessionTemplate' of type [org.mybatis.spring.SqlSessionTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-03 09:57:34.883  INFO 11116 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'baseMapper' of type [org.mybatis.spring.mapper.MapperFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-03 09:57:35.306  INFO 11116 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$63b0cbf0] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-03 09:57:35.940  INFO 11116 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$7fcaceed] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-03 09:57:38.293  INFO 11116 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8005 (http)
2018-03-03 09:57:38.348  INFO 11116 --- [main] o.apache.catalina.core.StandardService   : Starting service Tomcat
2018-03-03 09:57:38.353  INFO 11116 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.11
2018-03-03 09:57:38.770  INFO 11116 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-03-03 09:57:38.772  INFO 11116 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 10643 ms
2018-03-03 09:57:39.826  INFO 11116 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-03-03 09:57:39.846  INFO 11116 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-03 09:57:39.848  INFO 11116 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-03 09:57:39.849  INFO 11116 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-03 09:57:39.851  INFO 11116 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-03-03 09:57:41.775  INFO 11116 --- [main] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor
2018-03-03 09:57:41.845  INFO 11116 --- [main] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2018-03-03 09:57:41.846  INFO 11116 --- [main] org.quartz.core.QuartzScheduler          : Quartz Scheduler v.2.2.3 created.
2018-03-03 09:57:41.849  INFO 11116 --- [main] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.
2018-03-03 09:57:41.853  INFO 11116 --- [main] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.2.3) 'schedulerFactoryBean' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2018-03-03 09:57:41.854  INFO 11116 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'schedulerFactoryBean' initialized from an externally provided properties instance.
2018-03-03 09:57:41.855  INFO 11116 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.2.3
2018-03-03 09:57:41.865  INFO 11116 --- [main] org.quartz.core.QuartzScheduler          : JobFactory set to: org.springframework.scheduling.quartz.AdaptableJobFactory@37e55819
2018-03-03 09:57:46.460  INFO 11116 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@3af356f: startup date [Sat Mar 03 09:57:28 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@77128536
2018-03-03 09:57:46.832  INFO 11116 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-03 09:57:46.836  INFO 11116 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-03 09:57:47.142  INFO 11116 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-03 09:57:47.143  INFO 11116 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-03 09:57:47.387  INFO 11116 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-03 09:57:51.003  WARN 11116 --- [main] c.n.c.sources.URLConfigurationSource     : No URLs will be polled as dynamic configuration sources.
2018-03-03 09:57:51.004  INFO 11116 --- [main] c.n.c.sources.URLConfigurationSource     : To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2018-03-03 09:57:51.026  WARN 11116 --- [main] c.n.c.sources.URLConfigurationSource     : No URLs will be polled as dynamic configuration sources.
2018-03-03 09:57:51.026  INFO 11116 --- [main] c.n.c.sources.URLConfigurationSource     : To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2018-03-03 09:57:52.236  INFO 11116 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-03-03 09:57:52.262  INFO 11116 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'environmentManager' has been autodetected for JMX exposure
2018-03-03 09:57:52.267  INFO 11116 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'configurationPropertiesRebinder' has been autodetected for JMX exposure
2018-03-03 09:57:52.269  INFO 11116 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'refreshScope' has been autodetected for JMX exposure
2018-03-03 09:57:52.277  INFO 11116 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'environmentManager': registering with JMX server as MBean [org.springframework.cloud.context.environment:name=environmentManager,type=EnvironmentManager]
2018-03-03 09:57:52.319  INFO 11116 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'refreshScope': registering with JMX server as MBean [org.springframework.cloud.context.scope.refresh:name=refreshScope,type=RefreshScope]
2018-03-03 09:57:52.375  INFO 11116 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'configurationPropertiesRebinder': registering with JMX server as MBean [org.springframework.cloud.context.properties:name=configurationPropertiesRebinder,context=3af356f,type=ConfigurationPropertiesRebinder]
2018-03-03 09:57:52.922  INFO 11116 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 0
2018-03-03 09:57:52.947  INFO 11116 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2018-03-03 09:57:53.302  INFO 11116 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2018-03-03 09:57:53.848  INFO 11116 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON encoding codec LegacyJacksonJson
2018-03-03 09:57:53.849  INFO 11116 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON decoding codec LegacyJacksonJson
2018-03-03 09:57:54.277  INFO 11116 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML encoding codec XStreamXml
2018-03-03 09:57:54.278  INFO 11116 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML decoding codec XStreamXml
2018-03-03 09:57:55.605  INFO 11116 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-03 09:57:55.962  INFO 11116 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2018-03-03 09:57:55.965  INFO 11116 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2018-03-03 09:57:55.965  INFO 11116 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2018-03-03 09:57:55.965  INFO 11116 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2018-03-03 09:57:55.966  INFO 11116 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2018-03-03 09:57:55.968  INFO 11116 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2018-03-03 09:57:55.968  INFO 11116 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2018-03-03 09:57:56.417  INFO 11116 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2018-03-03 09:57:56.421  INFO 11116 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2018-03-03 09:57:56.430  INFO 11116 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2018-03-03 09:57:56.438  INFO 11116 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1520042276437 with initial instances count: 8
2018-03-03 09:57:56.694  INFO 11116 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application job-service with eureka with status UP
2018-03-03 09:57:56.698  INFO 11116 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1520042276698, current=UP, previous=STARTING]
2018-03-03 09:57:56.704  INFO 11116 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_JOB-SERVICE/192.168.0.102:job-service:8005: registering service...
2018-03-03 09:57:56.707  INFO 11116 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2018-03-03 09:57:56.710  INFO 11116 --- [main] o.s.s.quartz.SchedulerFactoryBean        : Starting Quartz Scheduler now
2018-03-03 09:57:56.711  INFO 11116 --- [main] org.quartz.core.QuartzScheduler          : Scheduler schedulerFactoryBean_$_NON_CLUSTERED started.
2018-03-03 09:57:56.753  INFO 11116 --- [main] s.a.ScheduledAnnotationBeanPostProcessor : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2018-03-03 09:57:56.881  INFO 11116 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_JOB-SERVICE/192.168.0.102:job-service:8005 - registration status: 204
2018-03-03 09:57:56.988  INFO 11116 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8005 (http)
2018-03-03 09:57:56.991  INFO 11116 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 8005
2018-03-03 09:57:57.004  INFO 11116 --- [main] com.ityb.qugou.JobAppliction             : Started JobAppliction in 40.108 seconds (JVM running for 42.333)
2018-03-03 10:02:56.080  INFO 11116 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 14:42:27.684  INFO 11756 --- [main] c.c.c.ConfigServicePropertySourceLocator : Fetching config from server at: http://localhost:1001/
2018-03-17 14:42:34.820  INFO 11756 --- [main] c.c.c.ConfigServicePropertySourceLocator : Located environment: name=job-service, profiles=[local,resources], label=master, version=null, state=null
2018-03-17 14:42:34.822  INFO 11756 --- [main] b.c.PropertySourceBootstrapConfiguration : Located property source: CompositePropertySource [name='configService', propertySources=[MapPropertySource [name='classpath:/properties/job-service-local.properties']]]
2018-03-17 14:42:35.447  INFO 11756 --- [main] com.ityb.qugou.JobAppliction             : No active profile set, falling back to default profiles: default
2018-03-17 14:42:36.015  INFO 11756 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@231baf51: startup date [Sat Mar 17 14:42:36 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@77128536
2018-03-17 14:42:51.891  INFO 11756 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-03-17 14:42:54.061  INFO 11756 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=55222580-9def-3cd5-9bc7-ffa857361689
2018-03-17 14:42:54.500  INFO 11756 --- [main] f.a.AutowiredAnnotationBeanPostProcessor : JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2018-03-17 14:42:55.070  INFO 11756 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'mybatis-org.mybatis.spring.boot.autoconfigure.MybatisProperties' of type [org.mybatis.spring.boot.autoconfigure.MybatisProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-17 14:42:55.076  INFO 11756 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.mybatis.spring.boot.autoconfigure.MybatisAutoConfiguration' of type [org.mybatis.spring.boot.autoconfigure.MybatisAutoConfiguration$$EnhancerBySpringCGLIB$$fdd0ae9a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-17 14:42:55.099  INFO 11756 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Tomcat' of type [org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Tomcat] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-17 14:42:55.188  INFO 11756 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties' of type [org.springframework.boot.autoconfigure.jdbc.DataSourceProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-17 14:42:55.707  INFO 11756 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'dataSource' of type [org.apache.tomcat.jdbc.pool.DataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-17 14:42:57.310  INFO 11756 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'sqlSessionFactory' of type [org.apache.ibatis.session.defaults.DefaultSqlSessionFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-17 14:42:57.364  INFO 11756 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'sqlSessionTemplate' of type [org.mybatis.spring.SqlSessionTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-17 14:42:57.367  INFO 11756 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'baseMapper' of type [org.mybatis.spring.mapper.MapperFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-17 14:42:58.547  INFO 11756 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$cafc5d6a] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-17 14:42:59.608  INFO 11756 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$e7166067] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-17 14:43:04.824  INFO 11756 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8005 (http)
2018-03-17 14:43:04.961  INFO 11756 --- [main] o.apache.catalina.core.StandardService   : Starting service Tomcat
2018-03-17 14:43:04.965  INFO 11756 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.11
2018-03-17 14:43:18.931  INFO 11756 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-03-17 14:43:18.934  INFO 11756 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 42919 ms
2018-03-17 14:43:28.010  INFO 11756 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-03-17 14:43:28.049  INFO 11756 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-17 14:43:28.086  INFO 11756 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-17 14:43:28.087  INFO 11756 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-17 14:43:28.088  INFO 11756 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-03-17 14:43:32.036  INFO 11756 --- [main] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor
2018-03-17 14:43:32.130  INFO 11756 --- [main] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2018-03-17 14:43:32.131  INFO 11756 --- [main] org.quartz.core.QuartzScheduler          : Quartz Scheduler v.2.2.3 created.
2018-03-17 14:43:32.135  INFO 11756 --- [main] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.
2018-03-17 14:43:32.139  INFO 11756 --- [main] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.2.3) 'schedulerFactoryBean' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2018-03-17 14:43:32.139  INFO 11756 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'schedulerFactoryBean' initialized from an externally provided properties instance.
2018-03-17 14:43:32.145  INFO 11756 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.2.3
2018-03-17 14:43:32.155  INFO 11756 --- [main] org.quartz.core.QuartzScheduler          : JobFactory set to: org.springframework.scheduling.quartz.AdaptableJobFactory@5403431a
2018-03-17 14:43:41.840  INFO 11756 --- [main] s.w.s.m.m.a.RequestMappingHandlerAdapter : Looking for @ControllerAdvice: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@231baf51: startup date [Sat Mar 17 14:42:36 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@77128536
2018-03-17 14:43:42.706  INFO 11756 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error]}" onto public org.springframework.http.ResponseEntity<java.util.Map<java.lang.String, java.lang.Object>> org.springframework.boot.autoconfigure.web.BasicErrorController.error(javax.servlet.http.HttpServletRequest)
2018-03-17 14:43:42.710  INFO 11756 --- [main] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped "{[/error],produces=[text/html]}" onto public org.springframework.web.servlet.ModelAndView org.springframework.boot.autoconfigure.web.BasicErrorController.errorHtml(javax.servlet.http.HttpServletRequest,javax.servlet.http.HttpServletResponse)
2018-03-17 14:43:43.175  INFO 11756 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/webjars/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-17 14:43:43.176  INFO 11756 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-17 14:43:44.390  INFO 11756 --- [main] o.s.w.s.handler.SimpleUrlHandlerMapping  : Mapped URL path [/**/favicon.ico] onto handler of type [class org.springframework.web.servlet.resource.ResourceHttpRequestHandler]
2018-03-17 14:43:54.851  WARN 11756 --- [main] c.n.c.sources.URLConfigurationSource     : No URLs will be polled as dynamic configuration sources.
2018-03-17 14:43:54.852  INFO 11756 --- [main] c.n.c.sources.URLConfigurationSource     : To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2018-03-17 14:43:55.126  WARN 11756 --- [main] c.n.c.sources.URLConfigurationSource     : No URLs will be polled as dynamic configuration sources.
2018-03-17 14:43:55.127  INFO 11756 --- [main] c.n.c.sources.URLConfigurationSource     : To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2018-03-17 14:43:56.723  INFO 11756 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Registering beans for JMX exposure on startup
2018-03-17 14:43:56.766  INFO 11756 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'environmentManager' has been autodetected for JMX exposure
2018-03-17 14:43:56.775  INFO 11756 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'configurationPropertiesRebinder' has been autodetected for JMX exposure
2018-03-17 14:43:56.780  INFO 11756 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Bean with name 'refreshScope' has been autodetected for JMX exposure
2018-03-17 14:43:56.790  INFO 11756 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'environmentManager': registering with JMX server as MBean [org.springframework.cloud.context.environment:name=environmentManager,type=EnvironmentManager]
2018-03-17 14:43:57.230  INFO 11756 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'refreshScope': registering with JMX server as MBean [org.springframework.cloud.context.scope.refresh:name=refreshScope,type=RefreshScope]
2018-03-17 14:43:57.370  INFO 11756 --- [main] o.s.j.e.a.AnnotationMBeanExporter        : Located managed bean 'configurationPropertiesRebinder': registering with JMX server as MBean [org.springframework.cloud.context.properties:name=configurationPropertiesRebinder,context=231baf51,type=ConfigurationPropertiesRebinder]
2018-03-17 14:43:58.215  INFO 11756 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 0
2018-03-17 14:43:58.250  INFO 11756 --- [main] o.s.c.n.eureka.InstanceInfoFactory       : Setting initial instance status as: STARTING
2018-03-17 14:43:58.806  INFO 11756 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2018-03-17 14:44:01.074  INFO 11756 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON encoding codec LegacyJacksonJson
2018-03-17 14:44:01.075  INFO 11756 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON decoding codec LegacyJacksonJson
2018-03-17 14:44:02.056  INFO 11756 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML encoding codec XStreamXml
2018-03-17 14:44:02.057  INFO 11756 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML decoding codec XStreamXml
2018-03-17 14:44:05.204  INFO 11756 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 14:44:06.523  INFO 11756 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2018-03-17 14:44:06.524  INFO 11756 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2018-03-17 14:44:06.524  INFO 11756 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2018-03-17 14:44:06.525  INFO 11756 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2018-03-17 14:44:06.526  INFO 11756 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2018-03-17 14:44:06.527  INFO 11756 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2018-03-17 14:44:06.527  INFO 11756 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2018-03-17 14:44:07.825  INFO 11756 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2018-03-17 14:44:07.843  INFO 11756 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2018-03-17 14:44:07.853  INFO 11756 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2018-03-17 14:44:07.872  INFO 11756 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1521269047872 with initial instances count: 4
2018-03-17 14:44:08.866  INFO 11756 --- [main] o.s.c.n.e.s.EurekaServiceRegistry        : Registering application job-service with eureka with status UP
2018-03-17 14:44:08.869  INFO 11756 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1521269048869, current=UP, previous=STARTING]
2018-03-17 14:44:08.874  INFO 11756 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_JOB-SERVICE/192.168.0.100:job-service:8005: registering service...
2018-03-17 14:44:09.140  INFO 11756 --- [main] o.s.c.support.DefaultLifecycleProcessor  : Starting beans in phase 2147483647
2018-03-17 14:44:09.141  INFO 11756 --- [main] o.s.s.quartz.SchedulerFactoryBean        : Starting Quartz Scheduler now
2018-03-17 14:44:09.142  INFO 11756 --- [main] org.quartz.core.QuartzScheduler          : Scheduler schedulerFactoryBean_$_NON_CLUSTERED started.
2018-03-17 14:44:09.143  INFO 11756 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_JOB-SERVICE/192.168.0.100:job-service:8005 - registration status: 204
2018-03-17 14:44:09.219  INFO 11756 --- [main] s.a.ScheduledAnnotationBeanPostProcessor : No TaskScheduler/ScheduledExecutorService bean found for scheduled processing
2018-03-17 14:44:09.890  INFO 11756 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat started on port(s): 8005 (http)
2018-03-17 14:44:09.896  INFO 11756 --- [main] .s.c.n.e.s.EurekaAutoServiceRegistration : Updating port to 8005
2018-03-17 14:44:09.917  INFO 11756 --- [main] com.ityb.qugou.JobAppliction             : Started JobAppliction in 112.79 seconds (JVM running for 116.277)
2018-03-17 14:49:06.545  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 14:54:06.559  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 14:59:06.571  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 15:04:06.584  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 15:09:06.596  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 15:14:06.608  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 15:19:06.621  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 15:24:06.633  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 15:29:06.645  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 15:34:06.657  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 15:39:06.670  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 15:44:06.684  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 15:49:06.698  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 15:54:06.710  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 15:59:06.722  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 16:04:06.734  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 16:09:06.746  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 16:14:06.760  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 16:19:06.773  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 16:24:06.786  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 16:29:07.000  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 16:34:07.023  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 16:39:07.036  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 16:44:07.051  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 16:49:07.063  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 16:54:07.076  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 16:59:07.088  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 17:04:07.102  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 17:09:07.114  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 17:14:07.126  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 17:19:07.137  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 17:24:07.152  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 17:29:07.164  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 17:34:07.176  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 17:39:07.190  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 17:44:07.207  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 17:49:07.251  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 17:54:07.264  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 17:59:07.277  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 18:04:07.291  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 18:09:07.318  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 18:14:07.331  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 18:19:07.344  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 18:24:07.381  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 18:29:07.400  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 18:34:07.414  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 18:39:07.533  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 18:44:07.545  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 18:49:07.557  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 18:54:07.569  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 18:59:07.582  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 19:04:07.594  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 19:09:07.607  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 19:14:07.619  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 19:19:07.631  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 19:24:07.644  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 19:29:07.657  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 19:34:07.669  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 19:39:07.681  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 19:44:07.693  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 19:49:07.712  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 19:54:07.731  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 19:59:07.749  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 20:04:07.761  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 20:09:07.774  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 20:14:07.794  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 20:19:07.806  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 20:24:07.824  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 20:29:07.838  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 20:34:07.851  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 20:39:07.921  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 20:44:07.933  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 20:49:07.945  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 20:54:07.959  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 20:59:07.973  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 21:04:07.995  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 21:09:08.008  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 21:14:08.261  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 21:19:08.276  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 21:24:08.288  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 21:29:08.300  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 21:34:08.315  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 21:39:08.327  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 21:44:08.399  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 21:49:08.412  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 21:54:08.424  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 21:59:08.436  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 22:04:08.461  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 22:09:08.473  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 22:14:08.489  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 22:19:08.502  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 22:24:08.515  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-17 22:29:08.527  INFO 11756 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-24 14:03:15.645  INFO 11760 --- [main] c.c.c.ConfigServicePropertySourceLocator : Fetching config from server at: http://localhost:1001/
2018-03-24 14:03:19.452  INFO 11760 --- [main] c.c.c.ConfigServicePropertySourceLocator : Located environment: name=job-service, profiles=[local,resources], label=master, version=null, state=null
2018-03-24 14:03:19.454  INFO 11760 --- [main] b.c.PropertySourceBootstrapConfiguration : Located property source: CompositePropertySource [name='configService', propertySources=[MapPropertySource [name='classpath:/properties/job-service-resources.properties'], MapPropertySource [name='classpath:/properties/job-service-local.properties']]]
2018-03-24 14:03:19.574  INFO 11760 --- [main] com.ityb.qugou.JobAppliction             : No active profile set, falling back to default profiles: default
2018-03-24 14:03:19.639  INFO 11760 --- [main] ationConfigEmbeddedWebApplicationContext : Refreshing org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@53093491: startup date [Sat Mar 24 14:03:19 CST 2018]; parent: org.springframework.context.annotation.AnnotationConfigApplicationContext@77128536
2018-03-24 14:03:24.326  INFO 11760 --- [main] .s.d.r.c.RepositoryConfigurationDelegate : Multiple Spring Data modules found, entering strict repository configuration mode!
2018-03-24 14:03:25.684  INFO 11760 --- [main] o.s.cloud.context.scope.GenericScope     : BeanFactory id=d9808660-3a68-3f53-9aad-93725390668e
2018-03-24 14:03:25.779  INFO 11760 --- [main] f.a.AutowiredAnnotationBeanPostProcessor : JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2018-03-24 14:03:26.009  INFO 11760 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'com.ityb.qugou.job.service.JobService' of type [org.springframework.cloud.netflix.feign.FeignClientFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-24 14:03:26.091  INFO 11760 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'mybatis-org.mybatis.spring.boot.autoconfigure.MybatisProperties' of type [org.mybatis.spring.boot.autoconfigure.MybatisProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-24 14:03:26.099  INFO 11760 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.mybatis.spring.boot.autoconfigure.MybatisAutoConfiguration' of type [org.mybatis.spring.boot.autoconfigure.MybatisAutoConfiguration$$EnhancerBySpringCGLIB$$650658a7] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-24 14:03:26.122  INFO 11760 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Tomcat' of type [org.springframework.boot.autoconfigure.jdbc.DataSourceConfiguration$Tomcat] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-24 14:03:26.189  INFO 11760 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'spring.datasource-org.springframework.boot.autoconfigure.jdbc.DataSourceProperties' of type [org.springframework.boot.autoconfigure.jdbc.DataSourceProperties] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-24 14:03:26.562  INFO 11760 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'dataSource' of type [org.apache.tomcat.jdbc.pool.DataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-24 14:03:27.567  INFO 11760 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'sqlSessionFactory' of type [org.apache.ibatis.session.defaults.DefaultSqlSessionFactory] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-24 14:03:27.601  INFO 11760 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'sqlSessionTemplate' of type [org.mybatis.spring.SqlSessionTemplate] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-24 14:03:27.613  INFO 11760 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'baseMapper' of type [org.mybatis.spring.mapper.MapperFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-24 14:03:27.618  INFO 11760 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'jobMapper' of type [org.mybatis.spring.mapper.MapperFactoryBean] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-24 14:03:28.071  INFO 11760 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration' of type [org.springframework.transaction.annotation.ProxyTransactionManagementConfiguration$$EnhancerBySpringCGLIB$$32320777] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-24 14:03:29.596  INFO 11760 --- [main] trationDelegate$BeanPostProcessorChecker : Bean 'org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration' of type [org.springframework.cloud.autoconfigure.ConfigurationPropertiesRebinderAutoConfiguration$$EnhancerBySpringCGLIB$$4e4c0a74] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2018-03-24 14:03:32.233  INFO 11760 --- [main] s.b.c.e.t.TomcatEmbeddedServletContainer : Tomcat initialized with port(s): 8005 (http)
2018-03-24 14:03:32.280  INFO 11760 --- [main] o.apache.catalina.core.StandardService   : Starting service Tomcat
2018-03-24 14:03:32.284  INFO 11760 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.11
2018-03-24 14:03:33.655  INFO 11760 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-03-24 14:03:33.658  INFO 11760 --- [localhost-startStop-1] o.s.web.context.ContextLoader            : Root WebApplicationContext: initialization completed in 14020 ms
2018-03-24 14:03:34.652  INFO 11760 --- [localhost-startStop-1] o.s.b.w.servlet.ServletRegistrationBean  : Mapping servlet: 'dispatcherServlet' to [/]
2018-03-24 14:03:34.671  INFO 11760 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'characterEncodingFilter' to: [/*]
2018-03-24 14:03:34.675  INFO 11760 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'hiddenHttpMethodFilter' to: [/*]
2018-03-24 14:03:34.675  INFO 11760 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'httpPutFormContentFilter' to: [/*]
2018-03-24 14:03:34.676  INFO 11760 --- [localhost-startStop-1] o.s.b.w.servlet.FilterRegistrationBean   : Mapping filter: 'requestContextFilter' to: [/*]
2018-03-24 14:03:35.235  INFO 11760 --- [main] s.c.a.AnnotationConfigApplicationContext : Refreshing org.springframework.context.annotation.AnnotationConfigApplicationContext@7530090a: startup date [Sat Mar 24 14:03:35 CST 2018]; parent: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@53093491
2018-03-24 14:03:35.311  INFO 11760 --- [main] f.a.AutowiredAnnotationBeanPostProcessor : JSR-330 'javax.inject.Inject' annotation found and supported for autowiring
2018-03-24 14:03:38.174  WARN 11760 --- [main] ationConfigEmbeddedWebApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jobConrtoller': Unsatisfied dependency expressed through field 'jobService'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'com.ityb.qugou.job.service.JobService': FactoryBean threw exception on object creation; nested exception is java.lang.IllegalStateException: Method batchUpdateStateJob not annotated with HTTP method type (ex. GET, POST)
2018-03-24 14:03:38.178  INFO 11760 --- [main] s.c.a.AnnotationConfigApplicationContext : Closing org.springframework.context.annotation.AnnotationConfigApplicationContext@7530090a: startup date [Sat Mar 24 14:03:35 CST 2018]; parent: org.springframework.boot.context.embedded.AnnotationConfigEmbeddedWebApplicationContext@53093491
2018-03-24 14:03:38.184  WARN 11760 --- [main] o.s.b.f.support.DisposableBeanAdapter    : Invocation of destroy method 'close' failed on bean with name 'sqlSessionTemplate': java.lang.UnsupportedOperationException: Manual close is not allowed over a Spring managed SqlSession
2018-03-24 14:03:38.187  INFO 11760 --- [main] o.apache.catalina.core.StandardService   : Stopping service Tomcat
2018-03-24 14:03:38.316  INFO 11760 --- [main] utoConfigurationReportLoggingInitializer : 

Error starting ApplicationContext. To display the auto-configuration report re-run your application with 'debug' enabled.
2018-03-24 14:03:38.358 ERROR 11760 --- [main] o.s.boot.SpringApplication               : Application startup failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'jobConrtoller': Unsatisfied dependency expressed through field 'jobService'; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'com.ityb.qugou.job.service.JobService': FactoryBean threw exception on object creation; nested exception is java.lang.IllegalStateException: Method batchUpdateStateJob not annotated with HTTP method type (ex. GET, POST)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:588)
	at org.springframework.beans.factory.annotation.InjectionMetadata.inject(InjectionMetadata.java:88)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.postProcessPropertyValues(AutowiredAnnotationBeanPostProcessor.java:366)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.populateBean(AbstractAutowireCapableBeanFactory.java:1264)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:553)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:483)
	at org.springframework.beans.factory.support.AbstractBeanFactory$1.getObject(AbstractBeanFactory.java:306)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:230)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:302)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:197)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:761)
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:866)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:542)
	at org.springframework.boot.context.embedded.EmbeddedWebApplicationContext.refresh(EmbeddedWebApplicationContext.java:122)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:370)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:314)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1162)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1151)
	at com.ityb.qugou.JobAppliction.main(JobAppliction.java:15)
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'com.ityb.qugou.job.service.JobService': FactoryBean threw exception on object creation; nested exception is java.lang.IllegalStateException: Method batchUpdateStateJob not annotated with HTTP method type (ex. GET, POST)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:175)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.getObjectFromFactoryBean(FactoryBeanRegistrySupport.java:103)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getObjectForBeanInstance(AbstractBeanFactory.java:1634)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:254)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:202)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:208)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1309)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1275)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1101)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1066)
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor$AutowiredFieldElement.inject(AutowiredAnnotationBeanPostProcessor.java:585)
	... 19 common frames omitted
Caused by: java.lang.IllegalStateException: Method batchUpdateStateJob not annotated with HTTP method type (ex. GET, POST)
	at feign.Util.checkState(Util.java:128)
	at feign.Contract$BaseContract.parseAndValidateMetadata(Contract.java:97)
	at org.springframework.cloud.netflix.feign.support.SpringMvcContract.parseAndValidateMetadata(SpringMvcContract.java:133)
	at feign.Contract$BaseContract.parseAndValidatateMetadata(Contract.java:64)
	at feign.ReflectiveFeign$ParseHandlersByName.apply(ReflectiveFeign.java:146)
	at feign.ReflectiveFeign.newInstance(ReflectiveFeign.java:53)
	at feign.Feign$Builder.target(Feign.java:218)
	at org.springframework.cloud.netflix.feign.HystrixTargeter.target(HystrixTargeter.java:39)
	at org.springframework.cloud.netflix.feign.FeignClientFactoryBean.loadBalance(FeignClientFactoryBean.java:145)
	at org.springframework.cloud.netflix.feign.FeignClientFactoryBean.getObject(FeignClientFactoryBean.java:166)
	at org.springframework.beans.factory.support.FactoryBeanRegistrySupport.doGetObjectFromFactoryBean(FactoryBeanRegistrySupport.java:168)
	... 29 common frames omitted

2018-03-24 14:06:25.617  INFO 4568 --- [main] com.ityb.qugou.JobAppliction             : No active profile set, falling back to default profiles: default
2018-03-24 14:06:33.758  INFO 4568 --- [main] o.apache.catalina.core.StandardService   : Starting service Tomcat
2018-03-24 14:06:33.764  INFO 4568 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.11
2018-03-24 14:06:34.176  INFO 4568 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-03-24 14:06:36.770  INFO 4568 --- [main] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor
2018-03-24 14:06:36.841  INFO 4568 --- [main] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2018-03-24 14:06:36.843  INFO 4568 --- [main] org.quartz.core.QuartzScheduler          : Quartz Scheduler v.2.2.3 created.
2018-03-24 14:06:36.846  INFO 4568 --- [main] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.
2018-03-24 14:06:36.925  INFO 4568 --- [main] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.2.3) 'schedulerFactoryBean' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2018-03-24 14:06:36.925  INFO 4568 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'schedulerFactoryBean' initialized from an externally provided properties instance.
2018-03-24 14:06:36.926  INFO 4568 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.2.3
2018-03-24 14:06:37.177  INFO 4568 --- [main] org.quartz.core.QuartzScheduler          : JobFactory set to: org.springframework.scheduling.quartz.AdaptableJobFactory@553ce348
2018-03-24 14:06:46.144  WARN 4568 --- [main] c.n.c.sources.URLConfigurationSource     : No URLs will be polled as dynamic configuration sources.
2018-03-24 14:06:46.145  INFO 4568 --- [main] c.n.c.sources.URLConfigurationSource     : To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2018-03-24 14:06:46.168  WARN 4568 --- [main] c.n.c.sources.URLConfigurationSource     : No URLs will be polled as dynamic configuration sources.
2018-03-24 14:06:46.169  INFO 4568 --- [main] c.n.c.sources.URLConfigurationSource     : To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2018-03-24 14:06:48.405  INFO 4568 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2018-03-24 14:06:48.994  INFO 4568 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON encoding codec LegacyJacksonJson
2018-03-24 14:06:48.996  INFO 4568 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON decoding codec LegacyJacksonJson
2018-03-24 14:06:50.043  INFO 4568 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML encoding codec XStreamXml
2018-03-24 14:06:50.044  INFO 4568 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML decoding codec XStreamXml
2018-03-24 14:06:51.754  INFO 4568 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-24 14:06:52.103  INFO 4568 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2018-03-24 14:06:52.103  INFO 4568 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2018-03-24 14:06:52.104  INFO 4568 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2018-03-24 14:06:52.104  INFO 4568 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2018-03-24 14:06:52.105  INFO 4568 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2018-03-24 14:06:52.105  INFO 4568 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2018-03-24 14:06:52.105  INFO 4568 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2018-03-24 14:06:52.532  INFO 4568 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2018-03-24 14:06:52.537  INFO 4568 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2018-03-24 14:06:52.547  INFO 4568 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2018-03-24 14:06:52.559  INFO 4568 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1521871612558 with initial instances count: 7
2018-03-24 14:06:52.828  INFO 4568 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1521871612828, current=UP, previous=STARTING]
2018-03-24 14:06:52.835  INFO 4568 --- [main] org.quartz.core.QuartzScheduler          : Scheduler schedulerFactoryBean_$_NON_CLUSTERED started.
2018-03-24 14:06:52.838  INFO 4568 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_JOB-SERVICE/192.168.0.101:job-service:8005: registering service...
2018-03-24 14:06:53.470  INFO 4568 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_JOB-SERVICE/192.168.0.101:job-service:8005 - registration status: 204
2018-03-24 14:06:53.745  INFO 4568 --- [main] com.ityb.qugou.JobAppliction             : Started JobAppliction in 37.18 seconds (JVM running for 39.443)
2018-03-24 14:06:56.146 DEBUG 4568 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==>  Preparing: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST; DELIMITER ;; CREATE PROCEDURE CART_NEW_H_LIST() BEGIN DECLARE S_ID VARCHAR(32) DEFAULT NULL; DECLARE B_NUMBER INT(9) DEFAULT 0; DECLARE IS_COUNT INT(9) DEFAULT 0; DECLARE M_TIME TIMESTAMP; DECLARE FINISHED INT DEFAULT 0; DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1; DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1; OPEN CART_NOW_LIST; READ_LOOP:LOOP FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME; IF FINISHED=1 THEN LEAVE READ_LOOP; END IF; SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT; IF IS_COUNT=0 THEN UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; ELSE UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1; UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; END IF; END LOOP; CLOSE CART_NOW_LIST; COMMIT; END; ;; DELIMITER ; CALL CART_NEW_H_LIST(); 
2018-03-24 14:06:56.234 DEBUG 4568 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==> Parameters: 
2018-03-24 14:06:56.409 ERROR 4568 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchUpdateStateJob....执行定时将今日购物车修改为历史购物车失败

org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
### The error may exist in file [D:\IT\qugou\project\qugou-parent\qugou-all-job\target\classes\mybatis\mapper\jobMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST;     DELIMITER ;;   CREATE PROCEDURE CART_NEW_H_LIST()     BEGIN         DECLARE  S_ID VARCHAR(32) DEFAULT NULL;    DECLARE  B_NUMBER INT(9) DEFAULT 0;    DECLARE  IS_COUNT INT(9) DEFAULT 0;    DECLARE  M_TIME TIMESTAMP;       DECLARE FINISHED INT  DEFAULT 0;        DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1;    DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1;     OPEN  CART_NOW_LIST;            READ_LOOP:LOOP              FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME;      IF FINISHED=1 THEN                   LEAVE READ_LOOP;               END IF;       SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT;      IF IS_COUNT=0 THEN        UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;      ELSE        UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1;       UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;               END IF;       END LOOP;    CLOSE CART_NOW_LIST;   COMMIT;   END;    ;;   DELIMITER ;    CALL CART_NEW_H_LIST();
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:74)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:399)
	at com.sun.proxy.$Proxy73.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:165)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:69)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)
	at com.sun.proxy.$Proxy97.batchUpdateStateJob(Unknown Source)
	at com.ityb.qugou.job.service.impl.JobServiceImpl.batchUpdateStateJob(JobServiceImpl.java:21)
	at com.ityb.qugou.job.controller.JobConrtoller.batchUpdateStateJob(JobConrtoller.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:408)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.Util.getInstance(Util.java:408)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:943)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2501)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)
	at com.mysql.jdbc.CallableStatement.execute(CallableStatement.java:823)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy126.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.CallableStatementHandler.query(CallableStatementHandler.java:66)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:78)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:303)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:154)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:102)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:82)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:120)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:113)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:73)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:386)
	... 21 common frames omitted

2018-03-24 14:07:00.003 DEBUG 4568 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==>  Preparing: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST; DELIMITER ;; CREATE PROCEDURE CART_NEW_H_LIST() BEGIN DECLARE S_ID VARCHAR(32) DEFAULT NULL; DECLARE B_NUMBER INT(9) DEFAULT 0; DECLARE IS_COUNT INT(9) DEFAULT 0; DECLARE M_TIME TIMESTAMP; DECLARE FINISHED INT DEFAULT 0; DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1; DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1; OPEN CART_NOW_LIST; READ_LOOP:LOOP FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME; IF FINISHED=1 THEN LEAVE READ_LOOP; END IF; SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT; IF IS_COUNT=0 THEN UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; ELSE UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1; UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; END IF; END LOOP; CLOSE CART_NOW_LIST; COMMIT; END; ;; DELIMITER ; CALL CART_NEW_H_LIST(); 
2018-03-24 14:07:00.006 DEBUG 4568 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==> Parameters: 
2018-03-24 14:07:00.010 ERROR 4568 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchUpdateStateJob....执行定时将今日购物车修改为历史购物车失败

org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
### The error may exist in file [D:\IT\qugou\project\qugou-parent\qugou-all-job\target\classes\mybatis\mapper\jobMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST;     DELIMITER ;;   CREATE PROCEDURE CART_NEW_H_LIST()     BEGIN         DECLARE  S_ID VARCHAR(32) DEFAULT NULL;    DECLARE  B_NUMBER INT(9) DEFAULT 0;    DECLARE  IS_COUNT INT(9) DEFAULT 0;    DECLARE  M_TIME TIMESTAMP;       DECLARE FINISHED INT  DEFAULT 0;        DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1;    DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1;     OPEN  CART_NOW_LIST;            READ_LOOP:LOOP              FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME;      IF FINISHED=1 THEN                   LEAVE READ_LOOP;               END IF;       SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT;      IF IS_COUNT=0 THEN        UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;      ELSE        UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1;       UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;               END IF;       END LOOP;    CLOSE CART_NOW_LIST;   COMMIT;   END;    ;;   DELIMITER ;    CALL CART_NEW_H_LIST();
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:74)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:399)
	at com.sun.proxy.$Proxy73.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:165)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:69)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)
	at com.sun.proxy.$Proxy97.batchUpdateStateJob(Unknown Source)
	at com.ityb.qugou.job.service.impl.JobServiceImpl.batchUpdateStateJob(JobServiceImpl.java:21)
	at com.ityb.qugou.job.controller.JobConrtoller.batchUpdateStateJob(JobConrtoller.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:408)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.Util.getInstance(Util.java:408)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:943)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2501)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)
	at com.mysql.jdbc.CallableStatement.execute(CallableStatement.java:823)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy126.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.CallableStatementHandler.query(CallableStatementHandler.java:66)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:78)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:303)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:154)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:102)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:82)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:120)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:113)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:73)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:386)
	... 21 common frames omitted

2018-03-24 14:07:05.004 DEBUG 4568 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==>  Preparing: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST; DELIMITER ;; CREATE PROCEDURE CART_NEW_H_LIST() BEGIN DECLARE S_ID VARCHAR(32) DEFAULT NULL; DECLARE B_NUMBER INT(9) DEFAULT 0; DECLARE IS_COUNT INT(9) DEFAULT 0; DECLARE M_TIME TIMESTAMP; DECLARE FINISHED INT DEFAULT 0; DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1; DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1; OPEN CART_NOW_LIST; READ_LOOP:LOOP FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME; IF FINISHED=1 THEN LEAVE READ_LOOP; END IF; SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT; IF IS_COUNT=0 THEN UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; ELSE UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1; UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; END IF; END LOOP; CLOSE CART_NOW_LIST; COMMIT; END; ;; DELIMITER ; CALL CART_NEW_H_LIST(); 
2018-03-24 14:07:05.006 DEBUG 4568 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==> Parameters: 
2018-03-24 14:07:05.011 ERROR 4568 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchUpdateStateJob....执行定时将今日购物车修改为历史购物车失败

org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
### The error may exist in file [D:\IT\qugou\project\qugou-parent\qugou-all-job\target\classes\mybatis\mapper\jobMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST;     DELIMITER ;;   CREATE PROCEDURE CART_NEW_H_LIST()     BEGIN         DECLARE  S_ID VARCHAR(32) DEFAULT NULL;    DECLARE  B_NUMBER INT(9) DEFAULT 0;    DECLARE  IS_COUNT INT(9) DEFAULT 0;    DECLARE  M_TIME TIMESTAMP;       DECLARE FINISHED INT  DEFAULT 0;        DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1;    DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1;     OPEN  CART_NOW_LIST;            READ_LOOP:LOOP              FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME;      IF FINISHED=1 THEN                   LEAVE READ_LOOP;               END IF;       SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT;      IF IS_COUNT=0 THEN        UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;      ELSE        UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1;       UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;               END IF;       END LOOP;    CLOSE CART_NOW_LIST;   COMMIT;   END;    ;;   DELIMITER ;    CALL CART_NEW_H_LIST();
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:74)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:399)
	at com.sun.proxy.$Proxy73.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:165)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:69)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)
	at com.sun.proxy.$Proxy97.batchUpdateStateJob(Unknown Source)
	at com.ityb.qugou.job.service.impl.JobServiceImpl.batchUpdateStateJob(JobServiceImpl.java:21)
	at com.ityb.qugou.job.controller.JobConrtoller.batchUpdateStateJob(JobConrtoller.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:408)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.Util.getInstance(Util.java:408)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:943)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2501)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)
	at com.mysql.jdbc.CallableStatement.execute(CallableStatement.java:823)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy126.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.CallableStatementHandler.query(CallableStatementHandler.java:66)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:78)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:303)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:154)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:102)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:82)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:120)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:113)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:73)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:386)
	... 21 common frames omitted

2018-03-24 14:07:10.004 DEBUG 4568 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==>  Preparing: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST; DELIMITER ;; CREATE PROCEDURE CART_NEW_H_LIST() BEGIN DECLARE S_ID VARCHAR(32) DEFAULT NULL; DECLARE B_NUMBER INT(9) DEFAULT 0; DECLARE IS_COUNT INT(9) DEFAULT 0; DECLARE M_TIME TIMESTAMP; DECLARE FINISHED INT DEFAULT 0; DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1; DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1; OPEN CART_NOW_LIST; READ_LOOP:LOOP FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME; IF FINISHED=1 THEN LEAVE READ_LOOP; END IF; SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT; IF IS_COUNT=0 THEN UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; ELSE UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1; UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; END IF; END LOOP; CLOSE CART_NOW_LIST; COMMIT; END; ;; DELIMITER ; CALL CART_NEW_H_LIST(); 
2018-03-24 14:07:10.006 DEBUG 4568 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==> Parameters: 
2018-03-24 14:07:10.010 ERROR 4568 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchUpdateStateJob....执行定时将今日购物车修改为历史购物车失败

org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
### The error may exist in file [D:\IT\qugou\project\qugou-parent\qugou-all-job\target\classes\mybatis\mapper\jobMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST;     DELIMITER ;;   CREATE PROCEDURE CART_NEW_H_LIST()     BEGIN         DECLARE  S_ID VARCHAR(32) DEFAULT NULL;    DECLARE  B_NUMBER INT(9) DEFAULT 0;    DECLARE  IS_COUNT INT(9) DEFAULT 0;    DECLARE  M_TIME TIMESTAMP;       DECLARE FINISHED INT  DEFAULT 0;        DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1;    DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1;     OPEN  CART_NOW_LIST;            READ_LOOP:LOOP              FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME;      IF FINISHED=1 THEN                   LEAVE READ_LOOP;               END IF;       SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT;      IF IS_COUNT=0 THEN        UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;      ELSE        UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1;       UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;               END IF;       END LOOP;    CLOSE CART_NOW_LIST;   COMMIT;   END;    ;;   DELIMITER ;    CALL CART_NEW_H_LIST();
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:74)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:399)
	at com.sun.proxy.$Proxy73.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:165)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:69)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)
	at com.sun.proxy.$Proxy97.batchUpdateStateJob(Unknown Source)
	at com.ityb.qugou.job.service.impl.JobServiceImpl.batchUpdateStateJob(JobServiceImpl.java:21)
	at com.ityb.qugou.job.controller.JobConrtoller.batchUpdateStateJob(JobConrtoller.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:408)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.Util.getInstance(Util.java:408)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:943)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2501)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)
	at com.mysql.jdbc.CallableStatement.execute(CallableStatement.java:823)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy126.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.CallableStatementHandler.query(CallableStatementHandler.java:66)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:78)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:303)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:154)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:102)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:82)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:120)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:113)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:73)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:386)
	... 21 common frames omitted

2018-03-24 14:07:15.002 DEBUG 4568 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==>  Preparing: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST; DELIMITER ;; CREATE PROCEDURE CART_NEW_H_LIST() BEGIN DECLARE S_ID VARCHAR(32) DEFAULT NULL; DECLARE B_NUMBER INT(9) DEFAULT 0; DECLARE IS_COUNT INT(9) DEFAULT 0; DECLARE M_TIME TIMESTAMP; DECLARE FINISHED INT DEFAULT 0; DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1; DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1; OPEN CART_NOW_LIST; READ_LOOP:LOOP FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME; IF FINISHED=1 THEN LEAVE READ_LOOP; END IF; SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT; IF IS_COUNT=0 THEN UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; ELSE UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1; UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; END IF; END LOOP; CLOSE CART_NOW_LIST; COMMIT; END; ;; DELIMITER ; CALL CART_NEW_H_LIST(); 
2018-03-24 14:07:15.005 DEBUG 4568 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==> Parameters: 
2018-03-24 14:07:15.009 ERROR 4568 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchUpdateStateJob....执行定时将今日购物车修改为历史购物车失败

org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
### The error may exist in file [D:\IT\qugou\project\qugou-parent\qugou-all-job\target\classes\mybatis\mapper\jobMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST;     DELIMITER ;;   CREATE PROCEDURE CART_NEW_H_LIST()     BEGIN         DECLARE  S_ID VARCHAR(32) DEFAULT NULL;    DECLARE  B_NUMBER INT(9) DEFAULT 0;    DECLARE  IS_COUNT INT(9) DEFAULT 0;    DECLARE  M_TIME TIMESTAMP;       DECLARE FINISHED INT  DEFAULT 0;        DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1;    DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1;     OPEN  CART_NOW_LIST;            READ_LOOP:LOOP              FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME;      IF FINISHED=1 THEN                   LEAVE READ_LOOP;               END IF;       SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT;      IF IS_COUNT=0 THEN        UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;      ELSE        UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1;       UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;               END IF;       END LOOP;    CLOSE CART_NOW_LIST;   COMMIT;   END;    ;;   DELIMITER ;    CALL CART_NEW_H_LIST();
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:74)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:399)
	at com.sun.proxy.$Proxy73.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:165)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:69)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)
	at com.sun.proxy.$Proxy97.batchUpdateStateJob(Unknown Source)
	at com.ityb.qugou.job.service.impl.JobServiceImpl.batchUpdateStateJob(JobServiceImpl.java:21)
	at com.ityb.qugou.job.controller.JobConrtoller.batchUpdateStateJob(JobConrtoller.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:408)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.Util.getInstance(Util.java:408)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:943)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2501)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)
	at com.mysql.jdbc.CallableStatement.execute(CallableStatement.java:823)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy126.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.CallableStatementHandler.query(CallableStatementHandler.java:66)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:78)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:303)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:154)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:102)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:82)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:120)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:113)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:73)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:386)
	... 21 common frames omitted

2018-03-24 14:07:20.004 DEBUG 4568 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==>  Preparing: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST; DELIMITER ;; CREATE PROCEDURE CART_NEW_H_LIST() BEGIN DECLARE S_ID VARCHAR(32) DEFAULT NULL; DECLARE B_NUMBER INT(9) DEFAULT 0; DECLARE IS_COUNT INT(9) DEFAULT 0; DECLARE M_TIME TIMESTAMP; DECLARE FINISHED INT DEFAULT 0; DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1; DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1; OPEN CART_NOW_LIST; READ_LOOP:LOOP FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME; IF FINISHED=1 THEN LEAVE READ_LOOP; END IF; SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT; IF IS_COUNT=0 THEN UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; ELSE UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1; UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; END IF; END LOOP; CLOSE CART_NOW_LIST; COMMIT; END; ;; DELIMITER ; CALL CART_NEW_H_LIST(); 
2018-03-24 14:07:20.009 DEBUG 4568 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==> Parameters: 
2018-03-24 14:07:20.012 ERROR 4568 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchUpdateStateJob....执行定时将今日购物车修改为历史购物车失败

org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
### The error may exist in file [D:\IT\qugou\project\qugou-parent\qugou-all-job\target\classes\mybatis\mapper\jobMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST;     DELIMITER ;;   CREATE PROCEDURE CART_NEW_H_LIST()     BEGIN         DECLARE  S_ID VARCHAR(32) DEFAULT NULL;    DECLARE  B_NUMBER INT(9) DEFAULT 0;    DECLARE  IS_COUNT INT(9) DEFAULT 0;    DECLARE  M_TIME TIMESTAMP;       DECLARE FINISHED INT  DEFAULT 0;        DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1;    DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1;     OPEN  CART_NOW_LIST;            READ_LOOP:LOOP              FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME;      IF FINISHED=1 THEN                   LEAVE READ_LOOP;               END IF;       SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT;      IF IS_COUNT=0 THEN        UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;      ELSE        UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1;       UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;               END IF;       END LOOP;    CLOSE CART_NOW_LIST;   COMMIT;   END;    ;;   DELIMITER ;    CALL CART_NEW_H_LIST();
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:74)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:399)
	at com.sun.proxy.$Proxy73.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:165)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:69)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)
	at com.sun.proxy.$Proxy97.batchUpdateStateJob(Unknown Source)
	at com.ityb.qugou.job.service.impl.JobServiceImpl.batchUpdateStateJob(JobServiceImpl.java:21)
	at com.ityb.qugou.job.controller.JobConrtoller.batchUpdateStateJob(JobConrtoller.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:408)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.Util.getInstance(Util.java:408)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:943)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2501)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)
	at com.mysql.jdbc.CallableStatement.execute(CallableStatement.java:823)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy126.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.CallableStatementHandler.query(CallableStatementHandler.java:66)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:78)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:303)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:154)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:102)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:82)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:120)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:113)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:73)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:386)
	... 21 common frames omitted

2018-03-24 14:07:25.003 DEBUG 4568 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==>  Preparing: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST; DELIMITER ;; CREATE PROCEDURE CART_NEW_H_LIST() BEGIN DECLARE S_ID VARCHAR(32) DEFAULT NULL; DECLARE B_NUMBER INT(9) DEFAULT 0; DECLARE IS_COUNT INT(9) DEFAULT 0; DECLARE M_TIME TIMESTAMP; DECLARE FINISHED INT DEFAULT 0; DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1; DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1; OPEN CART_NOW_LIST; READ_LOOP:LOOP FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME; IF FINISHED=1 THEN LEAVE READ_LOOP; END IF; SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT; IF IS_COUNT=0 THEN UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; ELSE UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1; UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; END IF; END LOOP; CLOSE CART_NOW_LIST; COMMIT; END; ;; DELIMITER ; CALL CART_NEW_H_LIST(); 
2018-03-24 14:07:25.005 DEBUG 4568 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==> Parameters: 
2018-03-24 14:07:25.008 ERROR 4568 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchUpdateStateJob....执行定时将今日购物车修改为历史购物车失败

org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
### The error may exist in file [D:\IT\qugou\project\qugou-parent\qugou-all-job\target\classes\mybatis\mapper\jobMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST;     DELIMITER ;;   CREATE PROCEDURE CART_NEW_H_LIST()     BEGIN         DECLARE  S_ID VARCHAR(32) DEFAULT NULL;    DECLARE  B_NUMBER INT(9) DEFAULT 0;    DECLARE  IS_COUNT INT(9) DEFAULT 0;    DECLARE  M_TIME TIMESTAMP;       DECLARE FINISHED INT  DEFAULT 0;        DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1;    DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1;     OPEN  CART_NOW_LIST;            READ_LOOP:LOOP              FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME;      IF FINISHED=1 THEN                   LEAVE READ_LOOP;               END IF;       SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT;      IF IS_COUNT=0 THEN        UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;      ELSE        UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1;       UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;               END IF;       END LOOP;    CLOSE CART_NOW_LIST;   COMMIT;   END;    ;;   DELIMITER ;    CALL CART_NEW_H_LIST();
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:74)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:399)
	at com.sun.proxy.$Proxy73.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:165)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:69)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)
	at com.sun.proxy.$Proxy97.batchUpdateStateJob(Unknown Source)
	at com.ityb.qugou.job.service.impl.JobServiceImpl.batchUpdateStateJob(JobServiceImpl.java:21)
	at com.ityb.qugou.job.controller.JobConrtoller.batchUpdateStateJob(JobConrtoller.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:408)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.Util.getInstance(Util.java:408)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:943)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2501)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)
	at com.mysql.jdbc.CallableStatement.execute(CallableStatement.java:823)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy126.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.CallableStatementHandler.query(CallableStatementHandler.java:66)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:78)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:303)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:154)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:102)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:82)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:120)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:113)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:73)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:386)
	... 21 common frames omitted

2018-03-24 14:07:30.004 DEBUG 4568 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==>  Preparing: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST; DELIMITER ;; CREATE PROCEDURE CART_NEW_H_LIST() BEGIN DECLARE S_ID VARCHAR(32) DEFAULT NULL; DECLARE B_NUMBER INT(9) DEFAULT 0; DECLARE IS_COUNT INT(9) DEFAULT 0; DECLARE M_TIME TIMESTAMP; DECLARE FINISHED INT DEFAULT 0; DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1; DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1; OPEN CART_NOW_LIST; READ_LOOP:LOOP FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME; IF FINISHED=1 THEN LEAVE READ_LOOP; END IF; SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT; IF IS_COUNT=0 THEN UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; ELSE UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1; UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; END IF; END LOOP; CLOSE CART_NOW_LIST; COMMIT; END; ;; DELIMITER ; CALL CART_NEW_H_LIST(); 
2018-03-24 14:07:30.006 DEBUG 4568 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==> Parameters: 
2018-03-24 14:07:30.026 ERROR 4568 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchUpdateStateJob....执行定时将今日购物车修改为历史购物车失败

org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
### The error may exist in file [D:\IT\qugou\project\qugou-parent\qugou-all-job\target\classes\mybatis\mapper\jobMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST;     DELIMITER ;;   CREATE PROCEDURE CART_NEW_H_LIST()     BEGIN         DECLARE  S_ID VARCHAR(32) DEFAULT NULL;    DECLARE  B_NUMBER INT(9) DEFAULT 0;    DECLARE  IS_COUNT INT(9) DEFAULT 0;    DECLARE  M_TIME TIMESTAMP;       DECLARE FINISHED INT  DEFAULT 0;        DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1;    DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1;     OPEN  CART_NOW_LIST;            READ_LOOP:LOOP              FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME;      IF FINISHED=1 THEN                   LEAVE READ_LOOP;               END IF;       SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT;      IF IS_COUNT=0 THEN        UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;      ELSE        UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1;       UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;               END IF;       END LOOP;    CLOSE CART_NOW_LIST;   COMMIT;   END;    ;;   DELIMITER ;    CALL CART_NEW_H_LIST();
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:74)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:399)
	at com.sun.proxy.$Proxy73.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:165)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:69)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)
	at com.sun.proxy.$Proxy97.batchUpdateStateJob(Unknown Source)
	at com.ityb.qugou.job.service.impl.JobServiceImpl.batchUpdateStateJob(JobServiceImpl.java:21)
	at com.ityb.qugou.job.controller.JobConrtoller.batchUpdateStateJob(JobConrtoller.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:408)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.Util.getInstance(Util.java:408)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:943)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2501)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)
	at com.mysql.jdbc.CallableStatement.execute(CallableStatement.java:823)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy126.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.CallableStatementHandler.query(CallableStatementHandler.java:66)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:78)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:303)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:154)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:102)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:82)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:120)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:113)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:73)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:386)
	... 21 common frames omitted

2018-03-24 14:07:35.001 DEBUG 4568 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==>  Preparing: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST; DELIMITER ;; CREATE PROCEDURE CART_NEW_H_LIST() BEGIN DECLARE S_ID VARCHAR(32) DEFAULT NULL; DECLARE B_NUMBER INT(9) DEFAULT 0; DECLARE IS_COUNT INT(9) DEFAULT 0; DECLARE M_TIME TIMESTAMP; DECLARE FINISHED INT DEFAULT 0; DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1; DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1; OPEN CART_NOW_LIST; READ_LOOP:LOOP FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME; IF FINISHED=1 THEN LEAVE READ_LOOP; END IF; SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT; IF IS_COUNT=0 THEN UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; ELSE UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1; UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; END IF; END LOOP; CLOSE CART_NOW_LIST; COMMIT; END; ;; DELIMITER ; CALL CART_NEW_H_LIST(); 
2018-03-24 14:07:35.004 DEBUG 4568 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==> Parameters: 
2018-03-24 14:07:35.007 ERROR 4568 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchUpdateStateJob....执行定时将今日购物车修改为历史购物车失败

org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
### The error may exist in file [D:\IT\qugou\project\qugou-parent\qugou-all-job\target\classes\mybatis\mapper\jobMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST;     DELIMITER ;;   CREATE PROCEDURE CART_NEW_H_LIST()     BEGIN         DECLARE  S_ID VARCHAR(32) DEFAULT NULL;    DECLARE  B_NUMBER INT(9) DEFAULT 0;    DECLARE  IS_COUNT INT(9) DEFAULT 0;    DECLARE  M_TIME TIMESTAMP;       DECLARE FINISHED INT  DEFAULT 0;        DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1;    DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1;     OPEN  CART_NOW_LIST;            READ_LOOP:LOOP              FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME;      IF FINISHED=1 THEN                   LEAVE READ_LOOP;               END IF;       SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT;      IF IS_COUNT=0 THEN        UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;      ELSE        UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1;       UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;               END IF;       END LOOP;    CLOSE CART_NOW_LIST;   COMMIT;   END;    ;;   DELIMITER ;    CALL CART_NEW_H_LIST();
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:74)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:399)
	at com.sun.proxy.$Proxy73.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:165)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:69)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)
	at com.sun.proxy.$Proxy97.batchUpdateStateJob(Unknown Source)
	at com.ityb.qugou.job.service.impl.JobServiceImpl.batchUpdateStateJob(JobServiceImpl.java:21)
	at com.ityb.qugou.job.controller.JobConrtoller.batchUpdateStateJob(JobConrtoller.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:408)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.Util.getInstance(Util.java:408)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:943)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2501)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)
	at com.mysql.jdbc.CallableStatement.execute(CallableStatement.java:823)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy126.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.CallableStatementHandler.query(CallableStatementHandler.java:66)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:78)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:303)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:154)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:102)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:82)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:120)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:113)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:73)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:386)
	... 21 common frames omitted

2018-03-24 14:07:40.003 DEBUG 4568 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==>  Preparing: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST; DELIMITER ;; CREATE PROCEDURE CART_NEW_H_LIST() BEGIN DECLARE S_ID VARCHAR(32) DEFAULT NULL; DECLARE B_NUMBER INT(9) DEFAULT 0; DECLARE IS_COUNT INT(9) DEFAULT 0; DECLARE M_TIME TIMESTAMP; DECLARE FINISHED INT DEFAULT 0; DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1; DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1; OPEN CART_NOW_LIST; READ_LOOP:LOOP FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME; IF FINISHED=1 THEN LEAVE READ_LOOP; END IF; SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT; IF IS_COUNT=0 THEN UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; ELSE UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1; UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; END IF; END LOOP; CLOSE CART_NOW_LIST; COMMIT; END; ;; DELIMITER ; CALL CART_NEW_H_LIST(); 
2018-03-24 14:07:40.006 DEBUG 4568 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==> Parameters: 
2018-03-24 14:07:40.009 ERROR 4568 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchUpdateStateJob....执行定时将今日购物车修改为历史购物车失败

org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
### The error may exist in file [D:\IT\qugou\project\qugou-parent\qugou-all-job\target\classes\mybatis\mapper\jobMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST;     DELIMITER ;;   CREATE PROCEDURE CART_NEW_H_LIST()     BEGIN         DECLARE  S_ID VARCHAR(32) DEFAULT NULL;    DECLARE  B_NUMBER INT(9) DEFAULT 0;    DECLARE  IS_COUNT INT(9) DEFAULT 0;    DECLARE  M_TIME TIMESTAMP;       DECLARE FINISHED INT  DEFAULT 0;        DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1;    DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1;     OPEN  CART_NOW_LIST;            READ_LOOP:LOOP              FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME;      IF FINISHED=1 THEN                   LEAVE READ_LOOP;               END IF;       SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT;      IF IS_COUNT=0 THEN        UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;      ELSE        UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1;       UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;               END IF;       END LOOP;    CLOSE CART_NOW_LIST;   COMMIT;   END;    ;;   DELIMITER ;    CALL CART_NEW_H_LIST();
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:74)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:399)
	at com.sun.proxy.$Proxy73.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:165)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:69)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)
	at com.sun.proxy.$Proxy97.batchUpdateStateJob(Unknown Source)
	at com.ityb.qugou.job.service.impl.JobServiceImpl.batchUpdateStateJob(JobServiceImpl.java:21)
	at com.ityb.qugou.job.controller.JobConrtoller.batchUpdateStateJob(JobConrtoller.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:408)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.Util.getInstance(Util.java:408)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:943)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2501)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)
	at com.mysql.jdbc.CallableStatement.execute(CallableStatement.java:823)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy126.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.CallableStatementHandler.query(CallableStatementHandler.java:66)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:78)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:303)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:154)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:102)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:82)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:120)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:113)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:73)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:386)
	... 21 common frames omitted

2018-03-24 14:07:45.003 DEBUG 4568 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==>  Preparing: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST; DELIMITER ;; CREATE PROCEDURE CART_NEW_H_LIST() BEGIN DECLARE S_ID VARCHAR(32) DEFAULT NULL; DECLARE B_NUMBER INT(9) DEFAULT 0; DECLARE IS_COUNT INT(9) DEFAULT 0; DECLARE M_TIME TIMESTAMP; DECLARE FINISHED INT DEFAULT 0; DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1; DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1; OPEN CART_NOW_LIST; READ_LOOP:LOOP FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME; IF FINISHED=1 THEN LEAVE READ_LOOP; END IF; SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT; IF IS_COUNT=0 THEN UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; ELSE UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1; UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; END IF; END LOOP; CLOSE CART_NOW_LIST; COMMIT; END; ;; DELIMITER ; CALL CART_NEW_H_LIST(); 
2018-03-24 14:07:45.006 DEBUG 4568 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==> Parameters: 
2018-03-24 14:07:45.011 ERROR 4568 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchUpdateStateJob....执行定时将今日购物车修改为历史购物车失败

org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
### The error may exist in file [D:\IT\qugou\project\qugou-parent\qugou-all-job\target\classes\mybatis\mapper\jobMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST;     DELIMITER ;;   CREATE PROCEDURE CART_NEW_H_LIST()     BEGIN         DECLARE  S_ID VARCHAR(32) DEFAULT NULL;    DECLARE  B_NUMBER INT(9) DEFAULT 0;    DECLARE  IS_COUNT INT(9) DEFAULT 0;    DECLARE  M_TIME TIMESTAMP;       DECLARE FINISHED INT  DEFAULT 0;        DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1;    DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1;     OPEN  CART_NOW_LIST;            READ_LOOP:LOOP              FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME;      IF FINISHED=1 THEN                   LEAVE READ_LOOP;               END IF;       SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT;      IF IS_COUNT=0 THEN        UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;      ELSE        UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1;       UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;               END IF;       END LOOP;    CLOSE CART_NOW_LIST;   COMMIT;   END;    ;;   DELIMITER ;    CALL CART_NEW_H_LIST();
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:74)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:399)
	at com.sun.proxy.$Proxy73.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:165)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:69)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)
	at com.sun.proxy.$Proxy97.batchUpdateStateJob(Unknown Source)
	at com.ityb.qugou.job.service.impl.JobServiceImpl.batchUpdateStateJob(JobServiceImpl.java:21)
	at com.ityb.qugou.job.controller.JobConrtoller.batchUpdateStateJob(JobConrtoller.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:408)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.Util.getInstance(Util.java:408)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:943)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2501)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)
	at com.mysql.jdbc.CallableStatement.execute(CallableStatement.java:823)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy126.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.CallableStatementHandler.query(CallableStatementHandler.java:66)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:78)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:303)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:154)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:102)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:82)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:120)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:113)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:73)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:386)
	... 21 common frames omitted

2018-03-24 14:07:50.002 DEBUG 4568 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==>  Preparing: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST; DELIMITER ;; CREATE PROCEDURE CART_NEW_H_LIST() BEGIN DECLARE S_ID VARCHAR(32) DEFAULT NULL; DECLARE B_NUMBER INT(9) DEFAULT 0; DECLARE IS_COUNT INT(9) DEFAULT 0; DECLARE M_TIME TIMESTAMP; DECLARE FINISHED INT DEFAULT 0; DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1; DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1; OPEN CART_NOW_LIST; READ_LOOP:LOOP FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME; IF FINISHED=1 THEN LEAVE READ_LOOP; END IF; SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT; IF IS_COUNT=0 THEN UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; ELSE UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1; UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; END IF; END LOOP; CLOSE CART_NOW_LIST; COMMIT; END; ;; DELIMITER ; CALL CART_NEW_H_LIST(); 
2018-03-24 14:07:50.006 DEBUG 4568 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==> Parameters: 
2018-03-24 14:07:50.012 ERROR 4568 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchUpdateStateJob....执行定时将今日购物车修改为历史购物车失败

org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
### The error may exist in file [D:\IT\qugou\project\qugou-parent\qugou-all-job\target\classes\mybatis\mapper\jobMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST;     DELIMITER ;;   CREATE PROCEDURE CART_NEW_H_LIST()     BEGIN         DECLARE  S_ID VARCHAR(32) DEFAULT NULL;    DECLARE  B_NUMBER INT(9) DEFAULT 0;    DECLARE  IS_COUNT INT(9) DEFAULT 0;    DECLARE  M_TIME TIMESTAMP;       DECLARE FINISHED INT  DEFAULT 0;        DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1;    DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1;     OPEN  CART_NOW_LIST;            READ_LOOP:LOOP              FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME;      IF FINISHED=1 THEN                   LEAVE READ_LOOP;               END IF;       SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT;      IF IS_COUNT=0 THEN        UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;      ELSE        UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1;       UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;               END IF;       END LOOP;    CLOSE CART_NOW_LIST;   COMMIT;   END;    ;;   DELIMITER ;    CALL CART_NEW_H_LIST();
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:74)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:399)
	at com.sun.proxy.$Proxy73.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:165)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:69)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)
	at com.sun.proxy.$Proxy97.batchUpdateStateJob(Unknown Source)
	at com.ityb.qugou.job.service.impl.JobServiceImpl.batchUpdateStateJob(JobServiceImpl.java:21)
	at com.ityb.qugou.job.controller.JobConrtoller.batchUpdateStateJob(JobConrtoller.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:408)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.Util.getInstance(Util.java:408)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:943)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2501)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)
	at com.mysql.jdbc.CallableStatement.execute(CallableStatement.java:823)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy126.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.CallableStatementHandler.query(CallableStatementHandler.java:66)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:78)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:303)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:154)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:102)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:82)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:120)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:113)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:73)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:386)
	... 21 common frames omitted

2018-03-24 14:07:55.004 DEBUG 4568 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==>  Preparing: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST; DELIMITER ;; CREATE PROCEDURE CART_NEW_H_LIST() BEGIN DECLARE S_ID VARCHAR(32) DEFAULT NULL; DECLARE B_NUMBER INT(9) DEFAULT 0; DECLARE IS_COUNT INT(9) DEFAULT 0; DECLARE M_TIME TIMESTAMP; DECLARE FINISHED INT DEFAULT 0; DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1; DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1; OPEN CART_NOW_LIST; READ_LOOP:LOOP FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME; IF FINISHED=1 THEN LEAVE READ_LOOP; END IF; SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT; IF IS_COUNT=0 THEN UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; ELSE UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1; UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; END IF; END LOOP; CLOSE CART_NOW_LIST; COMMIT; END; ;; DELIMITER ; CALL CART_NEW_H_LIST(); 
2018-03-24 14:07:55.006 DEBUG 4568 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==> Parameters: 
2018-03-24 14:07:55.011 ERROR 4568 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchUpdateStateJob....执行定时将今日购物车修改为历史购物车失败

org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
### The error may exist in file [D:\IT\qugou\project\qugou-parent\qugou-all-job\target\classes\mybatis\mapper\jobMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST;     DELIMITER ;;   CREATE PROCEDURE CART_NEW_H_LIST()     BEGIN         DECLARE  S_ID VARCHAR(32) DEFAULT NULL;    DECLARE  B_NUMBER INT(9) DEFAULT 0;    DECLARE  IS_COUNT INT(9) DEFAULT 0;    DECLARE  M_TIME TIMESTAMP;       DECLARE FINISHED INT  DEFAULT 0;        DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1;    DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1;     OPEN  CART_NOW_LIST;            READ_LOOP:LOOP              FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME;      IF FINISHED=1 THEN                   LEAVE READ_LOOP;               END IF;       SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT;      IF IS_COUNT=0 THEN        UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;      ELSE        UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1;       UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;               END IF;       END LOOP;    CLOSE CART_NOW_LIST;   COMMIT;   END;    ;;   DELIMITER ;    CALL CART_NEW_H_LIST();
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:74)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:399)
	at com.sun.proxy.$Proxy73.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:165)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:69)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)
	at com.sun.proxy.$Proxy97.batchUpdateStateJob(Unknown Source)
	at com.ityb.qugou.job.service.impl.JobServiceImpl.batchUpdateStateJob(JobServiceImpl.java:21)
	at com.ityb.qugou.job.controller.JobConrtoller.batchUpdateStateJob(JobConrtoller.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:408)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.Util.getInstance(Util.java:408)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:943)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2501)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)
	at com.mysql.jdbc.CallableStatement.execute(CallableStatement.java:823)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy126.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.CallableStatementHandler.query(CallableStatementHandler.java:66)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:78)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:303)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:154)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:102)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:82)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:120)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:113)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:73)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:386)
	... 21 common frames omitted

2018-03-24 14:08:00.002 DEBUG 4568 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==>  Preparing: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST; DELIMITER ;; CREATE PROCEDURE CART_NEW_H_LIST() BEGIN DECLARE S_ID VARCHAR(32) DEFAULT NULL; DECLARE B_NUMBER INT(9) DEFAULT 0; DECLARE IS_COUNT INT(9) DEFAULT 0; DECLARE M_TIME TIMESTAMP; DECLARE FINISHED INT DEFAULT 0; DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1; DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1; OPEN CART_NOW_LIST; READ_LOOP:LOOP FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME; IF FINISHED=1 THEN LEAVE READ_LOOP; END IF; SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT; IF IS_COUNT=0 THEN UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; ELSE UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1; UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; END IF; END LOOP; CLOSE CART_NOW_LIST; COMMIT; END; ;; DELIMITER ; CALL CART_NEW_H_LIST(); 
2018-03-24 14:08:00.004 DEBUG 4568 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==> Parameters: 
2018-03-24 14:08:00.007 ERROR 4568 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchUpdateStateJob....执行定时将今日购物车修改为历史购物车失败

org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
### The error may exist in file [D:\IT\qugou\project\qugou-parent\qugou-all-job\target\classes\mybatis\mapper\jobMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST;     DELIMITER ;;   CREATE PROCEDURE CART_NEW_H_LIST()     BEGIN         DECLARE  S_ID VARCHAR(32) DEFAULT NULL;    DECLARE  B_NUMBER INT(9) DEFAULT 0;    DECLARE  IS_COUNT INT(9) DEFAULT 0;    DECLARE  M_TIME TIMESTAMP;       DECLARE FINISHED INT  DEFAULT 0;        DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1;    DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1;     OPEN  CART_NOW_LIST;            READ_LOOP:LOOP              FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME;      IF FINISHED=1 THEN                   LEAVE READ_LOOP;               END IF;       SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT;      IF IS_COUNT=0 THEN        UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;      ELSE        UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1;       UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;               END IF;       END LOOP;    CLOSE CART_NOW_LIST;   COMMIT;   END;    ;;   DELIMITER ;    CALL CART_NEW_H_LIST();
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:74)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:399)
	at com.sun.proxy.$Proxy73.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:165)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:69)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)
	at com.sun.proxy.$Proxy97.batchUpdateStateJob(Unknown Source)
	at com.ityb.qugou.job.service.impl.JobServiceImpl.batchUpdateStateJob(JobServiceImpl.java:21)
	at com.ityb.qugou.job.controller.JobConrtoller.batchUpdateStateJob(JobConrtoller.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:408)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.Util.getInstance(Util.java:408)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:943)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2501)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)
	at com.mysql.jdbc.CallableStatement.execute(CallableStatement.java:823)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy126.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.CallableStatementHandler.query(CallableStatementHandler.java:66)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:78)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:303)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:154)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:102)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:82)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:120)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:113)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:73)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:386)
	... 21 common frames omitted

2018-03-24 14:08:05.004 DEBUG 4568 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==>  Preparing: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST; DELIMITER ;; CREATE PROCEDURE CART_NEW_H_LIST() BEGIN DECLARE S_ID VARCHAR(32) DEFAULT NULL; DECLARE B_NUMBER INT(9) DEFAULT 0; DECLARE IS_COUNT INT(9) DEFAULT 0; DECLARE M_TIME TIMESTAMP; DECLARE FINISHED INT DEFAULT 0; DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1; DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1; OPEN CART_NOW_LIST; READ_LOOP:LOOP FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME; IF FINISHED=1 THEN LEAVE READ_LOOP; END IF; SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT; IF IS_COUNT=0 THEN UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; ELSE UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1; UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; END IF; END LOOP; CLOSE CART_NOW_LIST; COMMIT; END; ;; DELIMITER ; CALL CART_NEW_H_LIST(); 
2018-03-24 14:08:05.006 DEBUG 4568 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==> Parameters: 
2018-03-24 14:08:05.012 ERROR 4568 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchUpdateStateJob....执行定时将今日购物车修改为历史购物车失败

org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
### The error may exist in file [D:\IT\qugou\project\qugou-parent\qugou-all-job\target\classes\mybatis\mapper\jobMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST;     DELIMITER ;;   CREATE PROCEDURE CART_NEW_H_LIST()     BEGIN         DECLARE  S_ID VARCHAR(32) DEFAULT NULL;    DECLARE  B_NUMBER INT(9) DEFAULT 0;    DECLARE  IS_COUNT INT(9) DEFAULT 0;    DECLARE  M_TIME TIMESTAMP;       DECLARE FINISHED INT  DEFAULT 0;        DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1;    DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1;     OPEN  CART_NOW_LIST;            READ_LOOP:LOOP              FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME;      IF FINISHED=1 THEN                   LEAVE READ_LOOP;               END IF;       SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT;      IF IS_COUNT=0 THEN        UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;      ELSE        UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1;       UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;               END IF;       END LOOP;    CLOSE CART_NOW_LIST;   COMMIT;   END;    ;;   DELIMITER ;    CALL CART_NEW_H_LIST();
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:74)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:399)
	at com.sun.proxy.$Proxy73.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:165)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:69)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)
	at com.sun.proxy.$Proxy97.batchUpdateStateJob(Unknown Source)
	at com.ityb.qugou.job.service.impl.JobServiceImpl.batchUpdateStateJob(JobServiceImpl.java:21)
	at com.ityb.qugou.job.controller.JobConrtoller.batchUpdateStateJob(JobConrtoller.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:408)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.Util.getInstance(Util.java:408)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:943)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2501)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)
	at com.mysql.jdbc.CallableStatement.execute(CallableStatement.java:823)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy126.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.CallableStatementHandler.query(CallableStatementHandler.java:66)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:78)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:303)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:154)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:102)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:82)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:120)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:113)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:73)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:386)
	... 21 common frames omitted

2018-03-24 14:08:10.005 DEBUG 4568 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==>  Preparing: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST; DELIMITER ;; CREATE PROCEDURE CART_NEW_H_LIST() BEGIN DECLARE S_ID VARCHAR(32) DEFAULT NULL; DECLARE B_NUMBER INT(9) DEFAULT 0; DECLARE IS_COUNT INT(9) DEFAULT 0; DECLARE M_TIME TIMESTAMP; DECLARE FINISHED INT DEFAULT 0; DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1; DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1; OPEN CART_NOW_LIST; READ_LOOP:LOOP FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME; IF FINISHED=1 THEN LEAVE READ_LOOP; END IF; SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT; IF IS_COUNT=0 THEN UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; ELSE UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1; UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; END IF; END LOOP; CLOSE CART_NOW_LIST; COMMIT; END; ;; DELIMITER ; CALL CART_NEW_H_LIST(); 
2018-03-24 14:08:10.009 DEBUG 4568 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==> Parameters: 
2018-03-24 14:08:10.016 ERROR 4568 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchUpdateStateJob....执行定时将今日购物车修改为历史购物车失败

org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
### The error may exist in file [D:\IT\qugou\project\qugou-parent\qugou-all-job\target\classes\mybatis\mapper\jobMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST;     DELIMITER ;;   CREATE PROCEDURE CART_NEW_H_LIST()     BEGIN         DECLARE  S_ID VARCHAR(32) DEFAULT NULL;    DECLARE  B_NUMBER INT(9) DEFAULT 0;    DECLARE  IS_COUNT INT(9) DEFAULT 0;    DECLARE  M_TIME TIMESTAMP;       DECLARE FINISHED INT  DEFAULT 0;        DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1;    DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1;     OPEN  CART_NOW_LIST;            READ_LOOP:LOOP              FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME;      IF FINISHED=1 THEN                   LEAVE READ_LOOP;               END IF;       SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT;      IF IS_COUNT=0 THEN        UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;      ELSE        UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1;       UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;               END IF;       END LOOP;    CLOSE CART_NOW_LIST;   COMMIT;   END;    ;;   DELIMITER ;    CALL CART_NEW_H_LIST();
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:74)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:399)
	at com.sun.proxy.$Proxy73.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:165)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:69)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)
	at com.sun.proxy.$Proxy97.batchUpdateStateJob(Unknown Source)
	at com.ityb.qugou.job.service.impl.JobServiceImpl.batchUpdateStateJob(JobServiceImpl.java:21)
	at com.ityb.qugou.job.controller.JobConrtoller.batchUpdateStateJob(JobConrtoller.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:408)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.Util.getInstance(Util.java:408)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:943)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2501)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)
	at com.mysql.jdbc.CallableStatement.execute(CallableStatement.java:823)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy126.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.CallableStatementHandler.query(CallableStatementHandler.java:66)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:78)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:303)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:154)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:102)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:82)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:120)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:113)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:73)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:386)
	... 21 common frames omitted

2018-03-24 14:08:15.004 DEBUG 4568 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==>  Preparing: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST; DELIMITER ;; CREATE PROCEDURE CART_NEW_H_LIST() BEGIN DECLARE S_ID VARCHAR(32) DEFAULT NULL; DECLARE B_NUMBER INT(9) DEFAULT 0; DECLARE IS_COUNT INT(9) DEFAULT 0; DECLARE M_TIME TIMESTAMP; DECLARE FINISHED INT DEFAULT 0; DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1; DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1; OPEN CART_NOW_LIST; READ_LOOP:LOOP FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME; IF FINISHED=1 THEN LEAVE READ_LOOP; END IF; SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT; IF IS_COUNT=0 THEN UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; ELSE UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1; UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; END IF; END LOOP; CLOSE CART_NOW_LIST; COMMIT; END; ;; DELIMITER ; CALL CART_NEW_H_LIST(); 
2018-03-24 14:08:15.006 DEBUG 4568 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==> Parameters: 
2018-03-24 14:08:15.013 ERROR 4568 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchUpdateStateJob....执行定时将今日购物车修改为历史购物车失败

org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
### The error may exist in file [D:\IT\qugou\project\qugou-parent\qugou-all-job\target\classes\mybatis\mapper\jobMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST;     DELIMITER ;;   CREATE PROCEDURE CART_NEW_H_LIST()     BEGIN         DECLARE  S_ID VARCHAR(32) DEFAULT NULL;    DECLARE  B_NUMBER INT(9) DEFAULT 0;    DECLARE  IS_COUNT INT(9) DEFAULT 0;    DECLARE  M_TIME TIMESTAMP;       DECLARE FINISHED INT  DEFAULT 0;        DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1;    DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1;     OPEN  CART_NOW_LIST;            READ_LOOP:LOOP              FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME;      IF FINISHED=1 THEN                   LEAVE READ_LOOP;               END IF;       SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT;      IF IS_COUNT=0 THEN        UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;      ELSE        UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1;       UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;               END IF;       END LOOP;    CLOSE CART_NOW_LIST;   COMMIT;   END;    ;;   DELIMITER ;    CALL CART_NEW_H_LIST();
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:74)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:399)
	at com.sun.proxy.$Proxy73.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:165)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:69)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)
	at com.sun.proxy.$Proxy97.batchUpdateStateJob(Unknown Source)
	at com.ityb.qugou.job.service.impl.JobServiceImpl.batchUpdateStateJob(JobServiceImpl.java:21)
	at com.ityb.qugou.job.controller.JobConrtoller.batchUpdateStateJob(JobConrtoller.java:34)
	at sun.reflect.GeneratedMethodAccessor49.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
	at sun.reflect.GeneratedConstructorAccessor67.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:408)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.Util.getInstance(Util.java:408)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:943)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2501)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)
	at com.mysql.jdbc.CallableStatement.execute(CallableStatement.java:823)
	at sun.reflect.GeneratedMethodAccessor52.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy126.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.CallableStatementHandler.query(CallableStatementHandler.java:66)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:78)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:303)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:154)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:102)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:82)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:120)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:113)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:73)
	at sun.reflect.GeneratedMethodAccessor50.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:386)
	... 20 common frames omitted

2018-03-24 14:08:20.003 DEBUG 4568 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==>  Preparing: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST; DELIMITER ;; CREATE PROCEDURE CART_NEW_H_LIST() BEGIN DECLARE S_ID VARCHAR(32) DEFAULT NULL; DECLARE B_NUMBER INT(9) DEFAULT 0; DECLARE IS_COUNT INT(9) DEFAULT 0; DECLARE M_TIME TIMESTAMP; DECLARE FINISHED INT DEFAULT 0; DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1; DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1; OPEN CART_NOW_LIST; READ_LOOP:LOOP FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME; IF FINISHED=1 THEN LEAVE READ_LOOP; END IF; SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT; IF IS_COUNT=0 THEN UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; ELSE UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1; UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; END IF; END LOOP; CLOSE CART_NOW_LIST; COMMIT; END; ;; DELIMITER ; CALL CART_NEW_H_LIST(); 
2018-03-24 14:08:20.006 DEBUG 4568 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==> Parameters: 
2018-03-24 14:08:20.009 ERROR 4568 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchUpdateStateJob....执行定时将今日购物车修改为历史购物车失败

org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
### The error may exist in file [D:\IT\qugou\project\qugou-parent\qugou-all-job\target\classes\mybatis\mapper\jobMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST;     DELIMITER ;;   CREATE PROCEDURE CART_NEW_H_LIST()     BEGIN         DECLARE  S_ID VARCHAR(32) DEFAULT NULL;    DECLARE  B_NUMBER INT(9) DEFAULT 0;    DECLARE  IS_COUNT INT(9) DEFAULT 0;    DECLARE  M_TIME TIMESTAMP;       DECLARE FINISHED INT  DEFAULT 0;        DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1;    DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1;     OPEN  CART_NOW_LIST;            READ_LOOP:LOOP              FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME;      IF FINISHED=1 THEN                   LEAVE READ_LOOP;               END IF;       SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT;      IF IS_COUNT=0 THEN        UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;      ELSE        UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1;       UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;               END IF;       END LOOP;    CLOSE CART_NOW_LIST;   COMMIT;   END;    ;;   DELIMITER ;    CALL CART_NEW_H_LIST();
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:74)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:399)
	at com.sun.proxy.$Proxy73.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:165)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:69)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)
	at com.sun.proxy.$Proxy97.batchUpdateStateJob(Unknown Source)
	at com.ityb.qugou.job.service.impl.JobServiceImpl.batchUpdateStateJob(JobServiceImpl.java:21)
	at com.ityb.qugou.job.controller.JobConrtoller.batchUpdateStateJob(JobConrtoller.java:34)
	at sun.reflect.GeneratedMethodAccessor49.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
	at sun.reflect.GeneratedConstructorAccessor67.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:408)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.Util.getInstance(Util.java:408)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:943)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2501)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)
	at com.mysql.jdbc.CallableStatement.execute(CallableStatement.java:823)
	at sun.reflect.GeneratedMethodAccessor52.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy126.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.CallableStatementHandler.query(CallableStatementHandler.java:66)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:78)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:303)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:154)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:102)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:82)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:120)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:113)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:73)
	at sun.reflect.GeneratedMethodAccessor50.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:386)
	... 20 common frames omitted

2018-03-24 14:08:25.002 DEBUG 4568 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==>  Preparing: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST; DELIMITER ;; CREATE PROCEDURE CART_NEW_H_LIST() BEGIN DECLARE S_ID VARCHAR(32) DEFAULT NULL; DECLARE B_NUMBER INT(9) DEFAULT 0; DECLARE IS_COUNT INT(9) DEFAULT 0; DECLARE M_TIME TIMESTAMP; DECLARE FINISHED INT DEFAULT 0; DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1; DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1; OPEN CART_NOW_LIST; READ_LOOP:LOOP FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME; IF FINISHED=1 THEN LEAVE READ_LOOP; END IF; SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT; IF IS_COUNT=0 THEN UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; ELSE UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1; UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; END IF; END LOOP; CLOSE CART_NOW_LIST; COMMIT; END; ;; DELIMITER ; CALL CART_NEW_H_LIST(); 
2018-03-24 14:08:25.003 DEBUG 4568 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==> Parameters: 
2018-03-24 14:08:25.005 ERROR 4568 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchUpdateStateJob....执行定时将今日购物车修改为历史购物车失败

org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
### The error may exist in file [D:\IT\qugou\project\qugou-parent\qugou-all-job\target\classes\mybatis\mapper\jobMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST;     DELIMITER ;;   CREATE PROCEDURE CART_NEW_H_LIST()     BEGIN         DECLARE  S_ID VARCHAR(32) DEFAULT NULL;    DECLARE  B_NUMBER INT(9) DEFAULT 0;    DECLARE  IS_COUNT INT(9) DEFAULT 0;    DECLARE  M_TIME TIMESTAMP;       DECLARE FINISHED INT  DEFAULT 0;        DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1;    DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1;     OPEN  CART_NOW_LIST;            READ_LOOP:LOOP              FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME;      IF FINISHED=1 THEN                   LEAVE READ_LOOP;               END IF;       SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT;      IF IS_COUNT=0 THEN        UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;      ELSE        UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1;       UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;               END IF;       END LOOP;    CLOSE CART_NOW_LIST;   COMMIT;   END;    ;;   DELIMITER ;    CALL CART_NEW_H_LIST();
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:74)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:399)
	at com.sun.proxy.$Proxy73.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:165)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:69)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)
	at com.sun.proxy.$Proxy97.batchUpdateStateJob(Unknown Source)
	at com.ityb.qugou.job.service.impl.JobServiceImpl.batchUpdateStateJob(JobServiceImpl.java:21)
	at com.ityb.qugou.job.controller.JobConrtoller.batchUpdateStateJob(JobConrtoller.java:34)
	at sun.reflect.GeneratedMethodAccessor49.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
	at sun.reflect.GeneratedConstructorAccessor67.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:408)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.Util.getInstance(Util.java:408)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:943)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2501)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)
	at com.mysql.jdbc.CallableStatement.execute(CallableStatement.java:823)
	at sun.reflect.GeneratedMethodAccessor52.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy126.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.CallableStatementHandler.query(CallableStatementHandler.java:66)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:78)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:303)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:154)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:102)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:82)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:120)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:113)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:73)
	at sun.reflect.GeneratedMethodAccessor50.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:386)
	... 20 common frames omitted

2018-03-24 14:08:30.004 DEBUG 4568 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==>  Preparing: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST; DELIMITER ;; CREATE PROCEDURE CART_NEW_H_LIST() BEGIN DECLARE S_ID VARCHAR(32) DEFAULT NULL; DECLARE B_NUMBER INT(9) DEFAULT 0; DECLARE IS_COUNT INT(9) DEFAULT 0; DECLARE M_TIME TIMESTAMP; DECLARE FINISHED INT DEFAULT 0; DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1; DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1; OPEN CART_NOW_LIST; READ_LOOP:LOOP FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME; IF FINISHED=1 THEN LEAVE READ_LOOP; END IF; SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT; IF IS_COUNT=0 THEN UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; ELSE UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1; UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; END IF; END LOOP; CLOSE CART_NOW_LIST; COMMIT; END; ;; DELIMITER ; CALL CART_NEW_H_LIST(); 
2018-03-24 14:08:30.006 DEBUG 4568 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==> Parameters: 
2018-03-24 14:08:30.011 ERROR 4568 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchUpdateStateJob....执行定时将今日购物车修改为历史购物车失败

org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
### The error may exist in file [D:\IT\qugou\project\qugou-parent\qugou-all-job\target\classes\mybatis\mapper\jobMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST;     DELIMITER ;;   CREATE PROCEDURE CART_NEW_H_LIST()     BEGIN         DECLARE  S_ID VARCHAR(32) DEFAULT NULL;    DECLARE  B_NUMBER INT(9) DEFAULT 0;    DECLARE  IS_COUNT INT(9) DEFAULT 0;    DECLARE  M_TIME TIMESTAMP;       DECLARE FINISHED INT  DEFAULT 0;        DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1;    DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1;     OPEN  CART_NOW_LIST;            READ_LOOP:LOOP              FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME;      IF FINISHED=1 THEN                   LEAVE READ_LOOP;               END IF;       SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT;      IF IS_COUNT=0 THEN        UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;      ELSE        UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1;       UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;               END IF;       END LOOP;    CLOSE CART_NOW_LIST;   COMMIT;   END;    ;;   DELIMITER ;    CALL CART_NEW_H_LIST();
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:74)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:399)
	at com.sun.proxy.$Proxy73.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:165)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:69)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)
	at com.sun.proxy.$Proxy97.batchUpdateStateJob(Unknown Source)
	at com.ityb.qugou.job.service.impl.JobServiceImpl.batchUpdateStateJob(JobServiceImpl.java:21)
	at com.ityb.qugou.job.controller.JobConrtoller.batchUpdateStateJob(JobConrtoller.java:34)
	at sun.reflect.GeneratedMethodAccessor49.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'DELIMITER ;;
		CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_I' at line 2
	at sun.reflect.GeneratedConstructorAccessor67.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:408)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.Util.getInstance(Util.java:408)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:943)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2501)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)
	at com.mysql.jdbc.CallableStatement.execute(CallableStatement.java:823)
	at sun.reflect.GeneratedMethodAccessor52.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy126.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.CallableStatementHandler.query(CallableStatementHandler.java:66)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:78)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:303)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:154)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:102)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:82)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:120)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:113)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:73)
	at sun.reflect.GeneratedMethodAccessor50.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:386)
	... 20 common frames omitted

2018-03-24 14:08:50.499  INFO 11556 --- [main] com.ityb.qugou.JobAppliction             : No active profile set, falling back to default profiles: default
2018-03-24 14:09:01.666  INFO 11556 --- [main] o.apache.catalina.core.StandardService   : Starting service Tomcat
2018-03-24 14:09:01.671  INFO 11556 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.11
2018-03-24 14:09:02.112  INFO 11556 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-03-24 14:09:04.471  INFO 11556 --- [main] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor
2018-03-24 14:09:04.531  INFO 11556 --- [main] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2018-03-24 14:09:04.532  INFO 11556 --- [main] org.quartz.core.QuartzScheduler          : Quartz Scheduler v.2.2.3 created.
2018-03-24 14:09:04.535  INFO 11556 --- [main] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.
2018-03-24 14:09:04.539  INFO 11556 --- [main] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.2.3) 'schedulerFactoryBean' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2018-03-24 14:09:04.540  INFO 11556 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'schedulerFactoryBean' initialized from an externally provided properties instance.
2018-03-24 14:09:04.540  INFO 11556 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.2.3
2018-03-24 14:09:04.547  INFO 11556 --- [main] org.quartz.core.QuartzScheduler          : JobFactory set to: org.springframework.scheduling.quartz.AdaptableJobFactory@7ab1ad9
2018-03-24 14:09:12.472  WARN 11556 --- [main] c.n.c.sources.URLConfigurationSource     : No URLs will be polled as dynamic configuration sources.
2018-03-24 14:09:12.474  INFO 11556 --- [main] c.n.c.sources.URLConfigurationSource     : To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2018-03-24 14:09:12.498  WARN 11556 --- [main] c.n.c.sources.URLConfigurationSource     : No URLs will be polled as dynamic configuration sources.
2018-03-24 14:09:12.501  INFO 11556 --- [main] c.n.c.sources.URLConfigurationSource     : To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2018-03-24 14:09:14.404  INFO 11556 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2018-03-24 14:09:15.007  INFO 11556 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON encoding codec LegacyJacksonJson
2018-03-24 14:09:15.008  INFO 11556 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON decoding codec LegacyJacksonJson
2018-03-24 14:09:15.498  INFO 11556 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML encoding codec XStreamXml
2018-03-24 14:09:15.499  INFO 11556 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML decoding codec XStreamXml
2018-03-24 14:09:16.661  INFO 11556 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-24 14:09:16.935  INFO 11556 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2018-03-24 14:09:16.936  INFO 11556 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2018-03-24 14:09:16.937  INFO 11556 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2018-03-24 14:09:16.937  INFO 11556 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2018-03-24 14:09:16.938  INFO 11556 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2018-03-24 14:09:16.938  INFO 11556 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2018-03-24 14:09:16.938  INFO 11556 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2018-03-24 14:09:17.320  INFO 11556 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2018-03-24 14:09:17.328  INFO 11556 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2018-03-24 14:09:17.339  INFO 11556 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2018-03-24 14:09:17.352  INFO 11556 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1521871757352 with initial instances count: 8
2018-03-24 14:09:17.594  INFO 11556 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1521871757594, current=UP, previous=STARTING]
2018-03-24 14:09:17.603  INFO 11556 --- [main] org.quartz.core.QuartzScheduler          : Scheduler schedulerFactoryBean_$_NON_CLUSTERED started.
2018-03-24 14:09:17.605  INFO 11556 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_JOB-SERVICE/192.168.0.101:job-service:8005: registering service...
2018-03-24 14:09:17.783  INFO 11556 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_JOB-SERVICE/192.168.0.101:job-service:8005 - registration status: 204
2018-03-24 14:09:17.957  INFO 11556 --- [main] com.ityb.qugou.JobAppliction             : Started JobAppliction in 37.529 seconds (JVM running for 39.745)
2018-03-24 14:09:20.938 DEBUG 11556 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==>  Preparing: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST; CREATE PROCEDURE CART_NEW_H_LIST() BEGIN DECLARE S_ID VARCHAR(32) DEFAULT NULL; DECLARE B_NUMBER INT(9) DEFAULT 0; DECLARE IS_COUNT INT(9) DEFAULT 0; DECLARE M_TIME TIMESTAMP; DECLARE FINISHED INT DEFAULT 0; DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1; DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1; OPEN CART_NOW_LIST; READ_LOOP:LOOP FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME; IF FINISHED=1 THEN LEAVE READ_LOOP; END IF; SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT; IF IS_COUNT=0 THEN UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; ELSE UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1; UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; END IF; END LOOP; CLOSE CART_NOW_LIST; COMMIT; END; CALL CART_NEW_H_LIST(); 
2018-03-24 14:09:21.016 DEBUG 11556 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==> Parameters: 
2018-03-24 14:09:21.197 ERROR 11556 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchUpdateStateJob....执行定时将今日购物车修改为历史购物车失败

org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
### The error may exist in file [D:\IT\qugou\project\qugou-parent\qugou-all-job\target\classes\mybatis\mapper\jobMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST;     CREATE PROCEDURE CART_NEW_H_LIST()     BEGIN         DECLARE  S_ID VARCHAR(32) DEFAULT NULL;    DECLARE  B_NUMBER INT(9) DEFAULT 0;    DECLARE  IS_COUNT INT(9) DEFAULT 0;    DECLARE  M_TIME TIMESTAMP;       DECLARE FINISHED INT  DEFAULT 0;        DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1;    DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1;     OPEN  CART_NOW_LIST;            READ_LOOP:LOOP              FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME;      IF FINISHED=1 THEN                   LEAVE READ_LOOP;               END IF;       SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT;      IF IS_COUNT=0 THEN        UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;      ELSE        UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1;       UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;               END IF;       END LOOP;    CLOSE CART_NOW_LIST;   COMMIT;   END;    CALL CART_NEW_H_LIST();
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:74)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:399)
	at com.sun.proxy.$Proxy73.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:165)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:69)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)
	at com.sun.proxy.$Proxy97.batchUpdateStateJob(Unknown Source)
	at com.ityb.qugou.job.service.impl.JobServiceImpl.batchUpdateStateJob(JobServiceImpl.java:21)
	at com.ityb.qugou.job.controller.JobConrtoller.batchUpdateStateJob(JobConrtoller.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:408)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.Util.getInstance(Util.java:408)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:943)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2501)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)
	at com.mysql.jdbc.CallableStatement.execute(CallableStatement.java:823)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy126.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.CallableStatementHandler.query(CallableStatementHandler.java:66)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:78)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:303)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:154)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:102)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:82)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:120)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:113)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:73)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:386)
	... 21 common frames omitted

2018-03-24 14:09:25.002 DEBUG 11556 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==>  Preparing: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST; CREATE PROCEDURE CART_NEW_H_LIST() BEGIN DECLARE S_ID VARCHAR(32) DEFAULT NULL; DECLARE B_NUMBER INT(9) DEFAULT 0; DECLARE IS_COUNT INT(9) DEFAULT 0; DECLARE M_TIME TIMESTAMP; DECLARE FINISHED INT DEFAULT 0; DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1; DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1; OPEN CART_NOW_LIST; READ_LOOP:LOOP FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME; IF FINISHED=1 THEN LEAVE READ_LOOP; END IF; SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT; IF IS_COUNT=0 THEN UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; ELSE UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1; UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; END IF; END LOOP; CLOSE CART_NOW_LIST; COMMIT; END; CALL CART_NEW_H_LIST(); 
2018-03-24 14:09:25.007 DEBUG 11556 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==> Parameters: 
2018-03-24 14:09:25.010 ERROR 11556 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchUpdateStateJob....执行定时将今日购物车修改为历史购物车失败

org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
### The error may exist in file [D:\IT\qugou\project\qugou-parent\qugou-all-job\target\classes\mybatis\mapper\jobMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST;     CREATE PROCEDURE CART_NEW_H_LIST()     BEGIN         DECLARE  S_ID VARCHAR(32) DEFAULT NULL;    DECLARE  B_NUMBER INT(9) DEFAULT 0;    DECLARE  IS_COUNT INT(9) DEFAULT 0;    DECLARE  M_TIME TIMESTAMP;       DECLARE FINISHED INT  DEFAULT 0;        DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1;    DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1;     OPEN  CART_NOW_LIST;            READ_LOOP:LOOP              FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME;      IF FINISHED=1 THEN                   LEAVE READ_LOOP;               END IF;       SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT;      IF IS_COUNT=0 THEN        UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;      ELSE        UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1;       UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;               END IF;       END LOOP;    CLOSE CART_NOW_LIST;   COMMIT;   END;    CALL CART_NEW_H_LIST();
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:74)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:399)
	at com.sun.proxy.$Proxy73.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:165)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:69)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)
	at com.sun.proxy.$Proxy97.batchUpdateStateJob(Unknown Source)
	at com.ityb.qugou.job.service.impl.JobServiceImpl.batchUpdateStateJob(JobServiceImpl.java:21)
	at com.ityb.qugou.job.controller.JobConrtoller.batchUpdateStateJob(JobConrtoller.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:408)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.Util.getInstance(Util.java:408)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:943)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2501)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)
	at com.mysql.jdbc.CallableStatement.execute(CallableStatement.java:823)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy126.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.CallableStatementHandler.query(CallableStatementHandler.java:66)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:78)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:303)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:154)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:102)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:82)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:120)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:113)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:73)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:386)
	... 21 common frames omitted

2018-03-24 14:09:30.003 DEBUG 11556 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==>  Preparing: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST; CREATE PROCEDURE CART_NEW_H_LIST() BEGIN DECLARE S_ID VARCHAR(32) DEFAULT NULL; DECLARE B_NUMBER INT(9) DEFAULT 0; DECLARE IS_COUNT INT(9) DEFAULT 0; DECLARE M_TIME TIMESTAMP; DECLARE FINISHED INT DEFAULT 0; DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1; DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1; OPEN CART_NOW_LIST; READ_LOOP:LOOP FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME; IF FINISHED=1 THEN LEAVE READ_LOOP; END IF; SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT; IF IS_COUNT=0 THEN UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; ELSE UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1; UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; END IF; END LOOP; CLOSE CART_NOW_LIST; COMMIT; END; CALL CART_NEW_H_LIST(); 
2018-03-24 14:09:30.005 DEBUG 11556 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==> Parameters: 
2018-03-24 14:09:30.009 ERROR 11556 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchUpdateStateJob....执行定时将今日购物车修改为历史购物车失败

org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
### The error may exist in file [D:\IT\qugou\project\qugou-parent\qugou-all-job\target\classes\mybatis\mapper\jobMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST;     CREATE PROCEDURE CART_NEW_H_LIST()     BEGIN         DECLARE  S_ID VARCHAR(32) DEFAULT NULL;    DECLARE  B_NUMBER INT(9) DEFAULT 0;    DECLARE  IS_COUNT INT(9) DEFAULT 0;    DECLARE  M_TIME TIMESTAMP;       DECLARE FINISHED INT  DEFAULT 0;        DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1;    DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1;     OPEN  CART_NOW_LIST;            READ_LOOP:LOOP              FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME;      IF FINISHED=1 THEN                   LEAVE READ_LOOP;               END IF;       SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT;      IF IS_COUNT=0 THEN        UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;      ELSE        UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1;       UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;               END IF;       END LOOP;    CLOSE CART_NOW_LIST;   COMMIT;   END;    CALL CART_NEW_H_LIST();
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:74)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:399)
	at com.sun.proxy.$Proxy73.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:165)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:69)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)
	at com.sun.proxy.$Proxy97.batchUpdateStateJob(Unknown Source)
	at com.ityb.qugou.job.service.impl.JobServiceImpl.batchUpdateStateJob(JobServiceImpl.java:21)
	at com.ityb.qugou.job.controller.JobConrtoller.batchUpdateStateJob(JobConrtoller.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:408)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.Util.getInstance(Util.java:408)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:943)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2501)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)
	at com.mysql.jdbc.CallableStatement.execute(CallableStatement.java:823)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy126.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.CallableStatementHandler.query(CallableStatementHandler.java:66)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:78)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:303)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:154)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:102)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:82)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:120)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:113)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:73)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:386)
	... 21 common frames omitted

2018-03-24 14:09:35.004 DEBUG 11556 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==>  Preparing: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST; CREATE PROCEDURE CART_NEW_H_LIST() BEGIN DECLARE S_ID VARCHAR(32) DEFAULT NULL; DECLARE B_NUMBER INT(9) DEFAULT 0; DECLARE IS_COUNT INT(9) DEFAULT 0; DECLARE M_TIME TIMESTAMP; DECLARE FINISHED INT DEFAULT 0; DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1; DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1; OPEN CART_NOW_LIST; READ_LOOP:LOOP FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME; IF FINISHED=1 THEN LEAVE READ_LOOP; END IF; SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT; IF IS_COUNT=0 THEN UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; ELSE UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1; UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; END IF; END LOOP; CLOSE CART_NOW_LIST; COMMIT; END; CALL CART_NEW_H_LIST(); 
2018-03-24 14:09:35.007 DEBUG 11556 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==> Parameters: 
2018-03-24 14:09:35.016 ERROR 11556 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchUpdateStateJob....执行定时将今日购物车修改为历史购物车失败

org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
### The error may exist in file [D:\IT\qugou\project\qugou-parent\qugou-all-job\target\classes\mybatis\mapper\jobMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST;     CREATE PROCEDURE CART_NEW_H_LIST()     BEGIN         DECLARE  S_ID VARCHAR(32) DEFAULT NULL;    DECLARE  B_NUMBER INT(9) DEFAULT 0;    DECLARE  IS_COUNT INT(9) DEFAULT 0;    DECLARE  M_TIME TIMESTAMP;       DECLARE FINISHED INT  DEFAULT 0;        DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1;    DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1;     OPEN  CART_NOW_LIST;            READ_LOOP:LOOP              FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME;      IF FINISHED=1 THEN                   LEAVE READ_LOOP;               END IF;       SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT;      IF IS_COUNT=0 THEN        UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;      ELSE        UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1;       UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;               END IF;       END LOOP;    CLOSE CART_NOW_LIST;   COMMIT;   END;    CALL CART_NEW_H_LIST();
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:74)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:399)
	at com.sun.proxy.$Proxy73.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:165)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:69)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)
	at com.sun.proxy.$Proxy97.batchUpdateStateJob(Unknown Source)
	at com.ityb.qugou.job.service.impl.JobServiceImpl.batchUpdateStateJob(JobServiceImpl.java:21)
	at com.ityb.qugou.job.controller.JobConrtoller.batchUpdateStateJob(JobConrtoller.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:408)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.Util.getInstance(Util.java:408)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:943)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2501)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)
	at com.mysql.jdbc.CallableStatement.execute(CallableStatement.java:823)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy126.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.CallableStatementHandler.query(CallableStatementHandler.java:66)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:78)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:303)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:154)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:102)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:82)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:120)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:113)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:73)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:386)
	... 21 common frames omitted

2018-03-24 14:09:40.005 DEBUG 11556 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==>  Preparing: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST; CREATE PROCEDURE CART_NEW_H_LIST() BEGIN DECLARE S_ID VARCHAR(32) DEFAULT NULL; DECLARE B_NUMBER INT(9) DEFAULT 0; DECLARE IS_COUNT INT(9) DEFAULT 0; DECLARE M_TIME TIMESTAMP; DECLARE FINISHED INT DEFAULT 0; DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1; DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1; OPEN CART_NOW_LIST; READ_LOOP:LOOP FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME; IF FINISHED=1 THEN LEAVE READ_LOOP; END IF; SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT; IF IS_COUNT=0 THEN UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; ELSE UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1; UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; END IF; END LOOP; CLOSE CART_NOW_LIST; COMMIT; END; CALL CART_NEW_H_LIST(); 
2018-03-24 14:09:40.009 DEBUG 11556 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==> Parameters: 
2018-03-24 14:09:40.016 ERROR 11556 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchUpdateStateJob....执行定时将今日购物车修改为历史购物车失败

org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
### The error may exist in file [D:\IT\qugou\project\qugou-parent\qugou-all-job\target\classes\mybatis\mapper\jobMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST;     CREATE PROCEDURE CART_NEW_H_LIST()     BEGIN         DECLARE  S_ID VARCHAR(32) DEFAULT NULL;    DECLARE  B_NUMBER INT(9) DEFAULT 0;    DECLARE  IS_COUNT INT(9) DEFAULT 0;    DECLARE  M_TIME TIMESTAMP;       DECLARE FINISHED INT  DEFAULT 0;        DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1;    DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1;     OPEN  CART_NOW_LIST;            READ_LOOP:LOOP              FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME;      IF FINISHED=1 THEN                   LEAVE READ_LOOP;               END IF;       SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT;      IF IS_COUNT=0 THEN        UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;      ELSE        UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1;       UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;               END IF;       END LOOP;    CLOSE CART_NOW_LIST;   COMMIT;   END;    CALL CART_NEW_H_LIST();
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:74)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:399)
	at com.sun.proxy.$Proxy73.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:165)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:69)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)
	at com.sun.proxy.$Proxy97.batchUpdateStateJob(Unknown Source)
	at com.ityb.qugou.job.service.impl.JobServiceImpl.batchUpdateStateJob(JobServiceImpl.java:21)
	at com.ityb.qugou.job.controller.JobConrtoller.batchUpdateStateJob(JobConrtoller.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:408)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.Util.getInstance(Util.java:408)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:943)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2501)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)
	at com.mysql.jdbc.CallableStatement.execute(CallableStatement.java:823)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy126.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.CallableStatementHandler.query(CallableStatementHandler.java:66)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:78)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:303)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:154)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:102)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:82)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:120)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:113)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:73)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:386)
	... 21 common frames omitted

2018-03-24 14:09:45.002 DEBUG 11556 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==>  Preparing: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST; CREATE PROCEDURE CART_NEW_H_LIST() BEGIN DECLARE S_ID VARCHAR(32) DEFAULT NULL; DECLARE B_NUMBER INT(9) DEFAULT 0; DECLARE IS_COUNT INT(9) DEFAULT 0; DECLARE M_TIME TIMESTAMP; DECLARE FINISHED INT DEFAULT 0; DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1; DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1; OPEN CART_NOW_LIST; READ_LOOP:LOOP FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME; IF FINISHED=1 THEN LEAVE READ_LOOP; END IF; SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT; IF IS_COUNT=0 THEN UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; ELSE UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1; UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; END IF; END LOOP; CLOSE CART_NOW_LIST; COMMIT; END; CALL CART_NEW_H_LIST(); 
2018-03-24 14:09:45.005 DEBUG 11556 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==> Parameters: 
2018-03-24 14:09:45.012 ERROR 11556 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchUpdateStateJob....执行定时将今日购物车修改为历史购物车失败

org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
### The error may exist in file [D:\IT\qugou\project\qugou-parent\qugou-all-job\target\classes\mybatis\mapper\jobMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST;     CREATE PROCEDURE CART_NEW_H_LIST()     BEGIN         DECLARE  S_ID VARCHAR(32) DEFAULT NULL;    DECLARE  B_NUMBER INT(9) DEFAULT 0;    DECLARE  IS_COUNT INT(9) DEFAULT 0;    DECLARE  M_TIME TIMESTAMP;       DECLARE FINISHED INT  DEFAULT 0;        DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1;    DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1;     OPEN  CART_NOW_LIST;            READ_LOOP:LOOP              FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME;      IF FINISHED=1 THEN                   LEAVE READ_LOOP;               END IF;       SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT;      IF IS_COUNT=0 THEN        UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;      ELSE        UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1;       UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;               END IF;       END LOOP;    CLOSE CART_NOW_LIST;   COMMIT;   END;    CALL CART_NEW_H_LIST();
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:74)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:399)
	at com.sun.proxy.$Proxy73.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:165)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:69)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)
	at com.sun.proxy.$Proxy97.batchUpdateStateJob(Unknown Source)
	at com.ityb.qugou.job.service.impl.JobServiceImpl.batchUpdateStateJob(JobServiceImpl.java:21)
	at com.ityb.qugou.job.controller.JobConrtoller.batchUpdateStateJob(JobConrtoller.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:408)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.Util.getInstance(Util.java:408)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:943)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2501)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)
	at com.mysql.jdbc.CallableStatement.execute(CallableStatement.java:823)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy126.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.CallableStatementHandler.query(CallableStatementHandler.java:66)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:78)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:303)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:154)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:102)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:82)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:120)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:113)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:73)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:386)
	... 21 common frames omitted

2018-03-24 14:09:50.003 DEBUG 11556 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==>  Preparing: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST; CREATE PROCEDURE CART_NEW_H_LIST() BEGIN DECLARE S_ID VARCHAR(32) DEFAULT NULL; DECLARE B_NUMBER INT(9) DEFAULT 0; DECLARE IS_COUNT INT(9) DEFAULT 0; DECLARE M_TIME TIMESTAMP; DECLARE FINISHED INT DEFAULT 0; DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1; DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1; OPEN CART_NOW_LIST; READ_LOOP:LOOP FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME; IF FINISHED=1 THEN LEAVE READ_LOOP; END IF; SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT; IF IS_COUNT=0 THEN UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; ELSE UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1; UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; END IF; END LOOP; CLOSE CART_NOW_LIST; COMMIT; END; CALL CART_NEW_H_LIST(); 
2018-03-24 14:09:50.006 DEBUG 11556 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==> Parameters: 
2018-03-24 14:09:50.025 ERROR 11556 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchUpdateStateJob....执行定时将今日购物车修改为历史购物车失败

org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
### The error may exist in file [D:\IT\qugou\project\qugou-parent\qugou-all-job\target\classes\mybatis\mapper\jobMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST;     CREATE PROCEDURE CART_NEW_H_LIST()     BEGIN         DECLARE  S_ID VARCHAR(32) DEFAULT NULL;    DECLARE  B_NUMBER INT(9) DEFAULT 0;    DECLARE  IS_COUNT INT(9) DEFAULT 0;    DECLARE  M_TIME TIMESTAMP;       DECLARE FINISHED INT  DEFAULT 0;        DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1;    DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1;     OPEN  CART_NOW_LIST;            READ_LOOP:LOOP              FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME;      IF FINISHED=1 THEN                   LEAVE READ_LOOP;               END IF;       SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT;      IF IS_COUNT=0 THEN        UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;      ELSE        UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1;       UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;               END IF;       END LOOP;    CLOSE CART_NOW_LIST;   COMMIT;   END;    CALL CART_NEW_H_LIST();
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:74)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:399)
	at com.sun.proxy.$Proxy73.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:165)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:69)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)
	at com.sun.proxy.$Proxy97.batchUpdateStateJob(Unknown Source)
	at com.ityb.qugou.job.service.impl.JobServiceImpl.batchUpdateStateJob(JobServiceImpl.java:21)
	at com.ityb.qugou.job.controller.JobConrtoller.batchUpdateStateJob(JobConrtoller.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:408)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.Util.getInstance(Util.java:408)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:943)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2501)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)
	at com.mysql.jdbc.CallableStatement.execute(CallableStatement.java:823)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy126.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.CallableStatementHandler.query(CallableStatementHandler.java:66)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:78)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:303)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:154)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:102)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:82)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:120)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:113)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:73)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:386)
	... 21 common frames omitted

2018-03-24 14:09:55.003 DEBUG 11556 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==>  Preparing: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST; CREATE PROCEDURE CART_NEW_H_LIST() BEGIN DECLARE S_ID VARCHAR(32) DEFAULT NULL; DECLARE B_NUMBER INT(9) DEFAULT 0; DECLARE IS_COUNT INT(9) DEFAULT 0; DECLARE M_TIME TIMESTAMP; DECLARE FINISHED INT DEFAULT 0; DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1; DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1; OPEN CART_NOW_LIST; READ_LOOP:LOOP FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME; IF FINISHED=1 THEN LEAVE READ_LOOP; END IF; SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT; IF IS_COUNT=0 THEN UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; ELSE UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1; UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; END IF; END LOOP; CLOSE CART_NOW_LIST; COMMIT; END; CALL CART_NEW_H_LIST(); 
2018-03-24 14:09:55.009 DEBUG 11556 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==> Parameters: 
2018-03-24 14:09:55.018 ERROR 11556 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchUpdateStateJob....执行定时将今日购物车修改为历史购物车失败

org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
### The error may exist in file [D:\IT\qugou\project\qugou-parent\qugou-all-job\target\classes\mybatis\mapper\jobMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST;     CREATE PROCEDURE CART_NEW_H_LIST()     BEGIN         DECLARE  S_ID VARCHAR(32) DEFAULT NULL;    DECLARE  B_NUMBER INT(9) DEFAULT 0;    DECLARE  IS_COUNT INT(9) DEFAULT 0;    DECLARE  M_TIME TIMESTAMP;       DECLARE FINISHED INT  DEFAULT 0;        DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1;    DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1;     OPEN  CART_NOW_LIST;            READ_LOOP:LOOP              FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME;      IF FINISHED=1 THEN                   LEAVE READ_LOOP;               END IF;       SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT;      IF IS_COUNT=0 THEN        UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;      ELSE        UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1;       UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;               END IF;       END LOOP;    CLOSE CART_NOW_LIST;   COMMIT;   END;    CALL CART_NEW_H_LIST();
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:74)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:399)
	at com.sun.proxy.$Proxy73.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:165)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:69)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)
	at com.sun.proxy.$Proxy97.batchUpdateStateJob(Unknown Source)
	at com.ityb.qugou.job.service.impl.JobServiceImpl.batchUpdateStateJob(JobServiceImpl.java:21)
	at com.ityb.qugou.job.controller.JobConrtoller.batchUpdateStateJob(JobConrtoller.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:408)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.Util.getInstance(Util.java:408)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:943)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2501)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)
	at com.mysql.jdbc.CallableStatement.execute(CallableStatement.java:823)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy126.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.CallableStatementHandler.query(CallableStatementHandler.java:66)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:78)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:303)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:154)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:102)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:82)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:120)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:113)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:73)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:386)
	... 21 common frames omitted

2018-03-24 14:10:00.004 DEBUG 11556 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==>  Preparing: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST; CREATE PROCEDURE CART_NEW_H_LIST() BEGIN DECLARE S_ID VARCHAR(32) DEFAULT NULL; DECLARE B_NUMBER INT(9) DEFAULT 0; DECLARE IS_COUNT INT(9) DEFAULT 0; DECLARE M_TIME TIMESTAMP; DECLARE FINISHED INT DEFAULT 0; DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1; DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1; OPEN CART_NOW_LIST; READ_LOOP:LOOP FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME; IF FINISHED=1 THEN LEAVE READ_LOOP; END IF; SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT; IF IS_COUNT=0 THEN UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; ELSE UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1; UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; END IF; END LOOP; CLOSE CART_NOW_LIST; COMMIT; END; CALL CART_NEW_H_LIST(); 
2018-03-24 14:10:00.006 DEBUG 11556 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==> Parameters: 
2018-03-24 14:10:00.010 ERROR 11556 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchUpdateStateJob....执行定时将今日购物车修改为历史购物车失败

org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
### The error may exist in file [D:\IT\qugou\project\qugou-parent\qugou-all-job\target\classes\mybatis\mapper\jobMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST;     CREATE PROCEDURE CART_NEW_H_LIST()     BEGIN         DECLARE  S_ID VARCHAR(32) DEFAULT NULL;    DECLARE  B_NUMBER INT(9) DEFAULT 0;    DECLARE  IS_COUNT INT(9) DEFAULT 0;    DECLARE  M_TIME TIMESTAMP;       DECLARE FINISHED INT  DEFAULT 0;        DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1;    DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1;     OPEN  CART_NOW_LIST;            READ_LOOP:LOOP              FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME;      IF FINISHED=1 THEN                   LEAVE READ_LOOP;               END IF;       SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT;      IF IS_COUNT=0 THEN        UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;      ELSE        UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1;       UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;               END IF;       END LOOP;    CLOSE CART_NOW_LIST;   COMMIT;   END;    CALL CART_NEW_H_LIST();
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:74)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:399)
	at com.sun.proxy.$Proxy73.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:165)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:69)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)
	at com.sun.proxy.$Proxy97.batchUpdateStateJob(Unknown Source)
	at com.ityb.qugou.job.service.impl.JobServiceImpl.batchUpdateStateJob(JobServiceImpl.java:21)
	at com.ityb.qugou.job.controller.JobConrtoller.batchUpdateStateJob(JobConrtoller.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:408)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.Util.getInstance(Util.java:408)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:943)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2501)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)
	at com.mysql.jdbc.CallableStatement.execute(CallableStatement.java:823)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy126.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.CallableStatementHandler.query(CallableStatementHandler.java:66)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:78)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:303)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:154)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:102)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:82)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:120)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:113)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:73)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:386)
	... 21 common frames omitted

2018-03-24 14:10:05.002 DEBUG 11556 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==>  Preparing: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST; CREATE PROCEDURE CART_NEW_H_LIST() BEGIN DECLARE S_ID VARCHAR(32) DEFAULT NULL; DECLARE B_NUMBER INT(9) DEFAULT 0; DECLARE IS_COUNT INT(9) DEFAULT 0; DECLARE M_TIME TIMESTAMP; DECLARE FINISHED INT DEFAULT 0; DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1; DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1; OPEN CART_NOW_LIST; READ_LOOP:LOOP FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME; IF FINISHED=1 THEN LEAVE READ_LOOP; END IF; SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT; IF IS_COUNT=0 THEN UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; ELSE UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1; UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; END IF; END LOOP; CLOSE CART_NOW_LIST; COMMIT; END; CALL CART_NEW_H_LIST(); 
2018-03-24 14:10:05.005 DEBUG 11556 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==> Parameters: 
2018-03-24 14:10:05.012 ERROR 11556 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchUpdateStateJob....执行定时将今日购物车修改为历史购物车失败

org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
### The error may exist in file [D:\IT\qugou\project\qugou-parent\qugou-all-job\target\classes\mybatis\mapper\jobMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST;     CREATE PROCEDURE CART_NEW_H_LIST()     BEGIN         DECLARE  S_ID VARCHAR(32) DEFAULT NULL;    DECLARE  B_NUMBER INT(9) DEFAULT 0;    DECLARE  IS_COUNT INT(9) DEFAULT 0;    DECLARE  M_TIME TIMESTAMP;       DECLARE FINISHED INT  DEFAULT 0;        DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1;    DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1;     OPEN  CART_NOW_LIST;            READ_LOOP:LOOP              FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME;      IF FINISHED=1 THEN                   LEAVE READ_LOOP;               END IF;       SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT;      IF IS_COUNT=0 THEN        UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;      ELSE        UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1;       UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;               END IF;       END LOOP;    CLOSE CART_NOW_LIST;   COMMIT;   END;    CALL CART_NEW_H_LIST();
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:74)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:399)
	at com.sun.proxy.$Proxy73.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:165)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:69)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)
	at com.sun.proxy.$Proxy97.batchUpdateStateJob(Unknown Source)
	at com.ityb.qugou.job.service.impl.JobServiceImpl.batchUpdateStateJob(JobServiceImpl.java:21)
	at com.ityb.qugou.job.controller.JobConrtoller.batchUpdateStateJob(JobConrtoller.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:408)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.Util.getInstance(Util.java:408)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:943)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2501)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)
	at com.mysql.jdbc.CallableStatement.execute(CallableStatement.java:823)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy126.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.CallableStatementHandler.query(CallableStatementHandler.java:66)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:78)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:303)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:154)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:102)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:82)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:120)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:113)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:73)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:386)
	... 21 common frames omitted

2018-03-24 14:10:10.003 DEBUG 11556 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==>  Preparing: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST; CREATE PROCEDURE CART_NEW_H_LIST() BEGIN DECLARE S_ID VARCHAR(32) DEFAULT NULL; DECLARE B_NUMBER INT(9) DEFAULT 0; DECLARE IS_COUNT INT(9) DEFAULT 0; DECLARE M_TIME TIMESTAMP; DECLARE FINISHED INT DEFAULT 0; DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1; DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1; OPEN CART_NOW_LIST; READ_LOOP:LOOP FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME; IF FINISHED=1 THEN LEAVE READ_LOOP; END IF; SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT; IF IS_COUNT=0 THEN UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; ELSE UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1; UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; END IF; END LOOP; CLOSE CART_NOW_LIST; COMMIT; END; CALL CART_NEW_H_LIST(); 
2018-03-24 14:10:10.006 DEBUG 11556 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==> Parameters: 
2018-03-24 14:10:10.014 ERROR 11556 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchUpdateStateJob....执行定时将今日购物车修改为历史购物车失败

org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
### The error may exist in file [D:\IT\qugou\project\qugou-parent\qugou-all-job\target\classes\mybatis\mapper\jobMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST;     CREATE PROCEDURE CART_NEW_H_LIST()     BEGIN         DECLARE  S_ID VARCHAR(32) DEFAULT NULL;    DECLARE  B_NUMBER INT(9) DEFAULT 0;    DECLARE  IS_COUNT INT(9) DEFAULT 0;    DECLARE  M_TIME TIMESTAMP;       DECLARE FINISHED INT  DEFAULT 0;        DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1;    DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1;     OPEN  CART_NOW_LIST;            READ_LOOP:LOOP              FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME;      IF FINISHED=1 THEN                   LEAVE READ_LOOP;               END IF;       SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT;      IF IS_COUNT=0 THEN        UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;      ELSE        UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1;       UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;               END IF;       END LOOP;    CLOSE CART_NOW_LIST;   COMMIT;   END;    CALL CART_NEW_H_LIST();
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:74)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:399)
	at com.sun.proxy.$Proxy73.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:165)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:69)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)
	at com.sun.proxy.$Proxy97.batchUpdateStateJob(Unknown Source)
	at com.ityb.qugou.job.service.impl.JobServiceImpl.batchUpdateStateJob(JobServiceImpl.java:21)
	at com.ityb.qugou.job.controller.JobConrtoller.batchUpdateStateJob(JobConrtoller.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:408)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.Util.getInstance(Util.java:408)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:943)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2501)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)
	at com.mysql.jdbc.CallableStatement.execute(CallableStatement.java:823)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy126.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.CallableStatementHandler.query(CallableStatementHandler.java:66)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:78)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:303)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:154)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:102)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:82)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:120)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:113)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:73)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:386)
	... 21 common frames omitted

2018-03-24 14:10:15.004 DEBUG 11556 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==>  Preparing: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST; CREATE PROCEDURE CART_NEW_H_LIST() BEGIN DECLARE S_ID VARCHAR(32) DEFAULT NULL; DECLARE B_NUMBER INT(9) DEFAULT 0; DECLARE IS_COUNT INT(9) DEFAULT 0; DECLARE M_TIME TIMESTAMP; DECLARE FINISHED INT DEFAULT 0; DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1; DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1; OPEN CART_NOW_LIST; READ_LOOP:LOOP FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME; IF FINISHED=1 THEN LEAVE READ_LOOP; END IF; SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT; IF IS_COUNT=0 THEN UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; ELSE UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1; UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; END IF; END LOOP; CLOSE CART_NOW_LIST; COMMIT; END; CALL CART_NEW_H_LIST(); 
2018-03-24 14:10:15.009 DEBUG 11556 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==> Parameters: 
2018-03-24 14:10:15.015 ERROR 11556 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchUpdateStateJob....执行定时将今日购物车修改为历史购物车失败

org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
### The error may exist in file [D:\IT\qugou\project\qugou-parent\qugou-all-job\target\classes\mybatis\mapper\jobMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST;     CREATE PROCEDURE CART_NEW_H_LIST()     BEGIN         DECLARE  S_ID VARCHAR(32) DEFAULT NULL;    DECLARE  B_NUMBER INT(9) DEFAULT 0;    DECLARE  IS_COUNT INT(9) DEFAULT 0;    DECLARE  M_TIME TIMESTAMP;       DECLARE FINISHED INT  DEFAULT 0;        DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1;    DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1;     OPEN  CART_NOW_LIST;            READ_LOOP:LOOP              FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME;      IF FINISHED=1 THEN                   LEAVE READ_LOOP;               END IF;       SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT;      IF IS_COUNT=0 THEN        UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;      ELSE        UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1;       UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;               END IF;       END LOOP;    CLOSE CART_NOW_LIST;   COMMIT;   END;    CALL CART_NEW_H_LIST();
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:74)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:399)
	at com.sun.proxy.$Proxy73.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:165)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:69)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)
	at com.sun.proxy.$Proxy97.batchUpdateStateJob(Unknown Source)
	at com.ityb.qugou.job.service.impl.JobServiceImpl.batchUpdateStateJob(JobServiceImpl.java:21)
	at com.ityb.qugou.job.controller.JobConrtoller.batchUpdateStateJob(JobConrtoller.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:408)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.Util.getInstance(Util.java:408)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:943)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2501)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)
	at com.mysql.jdbc.CallableStatement.execute(CallableStatement.java:823)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy126.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.CallableStatementHandler.query(CallableStatementHandler.java:66)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:78)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:303)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:154)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:102)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:82)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:120)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:113)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:73)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:386)
	... 21 common frames omitted

2018-03-24 14:10:20.004 DEBUG 11556 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==>  Preparing: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST; CREATE PROCEDURE CART_NEW_H_LIST() BEGIN DECLARE S_ID VARCHAR(32) DEFAULT NULL; DECLARE B_NUMBER INT(9) DEFAULT 0; DECLARE IS_COUNT INT(9) DEFAULT 0; DECLARE M_TIME TIMESTAMP; DECLARE FINISHED INT DEFAULT 0; DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1; DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1; OPEN CART_NOW_LIST; READ_LOOP:LOOP FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME; IF FINISHED=1 THEN LEAVE READ_LOOP; END IF; SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT; IF IS_COUNT=0 THEN UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; ELSE UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1; UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; END IF; END LOOP; CLOSE CART_NOW_LIST; COMMIT; END; CALL CART_NEW_H_LIST(); 
2018-03-24 14:10:20.005 DEBUG 11556 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==> Parameters: 
2018-03-24 14:10:20.008 ERROR 11556 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchUpdateStateJob....执行定时将今日购物车修改为历史购物车失败

org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
### The error may exist in file [D:\IT\qugou\project\qugou-parent\qugou-all-job\target\classes\mybatis\mapper\jobMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST;     CREATE PROCEDURE CART_NEW_H_LIST()     BEGIN         DECLARE  S_ID VARCHAR(32) DEFAULT NULL;    DECLARE  B_NUMBER INT(9) DEFAULT 0;    DECLARE  IS_COUNT INT(9) DEFAULT 0;    DECLARE  M_TIME TIMESTAMP;       DECLARE FINISHED INT  DEFAULT 0;        DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1;    DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1;     OPEN  CART_NOW_LIST;            READ_LOOP:LOOP              FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME;      IF FINISHED=1 THEN                   LEAVE READ_LOOP;               END IF;       SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT;      IF IS_COUNT=0 THEN        UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;      ELSE        UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1;       UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;               END IF;       END LOOP;    CLOSE CART_NOW_LIST;   COMMIT;   END;    CALL CART_NEW_H_LIST();
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:74)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:399)
	at com.sun.proxy.$Proxy73.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:165)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:69)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)
	at com.sun.proxy.$Proxy97.batchUpdateStateJob(Unknown Source)
	at com.ityb.qugou.job.service.impl.JobServiceImpl.batchUpdateStateJob(JobServiceImpl.java:21)
	at com.ityb.qugou.job.controller.JobConrtoller.batchUpdateStateJob(JobConrtoller.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:408)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.Util.getInstance(Util.java:408)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:943)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2501)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)
	at com.mysql.jdbc.CallableStatement.execute(CallableStatement.java:823)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy126.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.CallableStatementHandler.query(CallableStatementHandler.java:66)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:78)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:303)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:154)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:102)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:82)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:120)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:113)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:73)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:386)
	... 21 common frames omitted

2018-03-24 14:10:25.003 DEBUG 11556 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==>  Preparing: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST; CREATE PROCEDURE CART_NEW_H_LIST() BEGIN DECLARE S_ID VARCHAR(32) DEFAULT NULL; DECLARE B_NUMBER INT(9) DEFAULT 0; DECLARE IS_COUNT INT(9) DEFAULT 0; DECLARE M_TIME TIMESTAMP; DECLARE FINISHED INT DEFAULT 0; DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1; DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1; OPEN CART_NOW_LIST; READ_LOOP:LOOP FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME; IF FINISHED=1 THEN LEAVE READ_LOOP; END IF; SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT; IF IS_COUNT=0 THEN UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; ELSE UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1; UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; END IF; END LOOP; CLOSE CART_NOW_LIST; COMMIT; END; CALL CART_NEW_H_LIST(); 
2018-03-24 14:10:25.005 DEBUG 11556 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==> Parameters: 
2018-03-24 14:10:25.013 ERROR 11556 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchUpdateStateJob....执行定时将今日购物车修改为历史购物车失败

org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
### The error may exist in file [D:\IT\qugou\project\qugou-parent\qugou-all-job\target\classes\mybatis\mapper\jobMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST;     CREATE PROCEDURE CART_NEW_H_LIST()     BEGIN         DECLARE  S_ID VARCHAR(32) DEFAULT NULL;    DECLARE  B_NUMBER INT(9) DEFAULT 0;    DECLARE  IS_COUNT INT(9) DEFAULT 0;    DECLARE  M_TIME TIMESTAMP;       DECLARE FINISHED INT  DEFAULT 0;        DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1;    DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1;     OPEN  CART_NOW_LIST;            READ_LOOP:LOOP              FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME;      IF FINISHED=1 THEN                   LEAVE READ_LOOP;               END IF;       SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT;      IF IS_COUNT=0 THEN        UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;      ELSE        UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1;       UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;               END IF;       END LOOP;    CLOSE CART_NOW_LIST;   COMMIT;   END;    CALL CART_NEW_H_LIST();
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:74)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:399)
	at com.sun.proxy.$Proxy73.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:165)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:69)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)
	at com.sun.proxy.$Proxy97.batchUpdateStateJob(Unknown Source)
	at com.ityb.qugou.job.service.impl.JobServiceImpl.batchUpdateStateJob(JobServiceImpl.java:21)
	at com.ityb.qugou.job.controller.JobConrtoller.batchUpdateStateJob(JobConrtoller.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:408)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.Util.getInstance(Util.java:408)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:943)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2501)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)
	at com.mysql.jdbc.CallableStatement.execute(CallableStatement.java:823)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy126.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.CallableStatementHandler.query(CallableStatementHandler.java:66)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:78)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:303)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:154)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:102)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:82)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:120)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:113)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:73)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:386)
	... 21 common frames omitted

2018-03-24 14:10:30.002 DEBUG 11556 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==>  Preparing: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST; CREATE PROCEDURE CART_NEW_H_LIST() BEGIN DECLARE S_ID VARCHAR(32) DEFAULT NULL; DECLARE B_NUMBER INT(9) DEFAULT 0; DECLARE IS_COUNT INT(9) DEFAULT 0; DECLARE M_TIME TIMESTAMP; DECLARE FINISHED INT DEFAULT 0; DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1; DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1; OPEN CART_NOW_LIST; READ_LOOP:LOOP FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME; IF FINISHED=1 THEN LEAVE READ_LOOP; END IF; SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT; IF IS_COUNT=0 THEN UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; ELSE UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1; UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; END IF; END LOOP; CLOSE CART_NOW_LIST; COMMIT; END; CALL CART_NEW_H_LIST(); 
2018-03-24 14:10:30.007 DEBUG 11556 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==> Parameters: 
2018-03-24 14:10:30.015 ERROR 11556 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchUpdateStateJob....执行定时将今日购物车修改为历史购物车失败

org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
### The error may exist in file [D:\IT\qugou\project\qugou-parent\qugou-all-job\target\classes\mybatis\mapper\jobMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST;     CREATE PROCEDURE CART_NEW_H_LIST()     BEGIN         DECLARE  S_ID VARCHAR(32) DEFAULT NULL;    DECLARE  B_NUMBER INT(9) DEFAULT 0;    DECLARE  IS_COUNT INT(9) DEFAULT 0;    DECLARE  M_TIME TIMESTAMP;       DECLARE FINISHED INT  DEFAULT 0;        DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1;    DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1;     OPEN  CART_NOW_LIST;            READ_LOOP:LOOP              FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME;      IF FINISHED=1 THEN                   LEAVE READ_LOOP;               END IF;       SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT;      IF IS_COUNT=0 THEN        UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;      ELSE        UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1;       UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;               END IF;       END LOOP;    CLOSE CART_NOW_LIST;   COMMIT;   END;    CALL CART_NEW_H_LIST();
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:74)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:399)
	at com.sun.proxy.$Proxy73.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:165)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:69)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)
	at com.sun.proxy.$Proxy97.batchUpdateStateJob(Unknown Source)
	at com.ityb.qugou.job.service.impl.JobServiceImpl.batchUpdateStateJob(JobServiceImpl.java:21)
	at com.ityb.qugou.job.controller.JobConrtoller.batchUpdateStateJob(JobConrtoller.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:408)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.Util.getInstance(Util.java:408)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:943)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2501)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)
	at com.mysql.jdbc.CallableStatement.execute(CallableStatement.java:823)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy126.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.CallableStatementHandler.query(CallableStatementHandler.java:66)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:78)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:303)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:154)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:102)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:82)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:120)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:113)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:73)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:386)
	... 21 common frames omitted

2018-03-24 14:10:35.005 DEBUG 11556 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==>  Preparing: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST; CREATE PROCEDURE CART_NEW_H_LIST() BEGIN DECLARE S_ID VARCHAR(32) DEFAULT NULL; DECLARE B_NUMBER INT(9) DEFAULT 0; DECLARE IS_COUNT INT(9) DEFAULT 0; DECLARE M_TIME TIMESTAMP; DECLARE FINISHED INT DEFAULT 0; DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1; DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1; OPEN CART_NOW_LIST; READ_LOOP:LOOP FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME; IF FINISHED=1 THEN LEAVE READ_LOOP; END IF; SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT; IF IS_COUNT=0 THEN UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; ELSE UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1; UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; END IF; END LOOP; CLOSE CART_NOW_LIST; COMMIT; END; CALL CART_NEW_H_LIST(); 
2018-03-24 14:10:35.008 DEBUG 11556 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==> Parameters: 
2018-03-24 14:10:35.014 ERROR 11556 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchUpdateStateJob....执行定时将今日购物车修改为历史购物车失败

org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
### The error may exist in file [D:\IT\qugou\project\qugou-parent\qugou-all-job\target\classes\mybatis\mapper\jobMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST;     CREATE PROCEDURE CART_NEW_H_LIST()     BEGIN         DECLARE  S_ID VARCHAR(32) DEFAULT NULL;    DECLARE  B_NUMBER INT(9) DEFAULT 0;    DECLARE  IS_COUNT INT(9) DEFAULT 0;    DECLARE  M_TIME TIMESTAMP;       DECLARE FINISHED INT  DEFAULT 0;        DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1;    DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1;     OPEN  CART_NOW_LIST;            READ_LOOP:LOOP              FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME;      IF FINISHED=1 THEN                   LEAVE READ_LOOP;               END IF;       SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT;      IF IS_COUNT=0 THEN        UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;      ELSE        UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1;       UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;               END IF;       END LOOP;    CLOSE CART_NOW_LIST;   COMMIT;   END;    CALL CART_NEW_H_LIST();
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:74)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:399)
	at com.sun.proxy.$Proxy73.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:165)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:69)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)
	at com.sun.proxy.$Proxy97.batchUpdateStateJob(Unknown Source)
	at com.ityb.qugou.job.service.impl.JobServiceImpl.batchUpdateStateJob(JobServiceImpl.java:21)
	at com.ityb.qugou.job.controller.JobConrtoller.batchUpdateStateJob(JobConrtoller.java:34)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
	at sun.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at sun.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:62)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:408)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.Util.getInstance(Util.java:408)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:943)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2501)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)
	at com.mysql.jdbc.CallableStatement.execute(CallableStatement.java:823)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy126.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.CallableStatementHandler.query(CallableStatementHandler.java:66)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:78)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:303)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:154)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:102)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:82)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:120)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:113)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:73)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:386)
	... 21 common frames omitted

2018-03-24 14:10:40.003 DEBUG 11556 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==>  Preparing: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST; CREATE PROCEDURE CART_NEW_H_LIST() BEGIN DECLARE S_ID VARCHAR(32) DEFAULT NULL; DECLARE B_NUMBER INT(9) DEFAULT 0; DECLARE IS_COUNT INT(9) DEFAULT 0; DECLARE M_TIME TIMESTAMP; DECLARE FINISHED INT DEFAULT 0; DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1; DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1; OPEN CART_NOW_LIST; READ_LOOP:LOOP FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME; IF FINISHED=1 THEN LEAVE READ_LOOP; END IF; SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT; IF IS_COUNT=0 THEN UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; ELSE UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1; UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; END IF; END LOOP; CLOSE CART_NOW_LIST; COMMIT; END; CALL CART_NEW_H_LIST(); 
2018-03-24 14:10:40.005 DEBUG 11556 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==> Parameters: 
2018-03-24 14:10:40.010 ERROR 11556 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchUpdateStateJob....执行定时将今日购物车修改为历史购物车失败

org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
### The error may exist in file [D:\IT\qugou\project\qugou-parent\qugou-all-job\target\classes\mybatis\mapper\jobMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST;     CREATE PROCEDURE CART_NEW_H_LIST()     BEGIN         DECLARE  S_ID VARCHAR(32) DEFAULT NULL;    DECLARE  B_NUMBER INT(9) DEFAULT 0;    DECLARE  IS_COUNT INT(9) DEFAULT 0;    DECLARE  M_TIME TIMESTAMP;       DECLARE FINISHED INT  DEFAULT 0;        DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1;    DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1;     OPEN  CART_NOW_LIST;            READ_LOOP:LOOP              FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME;      IF FINISHED=1 THEN                   LEAVE READ_LOOP;               END IF;       SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT;      IF IS_COUNT=0 THEN        UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;      ELSE        UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1;       UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;               END IF;       END LOOP;    CLOSE CART_NOW_LIST;   COMMIT;   END;    CALL CART_NEW_H_LIST();
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:74)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:399)
	at com.sun.proxy.$Proxy73.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:165)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:69)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)
	at com.sun.proxy.$Proxy97.batchUpdateStateJob(Unknown Source)
	at com.ityb.qugou.job.service.impl.JobServiceImpl.batchUpdateStateJob(JobServiceImpl.java:21)
	at com.ityb.qugou.job.controller.JobConrtoller.batchUpdateStateJob(JobConrtoller.java:34)
	at sun.reflect.GeneratedMethodAccessor49.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
	at sun.reflect.GeneratedConstructorAccessor67.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:408)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.Util.getInstance(Util.java:408)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:943)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2501)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)
	at com.mysql.jdbc.CallableStatement.execute(CallableStatement.java:823)
	at sun.reflect.GeneratedMethodAccessor52.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy126.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.CallableStatementHandler.query(CallableStatementHandler.java:66)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:78)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:303)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:154)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:102)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:82)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:120)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:113)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:73)
	at sun.reflect.GeneratedMethodAccessor50.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:386)
	... 20 common frames omitted

2018-03-24 14:10:45.003 DEBUG 11556 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==>  Preparing: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST; CREATE PROCEDURE CART_NEW_H_LIST() BEGIN DECLARE S_ID VARCHAR(32) DEFAULT NULL; DECLARE B_NUMBER INT(9) DEFAULT 0; DECLARE IS_COUNT INT(9) DEFAULT 0; DECLARE M_TIME TIMESTAMP; DECLARE FINISHED INT DEFAULT 0; DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1; DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1; OPEN CART_NOW_LIST; READ_LOOP:LOOP FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME; IF FINISHED=1 THEN LEAVE READ_LOOP; END IF; SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT; IF IS_COUNT=0 THEN UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; ELSE UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1; UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; END IF; END LOOP; CLOSE CART_NOW_LIST; COMMIT; END; CALL CART_NEW_H_LIST(); 
2018-03-24 14:10:45.005 DEBUG 11556 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==> Parameters: 
2018-03-24 14:10:45.007 ERROR 11556 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchUpdateStateJob....执行定时将今日购物车修改为历史购物车失败

org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
### The error may exist in file [D:\IT\qugou\project\qugou-parent\qugou-all-job\target\classes\mybatis\mapper\jobMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST;     CREATE PROCEDURE CART_NEW_H_LIST()     BEGIN         DECLARE  S_ID VARCHAR(32) DEFAULT NULL;    DECLARE  B_NUMBER INT(9) DEFAULT 0;    DECLARE  IS_COUNT INT(9) DEFAULT 0;    DECLARE  M_TIME TIMESTAMP;       DECLARE FINISHED INT  DEFAULT 0;        DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1;    DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1;     OPEN  CART_NOW_LIST;            READ_LOOP:LOOP              FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME;      IF FINISHED=1 THEN                   LEAVE READ_LOOP;               END IF;       SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT;      IF IS_COUNT=0 THEN        UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;      ELSE        UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1;       UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;               END IF;       END LOOP;    CLOSE CART_NOW_LIST;   COMMIT;   END;    CALL CART_NEW_H_LIST();
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:74)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:399)
	at com.sun.proxy.$Proxy73.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:165)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:69)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)
	at com.sun.proxy.$Proxy97.batchUpdateStateJob(Unknown Source)
	at com.ityb.qugou.job.service.impl.JobServiceImpl.batchUpdateStateJob(JobServiceImpl.java:21)
	at com.ityb.qugou.job.controller.JobConrtoller.batchUpdateStateJob(JobConrtoller.java:34)
	at sun.reflect.GeneratedMethodAccessor49.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
	at sun.reflect.GeneratedConstructorAccessor67.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:408)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.Util.getInstance(Util.java:408)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:943)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2501)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)
	at com.mysql.jdbc.CallableStatement.execute(CallableStatement.java:823)
	at sun.reflect.GeneratedMethodAccessor52.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy126.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.CallableStatementHandler.query(CallableStatementHandler.java:66)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:78)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:303)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:154)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:102)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:82)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:120)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:113)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:73)
	at sun.reflect.GeneratedMethodAccessor50.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:386)
	... 20 common frames omitted

2018-03-24 14:10:50.003 DEBUG 11556 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==>  Preparing: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST; CREATE PROCEDURE CART_NEW_H_LIST() BEGIN DECLARE S_ID VARCHAR(32) DEFAULT NULL; DECLARE B_NUMBER INT(9) DEFAULT 0; DECLARE IS_COUNT INT(9) DEFAULT 0; DECLARE M_TIME TIMESTAMP; DECLARE FINISHED INT DEFAULT 0; DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1; DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1; OPEN CART_NOW_LIST; READ_LOOP:LOOP FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME; IF FINISHED=1 THEN LEAVE READ_LOOP; END IF; SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT; IF IS_COUNT=0 THEN UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; ELSE UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1; UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; END IF; END LOOP; CLOSE CART_NOW_LIST; COMMIT; END; CALL CART_NEW_H_LIST(); 
2018-03-24 14:10:50.006 DEBUG 11556 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==> Parameters: 
2018-03-24 14:10:50.018 ERROR 11556 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchUpdateStateJob....执行定时将今日购物车修改为历史购物车失败

org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
### The error may exist in file [D:\IT\qugou\project\qugou-parent\qugou-all-job\target\classes\mybatis\mapper\jobMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST;     CREATE PROCEDURE CART_NEW_H_LIST()     BEGIN         DECLARE  S_ID VARCHAR(32) DEFAULT NULL;    DECLARE  B_NUMBER INT(9) DEFAULT 0;    DECLARE  IS_COUNT INT(9) DEFAULT 0;    DECLARE  M_TIME TIMESTAMP;       DECLARE FINISHED INT  DEFAULT 0;        DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1;    DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1;     OPEN  CART_NOW_LIST;            READ_LOOP:LOOP              FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME;      IF FINISHED=1 THEN                   LEAVE READ_LOOP;               END IF;       SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT;      IF IS_COUNT=0 THEN        UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;      ELSE        UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1;       UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;               END IF;       END LOOP;    CLOSE CART_NOW_LIST;   COMMIT;   END;    CALL CART_NEW_H_LIST();
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:74)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:399)
	at com.sun.proxy.$Proxy73.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:165)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:69)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)
	at com.sun.proxy.$Proxy97.batchUpdateStateJob(Unknown Source)
	at com.ityb.qugou.job.service.impl.JobServiceImpl.batchUpdateStateJob(JobServiceImpl.java:21)
	at com.ityb.qugou.job.controller.JobConrtoller.batchUpdateStateJob(JobConrtoller.java:34)
	at sun.reflect.GeneratedMethodAccessor49.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
	at sun.reflect.GeneratedConstructorAccessor67.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:408)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.Util.getInstance(Util.java:408)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:943)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2501)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)
	at com.mysql.jdbc.CallableStatement.execute(CallableStatement.java:823)
	at sun.reflect.GeneratedMethodAccessor52.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy126.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.CallableStatementHandler.query(CallableStatementHandler.java:66)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:78)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:303)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:154)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:102)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:82)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:120)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:113)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:73)
	at sun.reflect.GeneratedMethodAccessor50.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:386)
	... 20 common frames omitted

2018-03-24 14:10:55.003 DEBUG 11556 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==>  Preparing: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST; CREATE PROCEDURE CART_NEW_H_LIST() BEGIN DECLARE S_ID VARCHAR(32) DEFAULT NULL; DECLARE B_NUMBER INT(9) DEFAULT 0; DECLARE IS_COUNT INT(9) DEFAULT 0; DECLARE M_TIME TIMESTAMP; DECLARE FINISHED INT DEFAULT 0; DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1; DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1; OPEN CART_NOW_LIST; READ_LOOP:LOOP FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME; IF FINISHED=1 THEN LEAVE READ_LOOP; END IF; SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT; IF IS_COUNT=0 THEN UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; ELSE UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1; UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; END IF; END LOOP; CLOSE CART_NOW_LIST; COMMIT; END; CALL CART_NEW_H_LIST(); 
2018-03-24 14:10:55.005 DEBUG 11556 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==> Parameters: 
2018-03-24 14:10:55.009 ERROR 11556 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchUpdateStateJob....执行定时将今日购物车修改为历史购物车失败

org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
### The error may exist in file [D:\IT\qugou\project\qugou-parent\qugou-all-job\target\classes\mybatis\mapper\jobMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST;     CREATE PROCEDURE CART_NEW_H_LIST()     BEGIN         DECLARE  S_ID VARCHAR(32) DEFAULT NULL;    DECLARE  B_NUMBER INT(9) DEFAULT 0;    DECLARE  IS_COUNT INT(9) DEFAULT 0;    DECLARE  M_TIME TIMESTAMP;       DECLARE FINISHED INT  DEFAULT 0;        DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1;    DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1;     OPEN  CART_NOW_LIST;            READ_LOOP:LOOP              FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME;      IF FINISHED=1 THEN                   LEAVE READ_LOOP;               END IF;       SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT;      IF IS_COUNT=0 THEN        UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;      ELSE        UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1;       UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;               END IF;       END LOOP;    CLOSE CART_NOW_LIST;   COMMIT;   END;    CALL CART_NEW_H_LIST();
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:74)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:399)
	at com.sun.proxy.$Proxy73.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:165)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:69)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)
	at com.sun.proxy.$Proxy97.batchUpdateStateJob(Unknown Source)
	at com.ityb.qugou.job.service.impl.JobServiceImpl.batchUpdateStateJob(JobServiceImpl.java:21)
	at com.ityb.qugou.job.controller.JobConrtoller.batchUpdateStateJob(JobConrtoller.java:34)
	at sun.reflect.GeneratedMethodAccessor49.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
	at sun.reflect.GeneratedConstructorAccessor67.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:408)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.Util.getInstance(Util.java:408)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:943)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2501)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)
	at com.mysql.jdbc.CallableStatement.execute(CallableStatement.java:823)
	at sun.reflect.GeneratedMethodAccessor52.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy126.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.CallableStatementHandler.query(CallableStatementHandler.java:66)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:78)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:303)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:154)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:102)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:82)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:120)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:113)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:73)
	at sun.reflect.GeneratedMethodAccessor50.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:386)
	... 20 common frames omitted

2018-03-24 14:11:00.003 DEBUG 11556 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==>  Preparing: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST; CREATE PROCEDURE CART_NEW_H_LIST() BEGIN DECLARE S_ID VARCHAR(32) DEFAULT NULL; DECLARE B_NUMBER INT(9) DEFAULT 0; DECLARE IS_COUNT INT(9) DEFAULT 0; DECLARE M_TIME TIMESTAMP; DECLARE FINISHED INT DEFAULT 0; DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1; DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1; OPEN CART_NOW_LIST; READ_LOOP:LOOP FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME; IF FINISHED=1 THEN LEAVE READ_LOOP; END IF; SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT; IF IS_COUNT=0 THEN UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; ELSE UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1; UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1; END IF; END LOOP; CLOSE CART_NOW_LIST; COMMIT; END; CALL CART_NEW_H_LIST(); 
2018-03-24 14:11:00.005 DEBUG 11556 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==> Parameters: 
2018-03-24 14:11:00.009 ERROR 11556 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchUpdateStateJob....执行定时将今日购物车修改为历史购物车失败

org.springframework.jdbc.BadSqlGrammarException: 
### Error querying database.  Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
### The error may exist in file [D:\IT\qugou\project\qugou-parent\qugou-all-job\target\classes\mybatis\mapper\jobMapper.xml]
### The error may involve defaultParameterMap
### The error occurred while setting parameters
### SQL: DROP PROCEDURE IF EXISTS CART_NEW_H_LIST;     CREATE PROCEDURE CART_NEW_H_LIST()     BEGIN         DECLARE  S_ID VARCHAR(32) DEFAULT NULL;    DECLARE  B_NUMBER INT(9) DEFAULT 0;    DECLARE  IS_COUNT INT(9) DEFAULT 0;    DECLARE  M_TIME TIMESTAMP;       DECLARE FINISHED INT  DEFAULT 0;        DECLARE CART_NOW_LIST CURSOR FOR SELECT SPECIFICATION_ID,BUY_NUMBER,CTIME FROM T_P_CART WHERE DATE(NOW())>DATE(CTIME) AND CART_TYPE=1 AND ISVALID=1;    DECLARE CONTINUE HANDLER FOR NOT FOUND SET FINISHED = 1;     OPEN  CART_NOW_LIST;            READ_LOOP:LOOP              FETCH CART_NOW_LIST INTO S_ID,B_NUMBER,M_TIME;      IF FINISHED=1 THEN                   LEAVE READ_LOOP;               END IF;       SELECT COUNT(*) FROM T_P_CART WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1 INTO IS_COUNT;      IF IS_COUNT=0 THEN        UPDATE T_P_CART SET CART_TYPE=2 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;      ELSE        UPDATE T_P_CART SET BUY_NUMBER=BUY_NUMBER+B_NUMBER,CTIME=M_TIME WHERE CART_TYPE=2 AND SPECIFICATION_ID=S_ID AND ISVALID=1;       UPDATE T_P_CART SET ISVALID=0 WHERE CART_TYPE=1 AND SPECIFICATION_ID=S_ID AND ISVALID=1;               END IF;       END LOOP;    CLOSE CART_NOW_LIST;   COMMIT;   END;    CALL CART_NEW_H_LIST();
### Cause: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
; bad SQL grammar []; nested exception is com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
	at org.springframework.jdbc.support.SQLErrorCodeSQLExceptionTranslator.doTranslate(SQLErrorCodeSQLExceptionTranslator.java:231)
	at org.springframework.jdbc.support.AbstractFallbackSQLExceptionTranslator.translate(AbstractFallbackSQLExceptionTranslator.java:73)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:74)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:399)
	at com.sun.proxy.$Proxy73.selectOne(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectOne(SqlSessionTemplate.java:165)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:69)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:53)
	at com.sun.proxy.$Proxy97.batchUpdateStateJob(Unknown Source)
	at com.ityb.qugou.job.service.impl.JobServiceImpl.batchUpdateStateJob(JobServiceImpl.java:21)
	at com.ityb.qugou.job.controller.JobConrtoller.batchUpdateStateJob(JobConrtoller.java:34)
	at sun.reflect.GeneratedMethodAccessor49.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:65)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at org.springframework.scheduling.concurrent.ReschedulingRunnable.run(ReschedulingRunnable.java:81)
	at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:511)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
	at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: com.mysql.jdbc.exceptions.jdbc4.MySQLSyntaxErrorException: You have an error in your SQL syntax; check the manual that corresponds to your MySQL server version for the right syntax to use near 'CREATE PROCEDURE CART_NEW_H_LIST()  
		BEGIN  
		    DECLARE  S_ID VARCHAR(32) D' at line 2
	at sun.reflect.GeneratedConstructorAccessor67.newInstance(Unknown Source)
	at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
	at java.lang.reflect.Constructor.newInstance(Constructor.java:408)
	at com.mysql.jdbc.Util.handleNewInstance(Util.java:425)
	at com.mysql.jdbc.Util.getInstance(Util.java:408)
	at com.mysql.jdbc.SQLError.createSQLException(SQLError.java:943)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3973)
	at com.mysql.jdbc.MysqlIO.checkErrorPacket(MysqlIO.java:3909)
	at com.mysql.jdbc.MysqlIO.sendCommand(MysqlIO.java:2527)
	at com.mysql.jdbc.MysqlIO.sqlQueryDirect(MysqlIO.java:2680)
	at com.mysql.jdbc.ConnectionImpl.execSQL(ConnectionImpl.java:2501)
	at com.mysql.jdbc.PreparedStatement.executeInternal(PreparedStatement.java:1858)
	at com.mysql.jdbc.PreparedStatement.execute(PreparedStatement.java:1197)
	at com.mysql.jdbc.CallableStatement.execute(CallableStatement.java:823)
	at sun.reflect.GeneratedMethodAccessor52.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.apache.ibatis.logging.jdbc.PreparedStatementLogger.invoke(PreparedStatementLogger.java:59)
	at com.sun.proxy.$Proxy126.execute(Unknown Source)
	at org.apache.ibatis.executor.statement.CallableStatementHandler.query(CallableStatementHandler.java:66)
	at org.apache.ibatis.executor.statement.RoutingStatementHandler.query(RoutingStatementHandler.java:78)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:62)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:303)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:154)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:102)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:82)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:120)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:113)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectOne(DefaultSqlSession.java:73)
	at sun.reflect.GeneratedMethodAccessor50.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:483)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:386)
	... 20 common frames omitted

2018-03-24 14:11:18.229  INFO 7408 --- [main] com.ityb.qugou.JobAppliction             : No active profile set, falling back to default profiles: default
2018-03-24 14:11:26.870  INFO 7408 --- [main] o.apache.catalina.core.StandardService   : Starting service Tomcat
2018-03-24 14:11:26.874  INFO 7408 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.11
2018-03-24 14:11:27.365  INFO 7408 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-03-24 14:11:30.060  INFO 7408 --- [main] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor
2018-03-24 14:11:30.133  INFO 7408 --- [main] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2018-03-24 14:11:30.134  INFO 7408 --- [main] org.quartz.core.QuartzScheduler          : Quartz Scheduler v.2.2.3 created.
2018-03-24 14:11:30.150  INFO 7408 --- [main] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.
2018-03-24 14:11:30.156  INFO 7408 --- [main] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.2.3) 'schedulerFactoryBean' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2018-03-24 14:11:30.156  INFO 7408 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'schedulerFactoryBean' initialized from an externally provided properties instance.
2018-03-24 14:11:30.157  INFO 7408 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.2.3
2018-03-24 14:11:30.165  INFO 7408 --- [main] org.quartz.core.QuartzScheduler          : JobFactory set to: org.springframework.scheduling.quartz.AdaptableJobFactory@1029cf9
2018-03-24 14:11:39.095  WARN 7408 --- [main] c.n.c.sources.URLConfigurationSource     : No URLs will be polled as dynamic configuration sources.
2018-03-24 14:11:39.096  INFO 7408 --- [main] c.n.c.sources.URLConfigurationSource     : To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2018-03-24 14:11:39.117  WARN 7408 --- [main] c.n.c.sources.URLConfigurationSource     : No URLs will be polled as dynamic configuration sources.
2018-03-24 14:11:39.117  INFO 7408 --- [main] c.n.c.sources.URLConfigurationSource     : To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2018-03-24 14:11:41.115  INFO 7408 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2018-03-24 14:11:41.644  INFO 7408 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON encoding codec LegacyJacksonJson
2018-03-24 14:11:41.644  INFO 7408 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON decoding codec LegacyJacksonJson
2018-03-24 14:11:42.140  INFO 7408 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML encoding codec XStreamXml
2018-03-24 14:11:42.141  INFO 7408 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML decoding codec XStreamXml
2018-03-24 14:11:43.404  INFO 7408 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-24 14:11:43.835  INFO 7408 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2018-03-24 14:11:43.836  INFO 7408 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2018-03-24 14:11:43.836  INFO 7408 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2018-03-24 14:11:43.837  INFO 7408 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2018-03-24 14:11:43.837  INFO 7408 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2018-03-24 14:11:43.838  INFO 7408 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2018-03-24 14:11:43.838  INFO 7408 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2018-03-24 14:11:44.336  INFO 7408 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2018-03-24 14:11:44.342  INFO 7408 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2018-03-24 14:11:44.349  INFO 7408 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2018-03-24 14:11:44.358  INFO 7408 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1521871904358 with initial instances count: 8
2018-03-24 14:11:44.605  INFO 7408 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1521871904605, current=UP, previous=STARTING]
2018-03-24 14:11:44.612  INFO 7408 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_JOB-SERVICE/192.168.0.101:job-service:8005: registering service...
2018-03-24 14:11:44.614  INFO 7408 --- [main] org.quartz.core.QuartzScheduler          : Scheduler schedulerFactoryBean_$_NON_CLUSTERED started.
2018-03-24 14:11:44.757  INFO 7408 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_JOB-SERVICE/192.168.0.101:job-service:8005 - registration status: 204
2018-03-24 14:11:45.099  INFO 7408 --- [main] com.ityb.qugou.JobAppliction             : Started JobAppliction in 35.162 seconds (JVM running for 36.732)
2018-03-24 14:11:46.088 DEBUG 7408 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==>  Preparing: CALL CART_NEW_H_LIST(); 
2018-03-24 14:11:46.269 DEBUG 7408 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==> Parameters: 
2018-03-24 14:11:46.301  INFO 7408 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchUpdateStateJob....执行定时将今日购物车修改为历史购物车执行成功,执行时间为=2018-03-24 14:11:46
2018-03-24 14:11:50.003 DEBUG 7408 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==>  Preparing: CALL CART_NEW_H_LIST(); 
2018-03-24 14:11:50.013 DEBUG 7408 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==> Parameters: 
2018-03-24 14:11:50.018  INFO 7408 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchUpdateStateJob....执行定时将今日购物车修改为历史购物车执行成功,执行时间为=2018-03-24 14:11:50
2018-03-24 14:11:55.003 DEBUG 7408 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==>  Preparing: CALL CART_NEW_H_LIST(); 
2018-03-24 14:11:55.012 DEBUG 7408 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==> Parameters: 
2018-03-24 14:11:55.015  INFO 7408 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchUpdateStateJob....执行定时将今日购物车修改为历史购物车执行成功,执行时间为=2018-03-24 14:11:55
2018-03-24 14:12:00.003 DEBUG 7408 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==>  Preparing: CALL CART_NEW_H_LIST(); 
2018-03-24 14:12:00.015 DEBUG 7408 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==> Parameters: 
2018-03-24 14:12:00.018  INFO 7408 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchUpdateStateJob....执行定时将今日购物车修改为历史购物车执行成功,执行时间为=2018-03-24 14:12:00
2018-03-24 14:12:05.002 DEBUG 7408 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==>  Preparing: CALL CART_NEW_H_LIST(); 
2018-03-24 14:12:05.017 DEBUG 7408 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==> Parameters: 
2018-03-24 14:12:05.026  INFO 7408 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchUpdateStateJob....执行定时将今日购物车修改为历史购物车执行成功,执行时间为=2018-03-24 14:12:05
2018-03-24 14:12:10.002 DEBUG 7408 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==>  Preparing: CALL CART_NEW_H_LIST(); 
2018-03-24 14:12:10.016 DEBUG 7408 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==> Parameters: 
2018-03-24 14:12:10.019  INFO 7408 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchUpdateStateJob....执行定时将今日购物车修改为历史购物车执行成功,执行时间为=2018-03-24 14:12:10
2018-03-24 14:12:15.003 DEBUG 7408 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==>  Preparing: CALL CART_NEW_H_LIST(); 
2018-03-24 14:12:15.011 DEBUG 7408 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==> Parameters: 
2018-03-24 14:12:15.015  INFO 7408 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchUpdateStateJob....执行定时将今日购物车修改为历史购物车执行成功,执行时间为=2018-03-24 14:12:15
2018-03-24 14:12:20.008 DEBUG 7408 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==>  Preparing: CALL CART_NEW_H_LIST(); 
2018-03-24 14:12:20.031 DEBUG 7408 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==> Parameters: 
2018-03-24 14:12:20.573  INFO 7408 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchUpdateStateJob....执行定时将今日购物车修改为历史购物车执行成功,执行时间为=2018-03-24 14:12:20
2018-03-24 14:12:25.003 DEBUG 7408 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==>  Preparing: CALL CART_NEW_H_LIST(); 
2018-03-24 14:12:25.039 DEBUG 7408 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==> Parameters: 
2018-03-24 14:12:25.361  INFO 7408 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchUpdateStateJob....执行定时将今日购物车修改为历史购物车执行成功,执行时间为=2018-03-24 14:12:25
2018-03-24 14:12:30.002 DEBUG 7408 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==>  Preparing: CALL CART_NEW_H_LIST(); 
2018-03-24 14:12:30.009 DEBUG 7408 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==> Parameters: 
2018-03-24 14:12:30.012  INFO 7408 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchUpdateStateJob....执行定时将今日购物车修改为历史购物车执行成功,执行时间为=2018-03-24 14:12:30
2018-03-24 14:12:35.004 DEBUG 7408 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==>  Preparing: CALL CART_NEW_H_LIST(); 
2018-03-24 14:12:35.013 DEBUG 7408 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==> Parameters: 
2018-03-24 14:12:35.017  INFO 7408 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchUpdateStateJob....执行定时将今日购物车修改为历史购物车执行成功,执行时间为=2018-03-24 14:12:35
2018-03-24 14:12:40.003 DEBUG 7408 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==>  Preparing: CALL CART_NEW_H_LIST(); 
2018-03-24 14:12:40.014 DEBUG 7408 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==> Parameters: 
2018-03-24 14:12:40.017  INFO 7408 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchUpdateStateJob....执行定时将今日购物车修改为历史购物车执行成功,执行时间为=2018-03-24 14:12:40
2018-03-24 14:12:45.003 DEBUG 7408 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==>  Preparing: CALL CART_NEW_H_LIST(); 
2018-03-24 14:12:45.011 DEBUG 7408 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==> Parameters: 
2018-03-24 14:12:45.015  INFO 7408 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchUpdateStateJob....执行定时将今日购物车修改为历史购物车执行成功,执行时间为=2018-03-24 14:12:45
2018-03-24 15:36:18.696  INFO 12740 --- [main] com.ityb.qugou.JobAppliction             : No active profile set, falling back to default profiles: default
2018-03-24 15:36:32.046  INFO 12740 --- [main] o.apache.catalina.core.StandardService   : Starting service Tomcat
2018-03-24 15:36:32.053  INFO 12740 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.11
2018-03-24 15:36:33.123  INFO 12740 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-03-24 15:36:40.634  INFO 12740 --- [main] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor
2018-03-24 15:36:40.761  INFO 12740 --- [main] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2018-03-24 15:36:40.786  INFO 12740 --- [main] org.quartz.core.QuartzScheduler          : Quartz Scheduler v.2.2.3 created.
2018-03-24 15:36:40.794  INFO 12740 --- [main] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.
2018-03-24 15:36:40.799  INFO 12740 --- [main] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.2.3) 'schedulerFactoryBean' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2018-03-24 15:36:40.799  INFO 12740 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'schedulerFactoryBean' initialized from an externally provided properties instance.
2018-03-24 15:36:40.800  INFO 12740 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.2.3
2018-03-24 15:36:40.807  INFO 12740 --- [main] org.quartz.core.QuartzScheduler          : JobFactory set to: org.springframework.scheduling.quartz.AdaptableJobFactory@28fa541
2018-03-24 15:36:57.110  WARN 12740 --- [main] c.n.c.sources.URLConfigurationSource     : No URLs will be polled as dynamic configuration sources.
2018-03-24 15:36:57.111  INFO 12740 --- [main] c.n.c.sources.URLConfigurationSource     : To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2018-03-24 15:36:57.134  WARN 12740 --- [main] c.n.c.sources.URLConfigurationSource     : No URLs will be polled as dynamic configuration sources.
2018-03-24 15:36:57.135  INFO 12740 --- [main] c.n.c.sources.URLConfigurationSource     : To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2018-03-24 15:36:59.936  INFO 12740 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2018-03-24 15:37:01.035  INFO 12740 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON encoding codec LegacyJacksonJson
2018-03-24 15:37:01.037  INFO 12740 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON decoding codec LegacyJacksonJson
2018-03-24 15:37:01.787  INFO 12740 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML encoding codec XStreamXml
2018-03-24 15:37:01.789  INFO 12740 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML decoding codec XStreamXml
2018-03-24 15:37:03.800  INFO 12740 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-24 15:37:04.863  INFO 12740 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2018-03-24 15:37:04.865  INFO 12740 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2018-03-24 15:37:04.865  INFO 12740 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2018-03-24 15:37:04.866  INFO 12740 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2018-03-24 15:37:04.866  INFO 12740 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2018-03-24 15:37:04.867  INFO 12740 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2018-03-24 15:37:04.868  INFO 12740 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2018-03-24 15:37:05.415  INFO 12740 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2018-03-24 15:37:05.420  INFO 12740 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2018-03-24 15:37:05.429  INFO 12740 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2018-03-24 15:37:05.446  INFO 12740 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1521877025445 with initial instances count: 4
2018-03-24 15:37:05.858  INFO 12740 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1521877025857, current=UP, previous=STARTING]
2018-03-24 15:37:05.871  INFO 12740 --- [main] org.quartz.core.QuartzScheduler          : Scheduler schedulerFactoryBean_$_NON_CLUSTERED started.
2018-03-24 15:37:06.308  INFO 12740 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_JOB-SERVICE/192.168.0.101:job-service:8005: registering service...
2018-03-24 15:37:06.655  INFO 12740 --- [main] com.ityb.qugou.JobAppliction             : Started JobAppliction in 57.497 seconds (JVM running for 59.088)
2018-03-24 15:37:06.667  INFO 12740 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_JOB-SERVICE/192.168.0.101:job-service:8005 - registration status: 204
2018-03-24 15:42:04.885  INFO 12740 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-24 15:47:04.898  INFO 12740 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-24 15:51:40.086  INFO 12740 --- [http-nio-8005-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-03-24 15:51:41.864 DEBUG 12740 --- [http-nio-8005-exec-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==>  Preparing: CALL CART_NEW_H_LIST(); 
2018-03-24 15:51:41.991 DEBUG 12740 --- [http-nio-8005-exec-1] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==> Parameters: 
2018-03-24 15:51:42.018  INFO 12740 --- [http-nio-8005-exec-1] c.i.qugou.job.controller.JobConrtoller   : batchUpdateStateJob....执行定时将今日购物车修改为历史购物车执行成功,执行时间为=2018-03-24 15:51:42
2018-03-24 15:52:04.910  INFO 12740 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-24 15:57:04.923  INFO 12740 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-24 16:02:04.936  INFO 12740 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-24 16:07:04.949  INFO 12740 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-24 16:08:44.315 DEBUG 12740 --- [http-nio-8005-exec-3] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==>  Preparing: CALL CART_NEW_H_LIST(); 
2018-03-24 16:08:44.325 DEBUG 12740 --- [http-nio-8005-exec-3] c.i.q.j.m.JobMapper.batchUpdateStateJob  : ==> Parameters: 
2018-03-24 16:08:44.331  INFO 12740 --- [http-nio-8005-exec-3] c.i.qugou.job.controller.JobConrtoller   : batchUpdateStateJob....执行定时将今日购物车修改为历史购物车执行成功,执行时间为=2018-03-24 16:08:44
2018-03-24 16:12:04.961  INFO 12740 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-24 16:17:04.976  INFO 12740 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-24 16:22:04.990  INFO 12740 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-24 16:27:05.002  INFO 12740 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-24 16:32:05.024  INFO 12740 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-24 16:37:05.250  INFO 12740 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-24 16:42:05.265  INFO 12740 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-24 16:47:05.279  INFO 12740 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-24 16:52:05.294  INFO 12740 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-24 16:57:05.308  INFO 12740 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-24 17:02:05.321  INFO 12740 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-24 17:07:05.333  INFO 12740 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-24 17:12:05.347  INFO 12740 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-24 17:17:05.361  INFO 12740 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-24 17:22:05.543  INFO 12740 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-24 17:27:05.558  INFO 12740 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-24 17:32:05.571  INFO 12740 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-24 17:37:05.584  INFO 12740 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-24 17:42:05.786  INFO 12740 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-24 17:47:05.799  INFO 12740 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-24 17:52:05.811  INFO 12740 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-24 17:57:05.825  INFO 12740 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-24 18:02:05.840  INFO 12740 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-24 18:07:05.852  INFO 12740 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-24 18:12:05.865  INFO 12740 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-24 18:17:05.878  INFO 12740 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-24 18:22:05.891  INFO 12740 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-24 18:27:05.906  INFO 12740 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-24 18:32:05.918  INFO 12740 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-24 18:37:05.929  INFO 12740 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-24 18:42:05.943  INFO 12740 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-24 18:47:05.955  INFO 12740 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-24 18:52:05.968  INFO 12740 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-03-24 18:57:05.980  INFO 12740 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-04-15 21:21:19.199  INFO 14348 --- [main] com.ityb.qugou.JobAppliction             : No active profile set, falling back to default profiles: default
2018-04-15 21:21:37.194  INFO 14348 --- [main] o.apache.catalina.core.StandardService   : Starting service Tomcat
2018-04-15 21:21:37.197  INFO 14348 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.11
2018-04-15 21:21:38.660  INFO 14348 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-04-15 21:21:42.454  INFO 14348 --- [main] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor
2018-04-15 21:21:42.538  INFO 14348 --- [main] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2018-04-15 21:21:42.540  INFO 14348 --- [main] org.quartz.core.QuartzScheduler          : Quartz Scheduler v.2.2.3 created.
2018-04-15 21:21:42.543  INFO 14348 --- [main] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.
2018-04-15 21:21:42.548  INFO 14348 --- [main] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.2.3) 'schedulerFactoryBean' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2018-04-15 21:21:42.548  INFO 14348 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'schedulerFactoryBean' initialized from an externally provided properties instance.
2018-04-15 21:21:42.549  INFO 14348 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.2.3
2018-04-15 21:21:42.557  INFO 14348 --- [main] org.quartz.core.QuartzScheduler          : JobFactory set to: org.springframework.scheduling.quartz.AdaptableJobFactory@65af05b2
2018-04-15 21:21:54.919  WARN 14348 --- [main] c.n.c.sources.URLConfigurationSource     : No URLs will be polled as dynamic configuration sources.
2018-04-15 21:21:54.920  INFO 14348 --- [main] c.n.c.sources.URLConfigurationSource     : To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2018-04-15 21:21:54.940  WARN 14348 --- [main] c.n.c.sources.URLConfigurationSource     : No URLs will be polled as dynamic configuration sources.
2018-04-15 21:21:54.942  INFO 14348 --- [main] c.n.c.sources.URLConfigurationSource     : To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2018-04-15 21:21:57.627  INFO 14348 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2018-04-15 21:21:58.915  INFO 14348 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON encoding codec LegacyJacksonJson
2018-04-15 21:21:58.916  INFO 14348 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON decoding codec LegacyJacksonJson
2018-04-15 21:21:59.371  INFO 14348 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML encoding codec XStreamXml
2018-04-15 21:21:59.372  INFO 14348 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML decoding codec XStreamXml
2018-04-15 21:22:01.596  INFO 14348 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-04-15 21:22:02.074  INFO 14348 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2018-04-15 21:22:02.075  INFO 14348 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2018-04-15 21:22:02.075  INFO 14348 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2018-04-15 21:22:02.076  INFO 14348 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2018-04-15 21:22:02.076  INFO 14348 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2018-04-15 21:22:02.077  INFO 14348 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2018-04-15 21:22:02.077  INFO 14348 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2018-04-15 21:22:02.565  INFO 14348 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2018-04-15 21:22:02.570  INFO 14348 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2018-04-15 21:22:02.579  INFO 14348 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2018-04-15 21:22:02.589  INFO 14348 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1523798522588 with initial instances count: 11
2018-04-15 21:22:02.900  INFO 14348 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1523798522900, current=UP, previous=STARTING]
2018-04-15 21:22:02.923  INFO 14348 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_JOB-SERVICE/192.168.0.103:job-service:8005: registering service...
2018-04-15 21:22:02.923  INFO 14348 --- [main] org.quartz.core.QuartzScheduler          : Scheduler schedulerFactoryBean_$_NON_CLUSTERED started.
2018-04-15 21:22:03.417  INFO 14348 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_JOB-SERVICE/192.168.0.103:job-service:8005 - registration status: 204
2018-04-15 21:22:03.704  INFO 14348 --- [main] com.ityb.qugou.JobAppliction             : Started JobAppliction in 58.125 seconds (JVM running for 61.274)
2018-04-15 21:27:02.105  INFO 14348 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-04-15 21:32:02.121  INFO 14348 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-04-15 21:37:02.154  INFO 14348 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-04-15 21:42:02.167  INFO 14348 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-04-15 21:47:02.188  INFO 14348 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-04-15 21:52:02.202  INFO 14348 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-04-15 21:57:02.215  INFO 14348 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-04-15 22:02:02.228  INFO 14348 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-04-15 22:07:02.241  INFO 14348 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-04-15 22:12:02.257  INFO 14348 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-04-15 22:17:02.269  INFO 14348 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-04-15 22:22:02.285  INFO 14348 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-04-15 22:27:02.298  INFO 14348 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-04-15 22:32:02.313  INFO 14348 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-04-15 22:37:02.325  INFO 14348 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-04-15 22:42:02.341  INFO 14348 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-04-15 22:47:13.279  INFO 12792 --- [main] com.ityb.qugou.JobAppliction             : No active profile set, falling back to default profiles: default
2018-04-15 22:47:26.621  INFO 12792 --- [main] o.apache.catalina.core.StandardService   : Starting service Tomcat
2018-04-15 22:47:26.627  INFO 12792 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.11
2018-04-15 22:47:27.798  INFO 12792 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-04-15 22:47:30.931  INFO 12792 --- [main] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor
2018-04-15 22:47:31.325  INFO 12792 --- [main] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2018-04-15 22:47:31.327  INFO 12792 --- [main] org.quartz.core.QuartzScheduler          : Quartz Scheduler v.2.2.3 created.
2018-04-15 22:47:31.330  INFO 12792 --- [main] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.
2018-04-15 22:47:31.334  INFO 12792 --- [main] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.2.3) 'schedulerFactoryBean' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2018-04-15 22:47:31.334  INFO 12792 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'schedulerFactoryBean' initialized from an externally provided properties instance.
2018-04-15 22:47:31.335  INFO 12792 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.2.3
2018-04-15 22:47:31.342  INFO 12792 --- [main] org.quartz.core.QuartzScheduler          : JobFactory set to: org.springframework.scheduling.quartz.AdaptableJobFactory@5ee6fdc4
2018-04-15 22:47:42.418  WARN 12792 --- [main] c.n.c.sources.URLConfigurationSource     : No URLs will be polled as dynamic configuration sources.
2018-04-15 22:47:42.420  INFO 12792 --- [main] c.n.c.sources.URLConfigurationSource     : To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2018-04-15 22:47:42.451  WARN 12792 --- [main] c.n.c.sources.URLConfigurationSource     : No URLs will be polled as dynamic configuration sources.
2018-04-15 22:47:42.452  INFO 12792 --- [main] c.n.c.sources.URLConfigurationSource     : To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2018-04-15 22:47:44.976  INFO 12792 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2018-04-15 22:47:46.285  INFO 12792 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON encoding codec LegacyJacksonJson
2018-04-15 22:47:46.286  INFO 12792 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON decoding codec LegacyJacksonJson
2018-04-15 22:47:47.461  INFO 12792 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML encoding codec XStreamXml
2018-04-15 22:47:47.461  INFO 12792 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML decoding codec XStreamXml
2018-04-15 22:47:48.830  INFO 12792 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-04-15 22:47:49.318  INFO 12792 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2018-04-15 22:47:49.318  INFO 12792 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2018-04-15 22:47:49.319  INFO 12792 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2018-04-15 22:47:49.319  INFO 12792 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2018-04-15 22:47:49.320  INFO 12792 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2018-04-15 22:47:49.320  INFO 12792 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2018-04-15 22:47:49.321  INFO 12792 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2018-04-15 22:47:49.892  INFO 12792 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2018-04-15 22:47:49.897  INFO 12792 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2018-04-15 22:47:49.909  INFO 12792 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2018-04-15 22:47:49.923  INFO 12792 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1523803669921 with initial instances count: 11
2018-04-15 22:47:50.205  INFO 12792 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1523803670205, current=UP, previous=STARTING]
2018-04-15 22:47:50.222  INFO 12792 --- [main] org.quartz.core.QuartzScheduler          : Scheduler schedulerFactoryBean_$_NON_CLUSTERED started.
2018-04-15 22:47:50.224  INFO 12792 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_JOB-SERVICE/192.168.0.103:job-service:8005: registering service...
2018-04-15 22:47:50.717  INFO 12792 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_JOB-SERVICE/192.168.0.103:job-service:8005 - registration status: 204
2018-04-15 22:47:50.983  INFO 12792 --- [main] com.ityb.qugou.JobAppliction             : Started JobAppliction in 49.846 seconds (JVM running for 52.11)
2018-04-15 22:50:26.964  INFO 12792 --- [http-nio-8005-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring FrameworkServlet 'dispatcherServlet'
2018-04-15 22:50:29.259 DEBUG 12792 --- [http-nio-8005-exec-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-04-15 22:50:29.918 DEBUG 12792 --- [http-nio-8005-exec-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201835152235(String)
2018-04-15 22:50:29.938  INFO 12792 --- [http-nio-8005-exec-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将十五分钟中以外未支付的订单取消,执行时间为=2018-04-15 22:50:29
2018-04-15 22:52:49.338  INFO 12792 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-04-15 22:58:06.592  INFO 9088 --- [main] com.ityb.qugou.JobAppliction             : No active profile set, falling back to default profiles: default
2018-04-15 22:58:17.693  INFO 9088 --- [main] o.apache.catalina.core.StandardService   : Starting service Tomcat
2018-04-15 22:58:17.697  INFO 9088 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.11
2018-04-15 22:58:18.213  INFO 9088 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-04-15 22:58:21.590  INFO 9088 --- [main] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor
2018-04-15 22:58:21.684  INFO 9088 --- [main] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2018-04-15 22:58:21.685  INFO 9088 --- [main] org.quartz.core.QuartzScheduler          : Quartz Scheduler v.2.2.3 created.
2018-04-15 22:58:21.689  INFO 9088 --- [main] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.
2018-04-15 22:58:21.712  INFO 9088 --- [main] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.2.3) 'schedulerFactoryBean' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2018-04-15 22:58:21.713  INFO 9088 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'schedulerFactoryBean' initialized from an externally provided properties instance.
2018-04-15 22:58:21.718  INFO 9088 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.2.3
2018-04-15 22:58:21.729  INFO 9088 --- [main] org.quartz.core.QuartzScheduler          : JobFactory set to: org.springframework.scheduling.quartz.AdaptableJobFactory@64f3991e
2018-04-15 22:58:33.691  WARN 9088 --- [main] c.n.c.sources.URLConfigurationSource     : No URLs will be polled as dynamic configuration sources.
2018-04-15 22:58:33.692  INFO 9088 --- [main] c.n.c.sources.URLConfigurationSource     : To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2018-04-15 22:58:33.717  WARN 9088 --- [main] c.n.c.sources.URLConfigurationSource     : No URLs will be polled as dynamic configuration sources.
2018-04-15 22:58:33.718  INFO 9088 --- [main] c.n.c.sources.URLConfigurationSource     : To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2018-04-15 22:58:36.181  INFO 9088 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2018-04-15 22:58:36.787  INFO 9088 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON encoding codec LegacyJacksonJson
2018-04-15 22:58:36.788  INFO 9088 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON decoding codec LegacyJacksonJson
2018-04-15 22:58:37.326  INFO 9088 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML encoding codec XStreamXml
2018-04-15 22:58:37.326  INFO 9088 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML decoding codec XStreamXml
2018-04-15 22:58:38.837  INFO 9088 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-04-15 22:58:39.319  INFO 9088 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2018-04-15 22:58:39.319  INFO 9088 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2018-04-15 22:58:39.322  INFO 9088 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2018-04-15 22:58:39.323  INFO 9088 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2018-04-15 22:58:39.324  INFO 9088 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2018-04-15 22:58:39.324  INFO 9088 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2018-04-15 22:58:39.325  INFO 9088 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2018-04-15 22:58:39.990  INFO 9088 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2018-04-15 22:58:40.000  INFO 9088 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2018-04-15 22:58:40.012  INFO 9088 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2018-04-15 22:58:40.025  INFO 9088 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1523804320024 with initial instances count: 12
2018-04-15 22:58:40.520  INFO 9088 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1523804320520, current=UP, previous=STARTING]
2018-04-15 22:58:40.527  INFO 9088 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_JOB-SERVICE/192.168.0.103:job-service:8005: registering service...
2018-04-15 22:58:40.535  INFO 9088 --- [main] org.quartz.core.QuartzScheduler          : Scheduler schedulerFactoryBean_$_NON_CLUSTERED started.
2018-04-15 22:58:40.657  INFO 9088 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_JOB-SERVICE/192.168.0.103:job-service:8005 - registration status: 204
2018-04-15 22:58:41.438  INFO 9088 --- [main] com.ityb.qugou.JobAppliction             : Started JobAppliction in 43.964 seconds (JVM running for 45.902)
2018-04-15 22:59:28.984  INFO 13892 --- [main] com.ityb.qugou.JobAppliction             : No active profile set, falling back to default profiles: default
2018-04-15 22:59:39.309  INFO 13892 --- [main] o.apache.catalina.core.StandardService   : Starting service Tomcat
2018-04-15 22:59:39.318  INFO 13892 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.11
2018-04-15 22:59:39.879  INFO 13892 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-04-15 22:59:43.070  INFO 13892 --- [main] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor
2018-04-15 22:59:43.156  INFO 13892 --- [main] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2018-04-15 22:59:43.157  INFO 13892 --- [main] org.quartz.core.QuartzScheduler          : Quartz Scheduler v.2.2.3 created.
2018-04-15 22:59:43.162  INFO 13892 --- [main] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.
2018-04-15 22:59:43.166  INFO 13892 --- [main] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.2.3) 'schedulerFactoryBean' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2018-04-15 22:59:43.167  INFO 13892 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'schedulerFactoryBean' initialized from an externally provided properties instance.
2018-04-15 22:59:43.167  INFO 13892 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.2.3
2018-04-15 22:59:43.184  INFO 13892 --- [main] org.quartz.core.QuartzScheduler          : JobFactory set to: org.springframework.scheduling.quartz.AdaptableJobFactory@3cdfbbef
2018-04-15 22:59:54.191  WARN 13892 --- [main] c.n.c.sources.URLConfigurationSource     : No URLs will be polled as dynamic configuration sources.
2018-04-15 22:59:54.191  INFO 13892 --- [main] c.n.c.sources.URLConfigurationSource     : To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2018-04-15 22:59:54.216  WARN 13892 --- [main] c.n.c.sources.URLConfigurationSource     : No URLs will be polled as dynamic configuration sources.
2018-04-15 22:59:54.217  INFO 13892 --- [main] c.n.c.sources.URLConfigurationSource     : To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2018-04-15 22:59:56.642  INFO 13892 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2018-04-15 22:59:57.354  INFO 13892 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON encoding codec LegacyJacksonJson
2018-04-15 22:59:57.355  INFO 13892 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON decoding codec LegacyJacksonJson
2018-04-15 22:59:57.920  INFO 13892 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML encoding codec XStreamXml
2018-04-15 22:59:57.921  INFO 13892 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML decoding codec XStreamXml
2018-04-15 22:59:59.455  INFO 13892 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-04-15 23:00:00.034  INFO 13892 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2018-04-15 23:00:00.035  INFO 13892 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2018-04-15 23:00:00.036  INFO 13892 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2018-04-15 23:00:00.036  INFO 13892 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2018-04-15 23:00:00.037  INFO 13892 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2018-04-15 23:00:00.037  INFO 13892 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2018-04-15 23:00:00.038  INFO 13892 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2018-04-15 23:00:00.530  INFO 13892 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2018-04-15 23:00:00.544  INFO 13892 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2018-04-15 23:00:00.554  INFO 13892 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2018-04-15 23:00:00.567  INFO 13892 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1523804400566 with initial instances count: 12
2018-04-15 23:00:00.857  INFO 13892 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1523804400857, current=UP, previous=STARTING]
2018-04-15 23:00:00.863  INFO 13892 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_JOB-SERVICE/192.168.0.103:job-service:8005: registering service...
2018-04-15 23:00:00.869  INFO 13892 --- [main] org.quartz.core.QuartzScheduler          : Scheduler schedulerFactoryBean_$_NON_CLUSTERED started.
2018-04-15 23:00:00.971  INFO 13892 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_JOB-SERVICE/192.168.0.103:job-service:8005 - registration status: 204
2018-04-15 23:00:01.238  INFO 13892 --- [main] com.ityb.qugou.JobAppliction             : Started JobAppliction in 41.631 seconds (JVM running for 43.488)
2018-04-15 23:01:01.078 DEBUG 13892 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-04-15 23:01:01.204 DEBUG 13892 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201804152246(String)
2018-04-15 23:01:01.761  INFO 13892 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟中内未支付的订单取消,执行时间为=2018-04-15 23:01:01
2018-05-19 20:52:34.525  INFO 5164 --- [main] com.ityb.qugou.JobAppliction             : No active profile set, falling back to default profiles: default
2018-05-19 20:52:51.047  INFO 5164 --- [main] o.apache.catalina.core.StandardService   : Starting service Tomcat
2018-05-19 20:52:51.052  INFO 5164 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.11
2018-05-19 20:52:52.791  INFO 5164 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-05-19 20:52:57.818  INFO 5164 --- [main] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor
2018-05-19 20:52:57.932  INFO 5164 --- [main] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2018-05-19 20:52:57.934  INFO 5164 --- [main] org.quartz.core.QuartzScheduler          : Quartz Scheduler v.2.2.3 created.
2018-05-19 20:52:57.950  INFO 5164 --- [main] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.
2018-05-19 20:52:57.965  INFO 5164 --- [main] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.2.3) 'schedulerFactoryBean' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2018-05-19 20:52:57.967  INFO 5164 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'schedulerFactoryBean' initialized from an externally provided properties instance.
2018-05-19 20:52:57.979  INFO 5164 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.2.3
2018-05-19 20:52:57.993  INFO 5164 --- [main] org.quartz.core.QuartzScheduler          : JobFactory set to: org.springframework.scheduling.quartz.AdaptableJobFactory@6a6e9289
2018-05-19 20:53:13.208  WARN 5164 --- [main] c.n.c.sources.URLConfigurationSource     : No URLs will be polled as dynamic configuration sources.
2018-05-19 20:53:13.209  INFO 5164 --- [main] c.n.c.sources.URLConfigurationSource     : To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2018-05-19 20:53:13.246  WARN 5164 --- [main] c.n.c.sources.URLConfigurationSource     : No URLs will be polled as dynamic configuration sources.
2018-05-19 20:53:13.247  INFO 5164 --- [main] c.n.c.sources.URLConfigurationSource     : To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2018-05-19 20:53:16.942  INFO 5164 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2018-05-19 20:53:17.964  INFO 5164 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON encoding codec LegacyJacksonJson
2018-05-19 20:53:17.966  INFO 5164 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON decoding codec LegacyJacksonJson
2018-05-19 20:53:18.772  INFO 5164 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML encoding codec XStreamXml
2018-05-19 20:53:18.774  INFO 5164 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML decoding codec XStreamXml
2018-05-19 20:53:21.044  INFO 5164 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-05-19 20:53:22.176  INFO 5164 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2018-05-19 20:53:22.178  INFO 5164 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2018-05-19 20:53:22.179  INFO 5164 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2018-05-19 20:53:22.183  INFO 5164 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2018-05-19 20:53:22.184  INFO 5164 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2018-05-19 20:53:22.186  INFO 5164 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2018-05-19 20:53:22.187  INFO 5164 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2018-05-19 20:53:23.044  INFO 5164 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2018-05-19 20:53:23.059  INFO 5164 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2018-05-19 20:53:23.079  INFO 5164 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2018-05-19 20:53:23.111  INFO 5164 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1526734403105 with initial instances count: 10
2018-05-19 20:53:23.615  INFO 5164 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1526734403615, current=UP, previous=STARTING]
2018-05-19 20:53:23.641  INFO 5164 --- [main] org.quartz.core.QuartzScheduler          : Scheduler schedulerFactoryBean_$_NON_CLUSTERED started.
2018-05-19 20:53:23.668  INFO 5164 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_JOB-SERVICE/PC-20160510GKPU:job-service:8005: registering service...
2018-05-19 20:53:23.967  INFO 5164 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_JOB-SERVICE/PC-20160510GKPU:job-service:8005 - registration status: 204
2018-05-19 20:53:24.329  INFO 5164 --- [main] com.ityb.qugou.JobAppliction             : Started JobAppliction in 62.344 seconds (JVM running for 65.058)
2018-05-19 20:54:01.441 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 20:54:01.660 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192039(String)
2018-05-19 20:54:01.832  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 20:54:01
2018-05-19 20:55:00.007 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 20:55:00.019 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192040(String)
2018-05-19 20:55:00.024  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 20:55:00
2018-05-19 20:56:00.006 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 20:56:00.016 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192041(String)
2018-05-19 20:56:00.019  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 20:56:00
2018-05-19 20:57:00.006 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 20:57:00.024 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192042(String)
2018-05-19 20:57:00.029  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 20:57:00
2018-05-19 20:58:00.005 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 20:58:00.015 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192043(String)
2018-05-19 20:58:00.018  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 20:58:00
2018-05-19 20:58:22.214  INFO 5164 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-05-19 20:59:00.007 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 20:59:00.016 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192044(String)
2018-05-19 20:59:00.020  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 20:59:00
2018-05-19 21:00:00.006 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 21:00:00.017 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192045(String)
2018-05-19 21:00:00.021  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 21:00:00
2018-05-19 21:01:00.007 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 21:01:00.020 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192046(String)
2018-05-19 21:01:00.023  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 21:01:00
2018-05-19 21:02:00.006 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 21:02:00.027 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192047(String)
2018-05-19 21:02:00.030  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 21:02:00
2018-05-19 21:03:00.006 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 21:03:00.016 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192048(String)
2018-05-19 21:03:00.019  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 21:03:00
2018-05-19 21:03:22.234  INFO 5164 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-05-19 21:04:00.007 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 21:04:00.016 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192049(String)
2018-05-19 21:04:00.018  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 21:04:00
2018-05-19 21:05:00.027 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 21:05:00.048 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192050(String)
2018-05-19 21:05:00.060  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 21:05:00
2018-05-19 21:06:00.005 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 21:06:00.017 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192051(String)
2018-05-19 21:06:00.020  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 21:06:00
2018-05-19 21:07:00.007 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 21:07:00.015 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192052(String)
2018-05-19 21:07:00.018  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 21:07:00
2018-05-19 21:08:00.037 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 21:08:00.049 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192053(String)
2018-05-19 21:08:00.063  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 21:08:00
2018-05-19 21:08:22.285  INFO 5164 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-05-19 21:09:00.013 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 21:09:00.036 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192054(String)
2018-05-19 21:09:00.049  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 21:09:00
2018-05-19 21:10:00.006 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 21:10:00.017 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192055(String)
2018-05-19 21:10:00.021  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 21:10:00
2018-05-19 21:11:00.008 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 21:11:00.024 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192056(String)
2018-05-19 21:11:00.028  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 21:11:00
2018-05-19 21:12:00.006 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 21:12:00.019 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192057(String)
2018-05-19 21:12:00.023  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 21:12:00
2018-05-19 21:13:00.005 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 21:13:00.014 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192058(String)
2018-05-19 21:13:00.017  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 21:13:00
2018-05-19 21:13:22.303  INFO 5164 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-05-19 21:14:00.007 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 21:14:00.017 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192059(String)
2018-05-19 21:14:00.020  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 21:14:00
2018-05-19 21:15:00.006 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 21:15:00.015 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192100(String)
2018-05-19 21:15:00.021  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 21:15:00
2018-05-19 21:16:00.006 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 21:16:00.019 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192101(String)
2018-05-19 21:16:00.026  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 21:16:00
2018-05-19 21:17:00.005 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 21:17:00.016 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192102(String)
2018-05-19 21:17:00.023  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 21:17:00
2018-05-19 21:18:00.007 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 21:18:00.016 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192103(String)
2018-05-19 21:18:00.018  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 21:18:00
2018-05-19 21:18:22.321  INFO 5164 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-05-19 21:19:00.006 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 21:19:00.014 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192104(String)
2018-05-19 21:19:00.018  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 21:19:00
2018-05-19 21:20:00.004 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 21:20:00.012 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192105(String)
2018-05-19 21:20:00.015  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 21:20:00
2018-05-19 21:21:00.006 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 21:21:00.014 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192106(String)
2018-05-19 21:21:00.017  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 21:21:00
2018-05-19 21:22:00.010 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 21:22:00.027 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192107(String)
2018-05-19 21:22:00.030  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 21:22:00
2018-05-19 21:23:00.006 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 21:23:00.018 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192108(String)
2018-05-19 21:23:00.021  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 21:23:00
2018-05-19 21:23:22.339  INFO 5164 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-05-19 21:24:00.006 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 21:24:00.016 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192109(String)
2018-05-19 21:24:00.020  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 21:24:00
2018-05-19 21:25:00.006 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 21:25:00.013 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192110(String)
2018-05-19 21:25:00.016  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 21:25:00
2018-05-19 21:26:00.023 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 21:26:00.035 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192111(String)
2018-05-19 21:26:00.039  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 21:26:00
2018-05-19 21:27:00.006 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 21:27:00.014 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192112(String)
2018-05-19 21:27:00.017  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 21:27:00
2018-05-19 21:28:00.008 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 21:28:00.016 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192113(String)
2018-05-19 21:28:00.020  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 21:28:00
2018-05-19 21:28:22.357  INFO 5164 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-05-19 21:29:00.006 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 21:29:00.044 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192114(String)
2018-05-19 21:29:00.047  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 21:29:00
2018-05-19 21:30:00.007 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 21:30:00.017 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192115(String)
2018-05-19 21:30:00.020  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 21:30:00
2018-05-19 21:31:00.006 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 21:31:00.017 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192116(String)
2018-05-19 21:31:00.021  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 21:31:00
2018-05-19 21:32:00.007 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 21:32:00.016 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192117(String)
2018-05-19 21:32:00.018  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 21:32:00
2018-05-19 21:33:00.006 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 21:33:00.017 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192118(String)
2018-05-19 21:33:00.021  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 21:33:00
2018-05-19 21:33:22.681  INFO 5164 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-05-19 21:34:00.006 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 21:34:00.013 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192119(String)
2018-05-19 21:34:00.016  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 21:34:00
2018-05-19 21:35:00.006 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 21:35:00.018 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192120(String)
2018-05-19 21:35:00.020  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 21:35:00
2018-05-19 21:36:00.009 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 21:36:00.027 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192121(String)
2018-05-19 21:36:00.030  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 21:36:00
2018-05-19 21:37:00.007 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 21:37:00.015 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192122(String)
2018-05-19 21:37:00.018  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 21:37:00
2018-05-19 21:38:00.006 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 21:38:00.013 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192123(String)
2018-05-19 21:38:00.015  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 21:38:00
2018-05-19 21:38:22.704  INFO 5164 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-05-19 21:39:00.007 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 21:39:00.015 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192124(String)
2018-05-19 21:39:00.017  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 21:39:00
2018-05-19 21:40:00.006 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 21:40:00.014 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192125(String)
2018-05-19 21:40:00.020  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 21:40:00
2018-05-19 21:41:00.008 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 21:41:00.048 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192126(String)
2018-05-19 21:41:00.052  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 21:41:00
2018-05-19 21:42:00.005 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 21:42:00.013 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192127(String)
2018-05-19 21:42:00.016  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 21:42:00
2018-05-19 21:43:00.006 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 21:43:00.031 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192128(String)
2018-05-19 21:43:00.034  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 21:43:00
2018-05-19 21:43:22.722  INFO 5164 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-05-19 21:44:00.008 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 21:44:00.019 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192129(String)
2018-05-19 21:44:00.023  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 21:44:00
2018-05-19 21:45:00.006 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 21:45:00.014 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192130(String)
2018-05-19 21:45:00.018  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 21:45:00
2018-05-19 21:46:00.008 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 21:46:00.038 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192131(String)
2018-05-19 21:46:00.041  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 21:46:00
2018-05-19 21:47:00.007 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 21:47:00.024 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192132(String)
2018-05-19 21:47:00.026  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 21:47:00
2018-05-19 21:48:00.006 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 21:48:00.028 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192133(String)
2018-05-19 21:48:00.032  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 21:48:00
2018-05-19 21:48:22.741  INFO 5164 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-05-19 21:49:00.005 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 21:49:00.014 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192134(String)
2018-05-19 21:49:00.017  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 21:49:00
2018-05-19 21:50:00.006 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 21:50:00.012 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192135(String)
2018-05-19 21:50:00.014  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 21:50:00
2018-05-19 21:51:00.008 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 21:51:00.016 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192136(String)
2018-05-19 21:51:00.019  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 21:51:00
2018-05-19 21:52:00.005 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 21:52:00.013 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192137(String)
2018-05-19 21:52:00.016  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 21:52:00
2018-05-19 21:53:00.007 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 21:53:00.013 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192138(String)
2018-05-19 21:53:00.017  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 21:53:00
2018-05-19 21:53:22.759  INFO 5164 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-05-19 21:54:00.005 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 21:54:00.015 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192139(String)
2018-05-19 21:54:00.018  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 21:54:00
2018-05-19 21:55:00.006 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 21:55:00.012 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192140(String)
2018-05-19 21:55:00.014  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 21:55:00
2018-05-19 21:56:00.005 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 21:56:00.014 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192141(String)
2018-05-19 21:56:00.019  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 21:56:00
2018-05-19 21:57:00.007 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 21:57:00.015 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192142(String)
2018-05-19 21:57:00.017  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 21:57:00
2018-05-19 21:58:00.008 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 21:58:00.019 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192143(String)
2018-05-19 21:58:00.022  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 21:58:00
2018-05-19 21:58:22.777  INFO 5164 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-05-19 21:59:00.005 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 21:59:00.016 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192144(String)
2018-05-19 21:59:00.019  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 21:59:00
2018-05-19 22:00:00.006 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 22:00:00.013 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192145(String)
2018-05-19 22:00:00.016  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 22:00:00
2018-05-19 22:01:00.006 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 22:01:00.052 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192146(String)
2018-05-19 22:01:00.056  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 22:01:00
2018-05-19 22:02:00.006 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 22:02:00.014 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192147(String)
2018-05-19 22:02:00.018  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 22:02:00
2018-05-19 22:03:00.005 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 22:03:00.012 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192148(String)
2018-05-19 22:03:00.014  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 22:03:00
2018-05-19 22:03:22.795  INFO 5164 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-05-19 22:04:00.005 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 22:04:00.014 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192149(String)
2018-05-19 22:04:00.017  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 22:04:00
2018-05-19 22:05:00.006 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 22:05:00.015 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192150(String)
2018-05-19 22:05:00.018  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 22:05:00
2018-05-19 22:06:00.005 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 22:06:00.015 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192151(String)
2018-05-19 22:06:00.018  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 22:06:00
2018-05-19 22:07:00.008 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 22:07:00.014 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192152(String)
2018-05-19 22:07:00.016  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 22:07:00
2018-05-19 22:08:00.008 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 22:08:00.014 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192153(String)
2018-05-19 22:08:00.018  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 22:08:00
2018-05-19 22:08:22.813  INFO 5164 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-05-19 22:09:00.073 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 22:09:00.095 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192154(String)
2018-05-19 22:09:00.105  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 22:09:00
2018-05-19 22:10:00.006 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 22:10:00.012 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192155(String)
2018-05-19 22:10:00.014  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 22:10:00
2018-05-19 22:11:00.005 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 22:11:00.013 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192156(String)
2018-05-19 22:11:00.016  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 22:11:00
2018-05-19 22:12:00.007 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 22:12:00.013 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192157(String)
2018-05-19 22:12:00.018  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 22:12:00
2018-05-19 22:13:00.006 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 22:13:00.034 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192158(String)
2018-05-19 22:13:00.038  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 22:13:00
2018-05-19 22:13:22.833  INFO 5164 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-05-19 22:14:00.006 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 22:14:00.017 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192159(String)
2018-05-19 22:14:00.021  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 22:14:00
2018-05-19 22:15:00.005 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 22:15:00.016 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192200(String)
2018-05-19 22:15:00.021  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 22:15:00
2018-05-19 22:16:00.006 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 22:16:00.015 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192201(String)
2018-05-19 22:16:00.019  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 22:16:00
2018-05-19 22:17:00.005 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 22:17:00.013 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192202(String)
2018-05-19 22:17:00.015  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 22:17:00
2018-05-19 22:18:00.005 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 22:18:00.013 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192203(String)
2018-05-19 22:18:00.016  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 22:18:00
2018-05-19 22:18:22.854  INFO 5164 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-05-19 22:19:00.006 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 22:19:00.015 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192204(String)
2018-05-19 22:19:00.019  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 22:19:00
2018-05-19 22:20:00.005 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 22:20:00.013 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192205(String)
2018-05-19 22:20:00.017  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 22:20:00
2018-05-19 22:21:00.005 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 22:21:00.014 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192206(String)
2018-05-19 22:21:00.017  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 22:21:00
2018-05-19 22:22:00.006 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 22:22:00.011 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192207(String)
2018-05-19 22:22:00.013  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 22:22:00
2018-05-19 22:23:00.006 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 22:23:00.014 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192208(String)
2018-05-19 22:23:00.016  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 22:23:00
2018-05-19 22:23:22.882  INFO 5164 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-05-19 22:24:00.008 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 22:24:00.015 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192209(String)
2018-05-19 22:24:00.020  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 22:24:00
2018-05-19 22:25:00.006 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 22:25:00.012 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192210(String)
2018-05-19 22:25:00.017  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 22:25:00
2018-05-19 22:26:00.005 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 22:26:00.016 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192211(String)
2018-05-19 22:26:00.019  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 22:26:00
2018-05-19 22:27:00.019 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 22:27:00.028 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192212(String)
2018-05-19 22:27:00.031  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 22:27:00
2018-05-19 22:28:00.006 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 22:28:00.016 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192213(String)
2018-05-19 22:28:00.020  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 22:28:00
2018-05-19 22:28:22.901  INFO 5164 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-05-19 22:29:00.005 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 22:29:00.015 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192214(String)
2018-05-19 22:29:00.018  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 22:29:00
2018-05-19 22:30:00.006 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 22:30:00.020 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192215(String)
2018-05-19 22:30:00.023  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 22:30:00
2018-05-19 22:31:00.007 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 22:31:00.014 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192216(String)
2018-05-19 22:31:00.017  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 22:31:00
2018-05-19 22:32:00.012 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 22:32:00.022 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192217(String)
2018-05-19 22:32:00.024  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 22:32:00
2018-05-19 22:33:00.006 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 22:33:00.016 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192218(String)
2018-05-19 22:33:00.019  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 22:33:00
2018-05-19 22:33:22.960  INFO 5164 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-05-19 22:34:00.006 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 22:34:00.018 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192219(String)
2018-05-19 22:34:00.021  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 22:34:00
2018-05-19 22:35:00.006 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 22:35:00.015 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192220(String)
2018-05-19 22:35:00.017  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 22:35:00
2018-05-19 22:36:00.004 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 22:36:00.013 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192221(String)
2018-05-19 22:36:00.015  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 22:36:00
2018-05-19 22:37:00.008 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 22:37:00.014 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192222(String)
2018-05-19 22:37:00.016  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 22:37:00
2018-05-19 22:38:00.005 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 22:38:00.013 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192223(String)
2018-05-19 22:38:00.017  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 22:38:00
2018-05-19 22:38:22.989  INFO 5164 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-05-19 22:39:00.008 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 22:39:00.014 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192224(String)
2018-05-19 22:39:00.016  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 22:39:00
2018-05-19 22:40:00.005 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 22:40:00.014 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192225(String)
2018-05-19 22:40:00.016  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 22:40:00
2018-05-19 22:41:00.007 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 22:41:00.018 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192226(String)
2018-05-19 22:41:00.025  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 22:41:00
2018-05-19 22:42:00.007 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 22:42:00.016 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192227(String)
2018-05-19 22:42:00.018  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 22:42:00
2018-05-19 22:43:00.006 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 22:43:00.012 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192228(String)
2018-05-19 22:43:00.016  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 22:43:00
2018-05-19 22:43:23.009  INFO 5164 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-05-19 22:44:00.007 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 22:44:00.017 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192229(String)
2018-05-19 22:44:00.019  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 22:44:00
2018-05-19 22:45:00.006 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 22:45:00.014 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192230(String)
2018-05-19 22:45:00.016  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 22:45:00
2018-05-19 22:46:00.007 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 22:46:00.015 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192231(String)
2018-05-19 22:46:00.018  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 22:46:00
2018-05-19 22:47:00.006 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 22:47:00.015 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192232(String)
2018-05-19 22:47:00.018  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 22:47:00
2018-05-19 22:48:00.006 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 22:48:00.024 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192233(String)
2018-05-19 22:48:00.027  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 22:48:00
2018-05-19 22:48:23.029  INFO 5164 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-05-19 22:49:00.007 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 22:49:00.015 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192234(String)
2018-05-19 22:49:00.020  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 22:49:00
2018-05-19 22:50:00.006 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 22:50:00.014 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192235(String)
2018-05-19 22:50:00.016  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 22:50:00
2018-05-19 22:51:00.009 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 22:51:00.017 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192236(String)
2018-05-19 22:51:00.021  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 22:51:00
2018-05-19 22:52:00.007 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 22:52:00.013 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192237(String)
2018-05-19 22:52:00.015  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 22:52:00
2018-05-19 22:53:00.006 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 22:53:00.013 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192238(String)
2018-05-19 22:53:00.016  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 22:53:00
2018-05-19 22:53:23.049  INFO 5164 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-05-19 22:54:00.004 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 22:54:00.013 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192239(String)
2018-05-19 22:54:00.017  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 22:54:00
2018-05-19 22:55:00.004 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 22:55:00.012 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192240(String)
2018-05-19 22:55:00.014  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 22:55:00
2018-05-19 22:56:00.007 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 22:56:00.039 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192241(String)
2018-05-19 22:56:00.042  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 22:56:00
2018-05-19 22:57:00.005 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 22:57:00.058 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192242(String)
2018-05-19 22:57:00.068  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 22:57:00
2018-05-19 22:58:00.006 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 22:58:00.014 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192243(String)
2018-05-19 22:58:00.016  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 22:58:00
2018-05-19 22:58:23.068  INFO 5164 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-05-19 22:59:00.006 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 22:59:00.015 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192244(String)
2018-05-19 22:59:00.019  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 22:59:00
2018-05-19 23:00:00.008 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 23:00:00.017 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192245(String)
2018-05-19 23:00:00.021  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 23:00:00
2018-05-19 23:01:00.007 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 23:01:00.016 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192246(String)
2018-05-19 23:01:00.020  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 23:01:00
2018-05-19 23:02:00.005 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 23:02:00.012 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192247(String)
2018-05-19 23:02:00.014  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 23:02:00
2018-05-19 23:03:00.007 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 23:03:00.017 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192248(String)
2018-05-19 23:03:00.021  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 23:03:00
2018-05-19 23:03:23.087  INFO 5164 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-05-19 23:04:00.005 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 23:04:00.014 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192249(String)
2018-05-19 23:04:00.019  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 23:04:00
2018-05-19 23:05:00.006 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 23:05:00.013 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192250(String)
2018-05-19 23:05:00.016  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 23:05:00
2018-05-19 23:06:00.005 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 23:06:00.019 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192251(String)
2018-05-19 23:06:00.022  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 23:06:00
2018-05-19 23:07:00.006 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 23:07:00.016 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192252(String)
2018-05-19 23:07:00.018  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 23:07:00
2018-05-19 23:08:00.007 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 23:08:00.014 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192253(String)
2018-05-19 23:08:00.017  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 23:08:00
2018-05-19 23:08:23.111  INFO 5164 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-05-19 23:09:00.007 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 23:09:00.015 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192254(String)
2018-05-19 23:09:00.018  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 23:09:00
2018-05-19 23:10:00.006 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 23:10:00.014 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192255(String)
2018-05-19 23:10:00.016  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 23:10:00
2018-05-19 23:11:00.007 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 23:11:00.016 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192256(String)
2018-05-19 23:11:00.021  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 23:11:00
2018-05-19 23:12:00.007 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 23:12:00.021 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192257(String)
2018-05-19 23:12:00.024  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 23:12:00
2018-05-19 23:13:00.012 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 23:13:00.031 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192258(String)
2018-05-19 23:13:00.048  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 23:13:00
2018-05-19 23:13:23.133  INFO 5164 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-05-19 23:14:00.006 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 23:14:00.013 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192259(String)
2018-05-19 23:14:00.019  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 23:14:00
2018-05-19 23:15:00.006 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 23:15:00.026 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192300(String)
2018-05-19 23:15:00.028  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 23:15:00
2018-05-19 23:16:00.006 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 23:16:00.015 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192301(String)
2018-05-19 23:16:00.018  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 23:16:00
2018-05-19 23:17:00.005 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 23:17:00.013 DEBUG 5164 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 201805192302(String)
2018-05-19 23:17:00.017  INFO 5164 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 23:17:00
2018-05-19 23:22:12.396  INFO 12884 --- [main] com.ityb.qugou.JobAppliction             : No active profile set, falling back to default profiles: default
2018-05-19 23:22:31.454  INFO 12884 --- [main] o.apache.catalina.core.StandardService   : Starting service Tomcat
2018-05-19 23:22:31.464  INFO 12884 --- [main] org.apache.catalina.core.StandardEngine  : Starting Servlet Engine: Apache Tomcat/8.5.11
2018-05-19 23:22:32.402  INFO 12884 --- [localhost-startStop-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2018-05-19 23:22:37.530  INFO 12884 --- [main] org.quartz.impl.StdSchedulerFactory      : Using default implementation for ThreadExecutor
2018-05-19 23:22:37.657  INFO 12884 --- [main] org.quartz.core.SchedulerSignalerImpl    : Initialized Scheduler Signaller of type: class org.quartz.core.SchedulerSignalerImpl
2018-05-19 23:22:37.659  INFO 12884 --- [main] org.quartz.core.QuartzScheduler          : Quartz Scheduler v.2.2.3 created.
2018-05-19 23:22:37.666  INFO 12884 --- [main] org.quartz.simpl.RAMJobStore             : RAMJobStore initialized.
2018-05-19 23:22:37.674  INFO 12884 --- [main] org.quartz.core.QuartzScheduler          : Scheduler meta-data: Quartz Scheduler (v2.2.3) 'schedulerFactoryBean' with instanceId 'NON_CLUSTERED'
  Scheduler class: 'org.quartz.core.QuartzScheduler' - running locally.
  NOT STARTED.
  Currently in standby mode.
  Number of jobs executed: 0
  Using thread pool 'org.quartz.simpl.SimpleThreadPool' - with 10 threads.
  Using job-store 'org.quartz.simpl.RAMJobStore' - which does not support persistence. and is not clustered.

2018-05-19 23:22:37.676  INFO 12884 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler 'schedulerFactoryBean' initialized from an externally provided properties instance.
2018-05-19 23:22:37.677  INFO 12884 --- [main] org.quartz.impl.StdSchedulerFactory      : Quartz scheduler version: 2.2.3
2018-05-19 23:22:37.705  INFO 12884 --- [main] org.quartz.core.QuartzScheduler          : JobFactory set to: org.springframework.scheduling.quartz.AdaptableJobFactory@69b37f5c
2018-05-19 23:22:54.453  WARN 12884 --- [main] c.n.c.sources.URLConfigurationSource     : No URLs will be polled as dynamic configuration sources.
2018-05-19 23:22:54.455  INFO 12884 --- [main] c.n.c.sources.URLConfigurationSource     : To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2018-05-19 23:22:54.491  WARN 12884 --- [main] c.n.c.sources.URLConfigurationSource     : No URLs will be polled as dynamic configuration sources.
2018-05-19 23:22:54.492  INFO 12884 --- [main] c.n.c.sources.URLConfigurationSource     : To enable URLs as dynamic configuration sources, define System property archaius.configurationSource.additionalUrls or make config.properties available on classpath.
2018-05-19 23:22:58.639  INFO 12884 --- [main] com.netflix.discovery.DiscoveryClient    : Initializing Eureka in region us-east-1
2018-05-19 23:22:59.830  INFO 12884 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON encoding codec LegacyJacksonJson
2018-05-19 23:22:59.831  INFO 12884 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using JSON decoding codec LegacyJacksonJson
2018-05-19 23:23:00.669  INFO 12884 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML encoding codec XStreamXml
2018-05-19 23:23:00.671  INFO 12884 --- [main] c.n.d.provider.DiscoveryJerseyProvider   : Using XML decoding codec XStreamXml
2018-05-19 23:23:03.363  INFO 12884 --- [main] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-05-19 23:23:04.264  INFO 12884 --- [main] com.netflix.discovery.DiscoveryClient    : Disable delta property : false
2018-05-19 23:23:04.265  INFO 12884 --- [main] com.netflix.discovery.DiscoveryClient    : Single vip registry refresh property : null
2018-05-19 23:23:04.271  INFO 12884 --- [main] com.netflix.discovery.DiscoveryClient    : Force full registry fetch : false
2018-05-19 23:23:04.273  INFO 12884 --- [main] com.netflix.discovery.DiscoveryClient    : Application is null : false
2018-05-19 23:23:04.274  INFO 12884 --- [main] com.netflix.discovery.DiscoveryClient    : Registered Applications size is zero : true
2018-05-19 23:23:04.276  INFO 12884 --- [main] com.netflix.discovery.DiscoveryClient    : Application version is -1: true
2018-05-19 23:23:04.277  INFO 12884 --- [main] com.netflix.discovery.DiscoveryClient    : Getting all instance registry info from the eureka server
2018-05-19 23:23:05.208  INFO 12884 --- [main] com.netflix.discovery.DiscoveryClient    : The response status is 200
2018-05-19 23:23:05.217  INFO 12884 --- [main] com.netflix.discovery.DiscoveryClient    : Starting heartbeat executor: renew interval is: 30
2018-05-19 23:23:05.239  INFO 12884 --- [main] c.n.discovery.InstanceInfoReplicator     : InstanceInfoReplicator onDemand update allowed rate per min is 4
2018-05-19 23:23:05.265  INFO 12884 --- [main] com.netflix.discovery.DiscoveryClient    : Discovery Client initialized at timestamp 1526743385262 with initial instances count: 11
2018-05-19 23:23:05.758  INFO 12884 --- [main] com.netflix.discovery.DiscoveryClient    : Saw local status change event StatusChangeEvent [timestamp=1526743385758, current=UP, previous=STARTING]
2018-05-19 23:23:05.780  INFO 12884 --- [main] org.quartz.core.QuartzScheduler          : Scheduler schedulerFactoryBean_$_NON_CLUSTERED started.
2018-05-19 23:23:05.819  INFO 12884 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_JOB-SERVICE/PC-20160510GKPU:job-service:8005: registering service...
2018-05-19 23:23:06.111  INFO 12884 --- [DiscoveryClient-InstanceInfoReplicator-0] com.netflix.discovery.DiscoveryClient    : DiscoveryClient_JOB-SERVICE/PC-20160510GKPU:job-service:8005 - registration status: 204
2018-05-19 23:23:06.474  INFO 12884 --- [main] com.ityb.qugou.JobAppliction             : Started JobAppliction in 69.278 seconds (JVM running for 72.435)
2018-05-19 23:24:01.473 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 23:24:01.667 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805192309(String)
2018-05-19 23:24:01.680  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 23:24:01
2018-05-19 23:25:00.008 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 23:25:00.026 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805192310(String)
2018-05-19 23:25:00.029  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 23:25:00
2018-05-19 23:26:00.009 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 23:26:00.028 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805192311(String)
2018-05-19 23:26:00.033  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 23:26:00
2018-05-19 23:27:00.005 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 23:27:00.016 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805192312(String)
2018-05-19 23:27:00.021  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 23:27:00
2018-05-19 23:28:00.007 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 23:28:00.052 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805192313(String)
2018-05-19 23:28:00.058  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 23:28:00
2018-05-19 23:28:04.302  INFO 12884 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-05-19 23:29:00.007 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 23:29:00.017 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805192314(String)
2018-05-19 23:29:00.021  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 23:29:00
2018-05-19 23:30:00.007 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 23:30:00.042 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805192315(String)
2018-05-19 23:30:00.046  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 23:30:00
2018-05-19 23:31:00.006 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 23:31:00.022 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805192316(String)
2018-05-19 23:31:00.031  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 23:31:00
2018-05-19 23:32:00.006 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 23:32:00.048 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805192317(String)
2018-05-19 23:32:00.055  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 23:32:00
2018-05-19 23:33:00.009 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 23:33:00.028 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805192318(String)
2018-05-19 23:33:00.032  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 23:33:00
2018-05-19 23:33:04.324  INFO 12884 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-05-19 23:34:00.006 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 23:34:00.019 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805192319(String)
2018-05-19 23:34:00.024  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 23:34:00
2018-05-19 23:35:00.027 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 23:35:00.076 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805192320(String)
2018-05-19 23:35:00.084  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 23:35:00
2018-05-19 23:36:00.006 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 23:36:00.022 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805192321(String)
2018-05-19 23:36:00.027  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 23:36:00
2018-05-19 23:37:00.008 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 23:37:00.017 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805192322(String)
2018-05-19 23:37:00.022  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 23:37:00
2018-05-19 23:38:00.007 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 23:38:00.017 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805192323(String)
2018-05-19 23:38:00.021  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 23:38:00
2018-05-19 23:38:04.343  INFO 12884 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-05-19 23:39:00.009 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 23:39:00.022 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805192324(String)
2018-05-19 23:39:00.035  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 23:39:00
2018-05-19 23:40:00.007 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 23:40:00.027 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805192325(String)
2018-05-19 23:40:00.035  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 23:40:00
2018-05-19 23:41:00.005 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 23:41:00.026 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805192326(String)
2018-05-19 23:41:00.032  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 23:41:00
2018-05-19 23:42:00.006 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 23:42:00.020 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805192327(String)
2018-05-19 23:42:00.024  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 23:42:00
2018-05-19 23:43:00.005 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 23:43:00.014 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805192328(String)
2018-05-19 23:43:00.019  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 23:43:00
2018-05-19 23:43:04.361  INFO 12884 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-05-19 23:44:00.007 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 23:44:00.017 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805192329(String)
2018-05-19 23:44:00.022  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 23:44:00
2018-05-19 23:45:00.004 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 23:45:00.014 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805192330(String)
2018-05-19 23:45:00.017  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 23:45:00
2018-05-19 23:46:00.007 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 23:46:00.017 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805192331(String)
2018-05-19 23:46:00.021  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 23:46:00
2018-05-19 23:47:00.008 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 23:47:00.018 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805192332(String)
2018-05-19 23:47:00.021  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 23:47:00
2018-05-19 23:48:00.006 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 23:48:00.013 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805192333(String)
2018-05-19 23:48:00.016  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 23:48:00
2018-05-19 23:48:04.381  INFO 12884 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-05-19 23:49:00.007 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 23:49:00.015 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805192334(String)
2018-05-19 23:49:00.018  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 23:49:00
2018-05-19 23:50:00.006 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 23:50:00.015 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805192335(String)
2018-05-19 23:50:00.018  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 23:50:00
2018-05-19 23:51:00.007 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 23:51:00.018 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805192336(String)
2018-05-19 23:51:00.022  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 23:51:00
2018-05-19 23:52:00.013 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 23:52:00.038 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805192337(String)
2018-05-19 23:52:00.042  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 23:52:00
2018-05-19 23:53:00.006 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 23:53:00.018 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805192338(String)
2018-05-19 23:53:00.024  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 23:53:00
2018-05-19 23:53:04.400  INFO 12884 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-05-19 23:54:00.006 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 23:54:00.015 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805192339(String)
2018-05-19 23:54:00.023  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 23:54:00
2018-05-19 23:55:00.005 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 23:55:00.013 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805192340(String)
2018-05-19 23:55:00.016  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 23:55:00
2018-05-19 23:56:00.009 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 23:56:00.056 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805192341(String)
2018-05-19 23:56:00.061  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 23:56:00
2018-05-19 23:57:00.006 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 23:57:00.019 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805192342(String)
2018-05-19 23:57:00.022  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 23:57:00
2018-05-19 23:58:00.006 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 23:58:00.013 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805192343(String)
2018-05-19 23:58:00.017  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 23:58:00
2018-05-19 23:58:04.418  INFO 12884 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-05-19 23:59:00.006 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-19 23:59:00.015 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805192344(String)
2018-05-19 23:59:00.018  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-19 23:59:00
2018-05-20 00:00:00.018 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-20 00:00:00.109 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805192345(String)
2018-05-20 00:00:00.122  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-20 00:00:00
2018-05-20 00:01:00.006 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-20 00:01:00.020 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805192346(String)
2018-05-20 00:01:00.023  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-20 00:01:00
2018-05-20 00:02:00.006 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-20 00:02:00.019 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805192347(String)
2018-05-20 00:02:00.023  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-20 00:02:00
2018-05-20 00:03:00.007 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-20 00:03:00.019 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805192348(String)
2018-05-20 00:03:00.061  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-20 00:03:00
2018-05-20 00:03:04.437  INFO 12884 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-05-20 00:04:00.005 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-20 00:04:00.013 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805192349(String)
2018-05-20 00:04:00.019  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-20 00:04:00
2018-05-20 00:05:00.007 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-20 00:05:00.017 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805192350(String)
2018-05-20 00:05:00.021  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-20 00:05:00
2018-05-20 00:06:00.007 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-20 00:06:00.023 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805192351(String)
2018-05-20 00:06:00.026  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-20 00:06:00
2018-05-20 00:07:00.007 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-20 00:07:00.025 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805192352(String)
2018-05-20 00:07:00.028  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-20 00:07:00
2018-05-20 00:08:00.005 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-20 00:08:00.012 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805192353(String)
2018-05-20 00:08:00.015  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-20 00:08:00
2018-05-20 00:08:04.457  INFO 12884 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-05-20 00:09:00.008 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-20 00:09:00.017 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805192354(String)
2018-05-20 00:09:00.020  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-20 00:09:00
2018-05-20 00:10:00.005 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-20 00:10:00.015 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805192355(String)
2018-05-20 00:10:00.019  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-20 00:10:00
2018-05-20 00:11:00.006 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-20 00:11:00.022 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805192356(String)
2018-05-20 00:11:00.025  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-20 00:11:00
2018-05-20 00:12:00.006 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-20 00:12:00.013 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805192357(String)
2018-05-20 00:12:00.016  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-20 00:12:00
2018-05-20 00:13:00.006 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-20 00:13:00.016 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805192358(String)
2018-05-20 00:13:00.018  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-20 00:13:00
2018-05-20 00:13:04.475  INFO 12884 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-05-20 00:14:00.007 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-20 00:14:00.019 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805192359(String)
2018-05-20 00:14:00.023  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-20 00:14:00
2018-05-20 00:15:00.006 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-20 00:15:00.022 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805200000(String)
2018-05-20 00:15:00.025  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-20 00:15:00
2018-05-20 00:16:00.006 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-20 00:16:00.014 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805200001(String)
2018-05-20 00:16:00.017  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-20 00:16:00
2018-05-20 00:17:00.006 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-20 00:17:00.013 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805200002(String)
2018-05-20 00:17:00.020  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-20 00:17:00
2018-05-20 00:18:00.015 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-20 00:18:00.022 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805200003(String)
2018-05-20 00:18:00.026  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-20 00:18:00
2018-05-20 00:18:04.494  INFO 12884 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-05-20 00:19:00.006 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-20 00:19:00.014 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805200004(String)
2018-05-20 00:19:00.019  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-20 00:19:00
2018-05-20 00:20:00.005 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-20 00:20:00.012 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805200005(String)
2018-05-20 00:20:00.014  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-20 00:20:00
2018-05-20 00:21:00.007 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-20 00:21:00.058 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805200006(String)
2018-05-20 00:21:00.063  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-20 00:21:00
2018-05-20 00:22:00.006 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-20 00:22:00.013 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805200007(String)
2018-05-20 00:22:00.015  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-20 00:22:00
2018-05-20 00:23:00.005 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-20 00:23:00.011 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805200008(String)
2018-05-20 00:23:00.014  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-20 00:23:00
2018-05-20 00:23:04.523  INFO 12884 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-05-20 00:24:00.006 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-20 00:24:00.020 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805200009(String)
2018-05-20 00:24:00.028  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-20 00:24:00
2018-05-20 00:25:00.005 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-20 00:25:00.015 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805200010(String)
2018-05-20 00:25:00.018  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-20 00:25:00
2018-05-20 00:26:00.023 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-20 00:26:00.037 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805200011(String)
2018-05-20 00:26:00.043  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-20 00:26:00
2018-05-20 00:27:00.006 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-20 00:27:00.016 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805200012(String)
2018-05-20 00:27:00.020  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-20 00:27:00
2018-05-20 00:28:00.007 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-20 00:28:00.014 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805200013(String)
2018-05-20 00:28:00.017  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-20 00:28:00
2018-05-20 00:28:04.541  INFO 12884 --- [AsyncResolver-bootstrap-executor-0] c.n.d.s.r.aws.ConfigClusterResolver      : Resolving eureka endpoints via configuration
2018-05-20 00:29:00.005 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-20 00:29:00.018 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805200014(String)
2018-05-20 00:29:00.021  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-20 00:29:00
2018-05-20 00:30:00.004 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-20 00:30:00.011 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805200015(String)
2018-05-20 00:30:00.014  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-20 00:30:00
2018-05-20 00:31:00.006 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-20 00:31:00.046 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805200016(String)
2018-05-20 00:31:00.050  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-20 00:31:00
2018-05-20 00:32:00.006 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==>  Preparing: CALL BATCH_CANCEL_ORDER(?); 
2018-05-20 00:32:00.014 DEBUG 12884 --- [pool-8-thread-1] c.i.q.j.m.JobMapper.batchCancelOrderJob  : ==> Parameters: 1805200017(String)
2018-05-20 00:32:00.017  INFO 12884 --- [pool-8-thread-1] c.i.qugou.job.controller.JobConrtoller   : batchCancelOrderJob....执行定时任务,将15分钟内未支付的订单取消,执行成功,执行时间为=2018-05-20 00:32:00
